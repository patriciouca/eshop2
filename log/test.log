  [1m[36m (35.8ms)[0m  [1mDROP DATABASE IF EXISTS `eshop2_test`[0m
  [1m[35m (15.0ms)[0m  CREATE DATABASE `eshop2_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 820ms (Views: 818.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (1.1ms)[0m  [1mDROP DATABASE IF EXISTS `eshop2_test`[0m
  [1m[35m (0.4ms)[0m  CREATE DATABASE `eshop2_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (2.6ms)
Completed 200 OK in 474ms (Views: 473.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (33.5ms)[0m  [1mDROP DATABASE IF EXISTS `eshop2_test`[0m
  [1m[35m (0.5ms)[0m  CREATE DATABASE `eshop2_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (237.7ms)[0m  [1mCREATE TABLE `producers` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255) NOT NULL, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (274.5ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36m (499.8ms)[0m  [1mCREATE UNIQUE INDEX `unique_schema_migrations`  ON `schema_migrations` (`version`) [0m
  [1m[35m (0.4ms)[0m  SELECT version FROM `schema_migrations`
  [1m[36m (43.8ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20180402095924')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `producers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-02 11:58:38', '2018-04-02 11:58:38')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-02 11:58:38', '2018-04-02 11:58:38')[0m
  [1m[35m (82.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 770ms (Views: 769.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "publisher"=>{"name"=>"Apress.com"}}
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
Completed 400 Bad Request in 21ms (ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.7ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (5.4ms)
  Rendered admin/producer/index.html.erb within layouts/application (15.1ms)
Completed 200 OK in 27ms (Views: 25.5ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.9ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/_form.html.erb (18.5ms)
  Rendered admin/producer/edit.html.erb within layouts/application (22.9ms)
Completed 200 OK in 29ms (Views: 27.1ms | ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (0.5ms)
  Rendered admin/producer/new.html.erb within layouts/application (3.1ms)
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/show.html.erb within layouts/application (2.1ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `producers`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `producers` (`created_at`, `updated_at`, `id`) VALUES ('2018-04-02 11:59:46', '2018-04-02 11:59:46', 980190962)
  [1m[36m (97.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.9ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `producers` (`created_at`, `updated_at`, `id`) VALUES ('2018-04-02 11:59:46', '2018-04-02 11:59:46', 980190962)[0m
  [1m[35m (41.2ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `producers`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `producers` (`created_at`, `updated_at`, `id`) VALUES ('2018-04-02 11:59:46', '2018-04-02 11:59:46', 980190962)
  [1m[36m (33.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `producers` (`created_at`, `updated_at`, `id`) VALUES ('2018-04-02 11:59:46', '2018-04-02 11:59:46', 980190962)[0m
  [1m[35m (35.7ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `producers`[0m
  [1m[35mFixture Insert (0.9ms)[0m  INSERT INTO `producers` (`created_at`, `updated_at`, `id`) VALUES ('2018-04-02 11:59:47', '2018-04-02 11:59:47', 980190962)
  [1m[36m (34.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO `producers` (`created_at`, `updated_at`, `id`) VALUES ('2018-04-02 11:59:47', '2018-04-02 11:59:47', 980190962)[0m
  [1m[35m (34.7ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `producers`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `producers` (`created_at`, `updated_at`, `id`) VALUES ('2018-04-02 11:59:47', '2018-04-02 11:59:47', 980190962)
  [1m[36m (33.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO `producers` (`created_at`, `updated_at`, `id`) VALUES ('2018-04-02 11:59:47', '2018-04-02 11:59:47', 980190962)[0m
  [1m[35m (34.5ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `producers`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `producers` (`created_at`, `updated_at`, `id`) VALUES ('2018-04-02 12:01:40', '2018-04-02 12:01:40', 980190962)
  [1m[36m (132.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `producers` (`created_at`, `updated_at`, `id`) VALUES ('2018-04-02 12:01:40', '2018-04-02 12:01:40', 980190962)[0m
  [1m[35m (45.2ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.5ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `producers`[0m
  [1m[35mFixture Insert (0.9ms)[0m  INSERT INTO `producers` (`created_at`, `updated_at`, `id`) VALUES ('2018-04-02 12:01:40', '2018-04-02 12:01:40', 980190962)
  [1m[36m (44.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `producers` (`created_at`, `updated_at`, `id`) VALUES ('2018-04-02 12:01:40', '2018-04-02 12:01:40', 980190962)[0m
  [1m[35m (45.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `producers`[0m
  [1m[35mFixture Insert (0.9ms)[0m  INSERT INTO `producers` (`created_at`, `updated_at`, `id`) VALUES ('2018-04-02 12:01:40', '2018-04-02 12:01:40', 980190962)
  [1m[36m (44.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO `producers` (`created_at`, `updated_at`, `id`) VALUES ('2018-04-02 12:01:40', '2018-04-02 12:01:40', 980190962)[0m
  [1m[35m (44.2ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM `producers`[0m
  [1m[35mFixture Insert (0.9ms)[0m  INSERT INTO `producers` (`created_at`, `updated_at`, `id`) VALUES ('2018-04-02 12:01:41', '2018-04-02 12:01:41', 980190962)
  [1m[36m (33.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `producers` (`created_at`, `updated_at`, `id`) VALUES ('2018-04-02 12:01:41', '2018-04-02 12:01:41', 980190962)[0m
  [1m[35m (33.1ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `producers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-02 12:03:32', '2018-04-02 12:03:32')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-02 12:03:32', '2018-04-02 12:03:32')[0m
  [1m[35m (90.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 534ms (Views: 533.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-02 12:03:33', '2018-04-02 12:03:33')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 36ms (ActiveRecord: 1.7ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (45.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/_form.html.erb (14.2ms)
  Rendered admin/producer/edit.html.erb within layouts/application (24.4ms)
Completed 200 OK in 53ms (Views: 38.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `producers` WHERE `producers`.`id` = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 5ms (ActiveRecord: 1.4ms)
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (3.0ms)
  Rendered admin/producer/index.html.erb within layouts/application (7.1ms)
Completed 200 OK in 12ms (Views: 10.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (50.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (3.5ms)
  Rendered admin/producer/index.html.erb within layouts/application (6.8ms)
Completed 200 OK in 11ms (Views: 9.4ms | ActiveRecord: 0.8ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.8ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-02 12:03:33' WHERE `producers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 13ms (ActiveRecord: 2.7ms)
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (44.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (0.5ms)
  Rendered admin/producer/new.html.erb within layouts/application (3.2ms)
Completed 200 OK in 8ms (Views: 7.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/show.html.erb within layouts/application (2.0ms)
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 0.6ms)
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (43.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (23.4ms)[0m  [1mDELETE FROM `producers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-09 09:41:59', '2018-04-09 09:41:59')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-09 09:41:59', '2018-04-09 09:41:59')[0m
  [1m[35m (82.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (13.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `producers` WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 61ms (ActiveRecord: 14.9ms)
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.5ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (3.3ms)
  Rendered admin/producer/index.html.erb within layouts/application (37.2ms)
Completed 200 OK in 855ms (Views: 853.7ms | ActiveRecord: 0.5ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (44.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/show.html.erb within layouts/application (2.1ms)
Completed 200 OK in 21ms (Views: 19.1ms | ActiveRecord: 0.6ms)
  [1m[36mProducer Exists (17.7ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (34.0ms)
  Rendered admin/producer/new.html.erb within layouts/application (50.5ms)
Completed 200 OK in 72ms (Views: 70.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (18.6ms)[0m  UPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-09 09:42:00' WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 30ms (ActiveRecord: 20.3ms)
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (37.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (3.0ms)
  Rendered admin/producer/index.html.erb within layouts/application (5.4ms)
Completed 200 OK in 9ms (Views: 8.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.7ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-09 09:42:00', '2018-04-09 09:42:00')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 9ms (ActiveRecord: 1.8ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (38.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/_form.html.erb (0.4ms)
  Rendered admin/producer/edit.html.erb within layouts/application (4.0ms)
Completed 200 OK in 21ms (Views: 19.3ms | ActiveRecord: 0.6ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 23ms (Views: 22.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `producers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-09 10:07:46', '2018-04-09 10:07:46')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-09 10:07:46', '2018-04-09 10:07:46')[0m
  [1m[35m (131.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (2.7ms)
Completed 200 OK in 525ms (Views: 524.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (17.5ms)
  Rendered admin/producer/new.html.erb within layouts/application (26.9ms)
Completed 200 OK in 45ms (Views: 38.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/_form.html.erb (0.5ms)
  Rendered admin/producer/edit.html.erb within layouts/application (4.1ms)
Completed 200 OK in 23ms (Views: 8.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.6ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-09 10:07:46', '2018-04-09 10:07:46')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 24ms (ActiveRecord: 1.5ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (49.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (4.4ms)
  Rendered admin/producer/index.html.erb within layouts/application (8.9ms)
Completed 200 OK in 15ms (Views: 13.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/show.html.erb within layouts/application (2.1ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.6ms)
  [1m[35mProducer Exists (0.8ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `producers` WHERE `producers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 6ms (ActiveRecord: 1.5ms)
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (2.1ms)
  Rendered admin/producer/index.html.erb within layouts/application (4.7ms)
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (46.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-09 10:07:47' WHERE `producers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 13ms (ActiveRecord: 2.9ms)
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (44.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36m (427.1ms)[0m  [1mDROP DATABASE IF EXISTS `eshop2_test`[0m
  [1m[35m (0.8ms)[0m  CREATE DATABASE `eshop2_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (293.5ms)[0m  [1mCREATE TABLE `producers` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255) NOT NULL, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (324.1ms)[0m  CREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB
  [1m[36m (449.8ms)[0m  [1mCREATE UNIQUE INDEX `unique_schema_migrations`  ON `schema_migrations` (`version`) [0m
  [1m[35m (0.4ms)[0m  SELECT version FROM `schema_migrations`
  [1m[36m (43.7ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20180402095924')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.5ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36m (367.1ms)[0m  [1mDROP DATABASE IF EXISTS `eshop2_test`[0m
  [1m[35m (0.9ms)[0m  CREATE DATABASE `eshop2_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (295.5ms)[0m  [1mCREATE TABLE `directors` (`id` int(11) auto_increment PRIMARY KEY, `first_name` varchar(255), `last_name` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (342.6ms)[0m  CREATE TABLE `producers` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255) NOT NULL, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB
  [1m[36m (298.6ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (446.1ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations`  ON `schema_migrations` (`version`) 
  [1m[36m (0.6ms)[0m  [1mSELECT version FROM `schema_migrations`[0m
  [1m[35m (43.1ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20180409101101')
  [1m[36m (44.0ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20180402095924')[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.6ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mFixture Delete (0.2ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-09 10:30:07', '2018-04-09 10:30:07')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-09 10:30:07', '2018-04-09 10:30:07')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`created_at`, `updated_at`, `id`) VALUES ('2018-04-09 10:30:07', '2018-04-09 10:30:07', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`created_at`, `updated_at`, `id`) VALUES ('2018-04-09 10:30:07', '2018-04-09 10:30:07', 298486374)[0m
  [1m[35m (86.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-09 10:30:08', '2018-04-09 10:30:08')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 41ms (ActiveRecord: 1.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (36.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `producers` WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 16ms (ActiveRecord: 1.4ms)
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.5ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (3.3ms)
  Rendered admin/producer/index.html.erb within layouts/application (14.4ms)
Completed 200 OK in 538ms (Views: 536.9ms | ActiveRecord: 0.5ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (41.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (13.9ms)
  Rendered admin/producer/new.html.erb within layouts/application (19.1ms)
Completed 200 OK in 25ms (Views: 24.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.5ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (3.3ms)
  Rendered admin/producer/index.html.erb within layouts/application (5.7ms)
Completed 200 OK in 9ms (Views: 8.3ms | ActiveRecord: 0.5ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/show.html.erb within layouts/application (2.3ms)
Completed 200 OK in 9ms (Views: 7.1ms | ActiveRecord: 0.5ms)
  [1m[35mProducer Exists (0.9ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/_form.html.erb (0.4ms)
  Rendered admin/producer/edit.html.erb within layouts/application (3.7ms)
Completed 200 OK in 10ms (Views: 7.8ms | ActiveRecord: 0.5ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[36mProducer Load (1.4ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-09 10:30:08' WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 12ms (ActiveRecord: 3.3ms)
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (43.7ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `producers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-09 10:47:18', '2018-04-09 10:47:18')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-09 10:47:18', '2018-04-09 10:47:18')[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM `directors`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `directors` (`created_at`, `updated_at`, `id`) VALUES ('2018-04-09 10:47:18', '2018-04-09 10:47:18', 980190962)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors` (`created_at`, `updated_at`, `id`) VALUES ('2018-04-09 10:47:18', '2018-04-09 10:47:18', 298486374)
  [1m[36m (47.2ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `producers` WHERE `producers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 23ms (ActiveRecord: 1.5ms)
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (3.4ms)
  Rendered admin/producer/index.html.erb within layouts/application (13.8ms)
Completed 200 OK in 842ms (Views: 840.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (44.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (1.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/_form.html.erb (18.2ms)
  Rendered admin/producer/edit.html.erb within layouts/application (22.8ms)
Completed 200 OK in 32ms (Views: 28.6ms | ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (0.5ms)
  Rendered admin/producer/new.html.erb within layouts/application (3.2ms)
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 9ms (Views: 6.6ms | ActiveRecord: 0.6ms)
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-09 10:47:19' WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 12ms (ActiveRecord: 2.5ms)
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (33.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-09 10:47:19', '2018-04-09 10:47:19')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 9ms (ActiveRecord: 1.7ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (34.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (3.5ms)
  Rendered admin/producer/index.html.erb within layouts/application (6.3ms)
Completed 200 OK in 11ms (Views: 9.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------------------
Admin::DirectorControllerTest: test_should_get_edit
---------------------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Rendered admin/director/edit.html.erb within layouts/application (0.8ms)
Completed 200 OK in 12ms (Views: 11.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::DirectorControllerTest: test_should_get_new
--------------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/new.html.erb within layouts/application (0.8ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
Admin::DirectorControllerTest: test_should_get_create
-----------------------------------------------------
Processing by Admin::DirectorController#create as HTML
  Rendered admin/director/create.html.erb within layouts/application (0.8ms)
Completed 200 OK in 5ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
---------------------------------------------------
Admin::DirectorControllerTest: test_should_get_show
---------------------------------------------------
Processing by Admin::DirectorController#show as HTML
  Rendered admin/director/show.html.erb within layouts/application (0.8ms)
Completed 200 OK in 5ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------
Admin::DirectorControllerTest: test_should_get_index
----------------------------------------------------
Processing by Admin::DirectorController#index as HTML
  Rendered admin/director/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 5ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
Admin::DirectorControllerTest: test_should_get_destroy
------------------------------------------------------
Processing by Admin::DirectorController#destroy as HTML
  Rendered admin/director/destroy.html.erb within layouts/application (0.8ms)
Completed 200 OK in 5ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
Admin::DirectorControllerTest: test_should_get_update
-----------------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Rendered admin/director/update.html.erb within layouts/application (0.7ms)
Completed 200 OK in 5ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 12ms (Views: 12.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `producers`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-09 10:47:58', '2018-04-09 10:47:58')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-09 10:47:58', '2018-04-09 10:47:58')[0m
  [1m[35mFixture Delete (67.5ms)[0m  DELETE FROM `directors`
  [1m[36m (44.4ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
Admin::DirectorControllerTest: test_should_get_create
-----------------------------------------------------
Processing by Admin::DirectorController#create as HTML
  Rendered admin/director/create.html.erb within layouts/application (2.8ms)
Completed 200 OK in 616ms (Views: 615.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------------
Admin::DirectorControllerTest: test_should_get_destroy
------------------------------------------------------
Processing by Admin::DirectorController#destroy as HTML
  Rendered admin/director/destroy.html.erb within layouts/application (0.7ms)
Completed 200 OK in 5ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
Admin::DirectorControllerTest: test_should_get_show
---------------------------------------------------
Processing by Admin::DirectorController#show as HTML
  Rendered admin/director/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 5ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::DirectorControllerTest: test_should_get_new
--------------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/new.html.erb within layouts/application (0.7ms)
Completed 200 OK in 5ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------------
Admin::DirectorControllerTest: test_should_get_update
-----------------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Rendered admin/director/update.html.erb within layouts/application (0.7ms)
Completed 200 OK in 5ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------------------
Admin::DirectorControllerTest: test_should_get_index
----------------------------------------------------
Processing by Admin::DirectorController#index as HTML
  Rendered admin/director/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------------------
Admin::DirectorControllerTest: test_should_get_edit
---------------------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Rendered admin/director/edit.html.erb within layouts/application (0.7ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 12ms (Views: 11.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.6ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-09 10:47:59', '2018-04-09 10:47:59')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 35ms (ActiveRecord: 1.5ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (34.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `producers` WHERE `producers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 15ms (ActiveRecord: 1.6ms)
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (3.3ms)
  Rendered admin/producer/index.html.erb within layouts/application (12.8ms)
Completed 200 OK in 25ms (Views: 23.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (37.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (3.7ms)
  Rendered admin/producer/index.html.erb within layouts/application (7.0ms)
Completed 200 OK in 11ms (Views: 9.7ms | ActiveRecord: 0.8ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.8ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-09 10:47:59' WHERE `producers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 13ms (ActiveRecord: 2.7ms)
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (44.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/show.html.erb within layouts/application (3.2ms)
Completed 200 OK in 11ms (Views: 8.7ms | ActiveRecord: 0.8ms)
  [1m[36mProducer Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/_form.html.erb (14.9ms)
  Rendered admin/producer/edit.html.erb within layouts/application (21.2ms)
Completed 200 OK in 28ms (Views: 25.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (0.5ms)
  Rendered admin/producer/new.html.erb within layouts/application (3.2ms)
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `producers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-09 11:35:13', '2018-04-09 11:35:13')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-09 11:35:13', '2018-04-09 11:35:13')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `directors`
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-09 11:35:13', '2018-04-09 11:35:13')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-09 11:35:13', '2018-04-09 11:35:13')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-09 11:35:13', '2018-04-09 11:35:13')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-09 11:35:13', '2018-04-09 11:35:13')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-09 11:35:13', '2018-04-09 11:35:13')[0m
  [1m[35m (35.1ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-09 11:35:14', '2018-04-09 11:35:14')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (31.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `producers` WHERE `producers`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 22ms (ActiveRecord: 1.7ms)
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (3.5ms)
  Rendered admin/producer/index.html.erb within layouts/application (14.5ms)
Completed 200 OK in 536ms (Views: 534.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (95.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (1.1ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (3.3ms)
  Rendered admin/producer/index.html.erb within layouts/application (7.3ms)
Completed 200 OK in 12ms (Views: 9.9ms | ActiveRecord: 1.1ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.6ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-09 11:35:14', '2018-04-09 11:35:14')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 28ms (ActiveRecord: 1.7ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (36.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.9ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/_form.html.erb (13.9ms)
  Rendered admin/producer/edit.html.erb within layouts/application (19.0ms)
Completed 200 OK in 28ms (Views: 24.3ms | ActiveRecord: 0.9ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-09 11:35:15' WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 13ms (ActiveRecord: 2.5ms)
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (40.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (0.5ms)
  Rendered admin/producer/new.html.erb within layouts/application (3.9ms)
Completed 200 OK in 10ms (Views: 9.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/show.html.erb within layouts/application (2.0ms)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.6ms)
  [1m[35mProducer Exists (0.8ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (8.5ms)
  Rendered admin/director/index.html.erb within layouts/application (13.9ms)
Completed 200 OK in 26ms (Views: 24.8ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 10ms (Views: 6.6ms | ActiveRecord: 0.7ms)
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/director/_form.html.erb (5.8ms)
  Rendered admin/director/new.html.erb within layouts/application (9.5ms)
Completed 200 OK in 31ms (Views: 13.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Spolsky"}}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `directors` SET `first_name` = 'Joseph', `updated_at` = '2018-04-09 11:35:15' WHERE `directors`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 9ms (ActiveRecord: 1.9ms)
  [1m[36mDirector Load (1.0ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (36.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.8ms)
  Rendered admin/director/new.html.erb within layouts/application (2.9ms)
Completed 200 OK in 8ms (Views: 6.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-09 11:35:15', '2018-04-09 11:35:15')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 6ms (Views: 6.8ms | ActiveRecord: 1.0ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (42.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/_form.html.erb (1.0ms)
  Rendered admin/director/edit.html.erb within layouts/application (5.6ms)
Completed 200 OK in 13ms (Views: 10.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.8ms)
  Rendered admin/director/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `directors` WHERE `directors`.`id` = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 5ms (ActiveRecord: 1.3ms)
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (7.3ms)
  Rendered admin/director/index.html.erb within layouts/application (10.3ms)
Completed 200 OK in 14ms (Views: 13.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (43.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 12ms (Views: 11.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `producers`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-09 11:41:43', '2018-04-09 11:41:43')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-09 11:41:43', '2018-04-09 11:41:43')[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM `directors`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-09 11:41:43', '2018-04-09 11:41:43')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-09 11:41:43', '2018-04-09 11:41:43')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-09 11:41:43', '2018-04-09 11:41:43')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-09 11:41:43', '2018-04-09 11:41:43')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-09 11:41:43', '2018-04-09 11:41:43')[0m
  [1m[35m (45.2ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 611ms (Views: 610.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/_form.html.erb (19.9ms)
  Rendered admin/director/edit.html.erb within layouts/application (30.2ms)
Completed 200 OK in 71ms (Views: 42.4ms | ActiveRecord: 0.9ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/director/_form.html.erb (5.4ms)
  Rendered admin/director/new.html.erb within layouts/application (8.6ms)
Completed 200 OK in 32ms (Views: 13.4ms | ActiveRecord: 0.8ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Spolsky"}}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `directors` SET `first_name` = 'Joseph', `updated_at` = '2018-04-09 11:41:44' WHERE `directors`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 10ms (ActiveRecord: 1.9ms)
  [1m[35mDirector Load (0.8ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (47.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (9.1ms)
  Rendered admin/director/index.html.erb within layouts/application (16.1ms)
Completed 200 OK in 22ms (Views: 20.7ms | ActiveRecord: 0.8ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.7ms)
  Rendered admin/director/new.html.erb within layouts/application (2.3ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/show.html.erb within layouts/application (2.5ms)
Completed 200 OK in 10ms (Views: 7.6ms | ActiveRecord: 0.6ms)
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.6ms)
  Rendered admin/director/new.html.erb within layouts/application (2.3ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-09 11:41:44', '2018-04-09 11:41:44')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 6ms (Views: 5.5ms | ActiveRecord: 1.2ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (50.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `directors` WHERE `directors`.`id` = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 5ms (ActiveRecord: 1.7ms)
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (7.0ms)
  Rendered admin/director/index.html.erb within layouts/application (9.9ms)
Completed 200 OK in 14ms (Views: 12.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (45.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-09 11:41:44', '2018-04-09 11:41:44')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (46.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/_form.html.erb (1.6ms)
  Rendered admin/producer/edit.html.erb within layouts/application (6.6ms)
Completed 200 OK in 28ms (Views: 18.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.9ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 9ms (Views: 6.9ms | ActiveRecord: 0.9ms)
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-09 11:41:44' WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 12ms (ActiveRecord: 2.9ms)
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (42.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (8.4ms)
  Rendered admin/producer/index.html.erb within layouts/application (15.6ms)
Completed 200 OK in 23ms (Views: 21.4ms | ActiveRecord: 0.8ms)
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `producers` WHERE `producers`.`id` = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 5ms (ActiveRecord: 1.5ms)
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (2.0ms)
  Rendered admin/producer/index.html.erb within layouts/application (4.3ms)
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (44.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-09 11:41:45', '2018-04-09 11:41:45')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 9ms (ActiveRecord: 1.8ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (34.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (0.6ms)
  Rendered admin/producer/new.html.erb within layouts/application (3.8ms)
Completed 200 OK in 10ms (Views: 9.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `producers`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-09 11:49:22', '2018-04-09 11:49:22')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-09 11:49:22', '2018-04-09 11:49:22')[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `directors`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-09 11:49:22', '2018-04-09 11:49:22')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-09 11:49:22', '2018-04-09 11:49:22')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-09 11:49:22', '2018-04-09 11:49:22')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-09 11:49:22', '2018-04-09 11:49:22')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-09 11:49:22', '2018-04-09 11:49:22')[0m
  [1m[35m (34.6ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/director/_form.html.erb (18.0ms)
  Rendered admin/director/new.html.erb within layouts/application (28.5ms)
Completed 200 OK in 594ms (Views: 560.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 20ms (Views: 6.7ms | ActiveRecord: 0.6ms)
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/_form.html.erb (0.6ms)
  Rendered admin/director/edit.html.erb within layouts/application (3.9ms)
Completed 200 OK in 10ms (Views: 8.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Spolsky"}}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `directors` SET `first_name` = 'Joseph', `updated_at` = '2018-04-09 11:49:23' WHERE `directors`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 11ms (ActiveRecord: 1.9ms)
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (37.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (8.4ms)
  Rendered admin/director/index.html.erb within layouts/application (14.1ms)
Completed 200 OK in 20ms (Views: 18.6ms | ActiveRecord: 0.7ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.6ms)
  Rendered admin/director/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `directors` WHERE `directors`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 6ms (ActiveRecord: 1.4ms)
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (7.9ms)
  Rendered admin/director/index.html.erb within layouts/application (11.3ms)
Completed 200 OK in 15ms (Views: 14.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (39.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (1.2ms)
  Rendered admin/director/new.html.erb within layouts/application (3.8ms)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-09 11:49:23', '2018-04-09 11:49:23')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 6ms (Views: 8.9ms | ActiveRecord: 0.9ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (39.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 12ms (Views: 11.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-09 11:49:23', '2018-04-09 11:49:23')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (39.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/_form.html.erb (1.5ms)
  Rendered admin/producer/edit.html.erb within layouts/application (6.1ms)
Completed 200 OK in 25ms (Views: 17.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (0.5ms)
  Rendered admin/producer/new.html.erb within layouts/application (3.1ms)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.8ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-09 11:49:23' WHERE `producers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 27ms (ActiveRecord: 2.4ms)
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (36.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.9ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-09 11:49:23', '2018-04-09 11:49:23')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 9ms (ActiveRecord: 1.9ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (34.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `producers` WHERE `producers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 6ms (ActiveRecord: 1.6ms)
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (3.3ms)
  Rendered admin/producer/index.html.erb within layouts/application (7.8ms)
Completed 200 OK in 13ms (Views: 11.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (76.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.9ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/show.html.erb within layouts/application (2.7ms)
Completed 200 OK in 11ms (Views: 7.9ms | ActiveRecord: 0.9ms)
  [1m[35mProducer Exists (0.8ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (3.7ms)
  Rendered admin/producer/index.html.erb within layouts/application (6.6ms)
Completed 200 OK in 10ms (Views: 9.1ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `producers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-09 11:59:10', '2018-04-09 11:59:10')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-09 11:59:10', '2018-04-09 11:59:10')[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM `directors`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-09 11:59:10', '2018-04-09 11:59:10')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-09 11:59:10', '2018-04-09 11:59:10')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-09 11:59:10', '2018-04-09 11:59:10')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-09 11:59:10', '2018-04-09 11:59:10')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-09 11:59:10', '2018-04-09 11:59:10')[0m
  [1m[35m (44.2ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-09 11:59:10', '2018-04-09 11:59:10')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (42.5ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (49.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (61.8ms)[0m  [1mDELETE FROM `producers`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-16 09:52:18', '2018-04-16 09:52:18')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-16 09:52:18', '2018-04-16 09:52:18')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `directors`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-16 09:52:18', '2018-04-16 09:52:18')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-16 09:52:18', '2018-04-16 09:52:18')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-16 09:52:18', '2018-04-16 09:52:18')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-16 09:52:18', '2018-04-16 09:52:18')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-16 09:52:18', '2018-04-16 09:52:18')[0m
  [1m[35m (72.1ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/director/_form.html.erb (39.2ms)
  Rendered admin/director/new.html.erb within layouts/application (75.5ms)
Completed 200 OK in 1102ms (Views: 961.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (22.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/_form.html.erb (1.0ms)
  Rendered admin/director/edit.html.erb within layouts/application (6.9ms)
Completed 200 OK in 100ms (Views: 25.8ms | ActiveRecord: 22.7ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.6ms)
  Rendered admin/director/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.7ms)
  Rendered admin/director/new.html.erb within layouts/application (2.5ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-16 09:52:20', '2018-04-16 09:52:20')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 7ms (Views: 6.0ms | ActiveRecord: 1.1ms)
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (41.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Spolsky"}}
  [1m[36mDirector Load (1.0ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (17.5ms)[0m  [1mUPDATE `directors` SET `first_name` = 'Joseph', `updated_at` = '2018-04-16 09:52:20' WHERE `directors`.`id` = 1[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 29ms (ActiveRecord: 19.1ms)
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (38.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM `directors` WHERE `directors`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 8ms (ActiveRecord: 2.0ms)
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (11.1ms)
  Rendered admin/director/index.html.erb within layouts/application (30.2ms)
Completed 200 OK in 36ms (Views: 34.8ms | ActiveRecord: 0.8ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (41.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (9.6ms)
  Rendered admin/director/index.html.erb within layouts/application (12.7ms)
Completed 200 OK in 17ms (Views: 15.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/show.html.erb within layouts/application (2.9ms)
Completed 200 OK in 22ms (Views: 20.2ms | ActiveRecord: 0.6ms)
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 33ms (Views: 32.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (2.5ms)
  Rendered admin/producer/new.html.erb within layouts/application (19.1ms)
Completed 200 OK in 45ms (Views: 39.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM `producers` WHERE `producers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 7ms (ActiveRecord: 1.8ms)
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (6.1ms)
  Rendered admin/producer/index.html.erb within layouts/application (27.6ms)
Completed 200 OK in 46ms (Views: 44.4ms | ActiveRecord: 0.8ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (37.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (4.6ms)
  Rendered admin/producer/index.html.erb within layouts/application (7.9ms)
Completed 200 OK in 13ms (Views: 11.0ms | ActiveRecord: 0.7ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/show.html.erb within layouts/application (3.0ms)
Completed 200 OK in 11ms (Views: 9.4ms | ActiveRecord: 0.6ms)
  [1m[36mProducer Exists (17.0ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/_form.html.erb (0.5ms)
  Rendered admin/producer/edit.html.erb within layouts/application (4.1ms)
Completed 200 OK in 12ms (Views: 9.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.7ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-16 09:52:20', '2018-04-16 09:52:20')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 11ms (ActiveRecord: 2.1ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (34.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[35mProducer Load (1.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.8ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-16 09:52:20' WHERE `producers`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 12ms (ActiveRecord: 3.1ms)
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (47.0ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-16 09:52:21', '2018-04-16 09:52:21')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (46.5ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `producers`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-16 09:54:13', '2018-04-16 09:54:13')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-16 09:54:13', '2018-04-16 09:54:13')[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `directors`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-16 09:54:13', '2018-04-16 09:54:13')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-16 09:54:13', '2018-04-16 09:54:13')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-16 09:54:13', '2018-04-16 09:54:13')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-16 09:54:13', '2018-04-16 09:54:13')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-16 09:54:13', '2018-04-16 09:54:13')[0m
  [1m[35m (80.5ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[36m (0.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-16 09:54:13', '2018-04-16 09:54:13')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (53.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (3.0ms)
Completed 200 OK in 541ms (Views: 540.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (14.4ms)
  Rendered admin/director/new.html.erb within layouts/application (23.9ms)
Completed 200 OK in 35ms (Views: 34.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Spolsky"}}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `directors` SET `first_name` = 'Joseph', `updated_at` = '2018-04-16 09:54:14' WHERE `directors`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 22ms (ActiveRecord: 1.7ms)
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (66.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/director/_form.html.erb (4.7ms)
  Rendered admin/director/new.html.erb within layouts/application (6.4ms)
Completed 200 OK in 34ms (Views: 9.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.6ms)
  Rendered admin/director/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 5ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-16 09:54:14', '2018-04-16 09:54:14')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 6ms (Views: 5.0ms | ActiveRecord: 1.1ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (52.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/_form.html.erb (0.6ms)
  Rendered admin/director/edit.html.erb within layouts/application (4.7ms)
Completed 200 OK in 11ms (Views: 9.1ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (8.5ms)
  Rendered admin/director/index.html.erb within layouts/application (13.8ms)
Completed 200 OK in 19ms (Views: 17.4ms | ActiveRecord: 0.8ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (1.0ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/show.html.erb within layouts/application (3.0ms)
Completed 200 OK in 13ms (Views: 10.4ms | ActiveRecord: 1.0ms)
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `directors` WHERE `directors`.`id` = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 5ms (ActiveRecord: 1.3ms)
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (7.0ms)
  Rendered admin/director/index.html.erb within layouts/application (10.1ms)
Completed 200 OK in 14ms (Views: 12.4ms | ActiveRecord: 0.8ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (79.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 22ms (Views: 13.6ms | ActiveRecord: 0.6ms)
  [1m[35mProducer Exists (0.8ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (1.8ms)
  Rendered admin/producer/new.html.erb within layouts/application (6.0ms)
Completed 200 OK in 12ms (Views: 10.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.8ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.5ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-16 09:54:14', '2018-04-16 09:54:14')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 9ms (ActiveRecord: 1.7ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (77.8ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `producers` WHERE `producers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 5ms (ActiveRecord: 1.5ms)
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (3.2ms)
  Rendered admin/producer/index.html.erb within layouts/application (7.3ms)
Completed 200 OK in 12ms (Views: 11.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (60.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/_form.html.erb (0.6ms)
  Rendered admin/producer/edit.html.erb within layouts/application (5.3ms)
Completed 200 OK in 13ms (Views: 10.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.5ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (4.0ms)
  Rendered admin/producer/index.html.erb within layouts/application (6.5ms)
Completed 200 OK in 10ms (Views: 9.1ms | ActiveRecord: 0.5ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-16 09:54:14' WHERE `producers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 11ms (ActiveRecord: 2.6ms)
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (60.8ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `producers`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-16 09:57:22', '2018-04-16 09:57:22')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-16 09:57:22', '2018-04-16 09:57:22')[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM `directors`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-16 09:57:22', '2018-04-16 09:57:22')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-16 09:57:22', '2018-04-16 09:57:22')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-16 09:57:22', '2018-04-16 09:57:22')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-16 09:57:22', '2018-04-16 09:57:22')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-16 09:57:22', '2018-04-16 09:57:22')[0m
  [1m[35m (44.7ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-16 09:57:22', '2018-04-16 09:57:22')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 40ms (ActiveRecord: 1.5ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (41.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (13.7ms)
  Rendered admin/producer/new.html.erb within layouts/application (24.8ms)
Completed 200 OK in 549ms (Views: 548.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/_form.html.erb (0.5ms)
  Rendered admin/producer/edit.html.erb within layouts/application (4.0ms)
Completed 200 OK in 19ms (Views: 7.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/show.html.erb within layouts/application (2.0ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.6ms)
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (5.0ms)
  Rendered admin/producer/index.html.erb within layouts/application (9.4ms)
Completed 200 OK in 14ms (Views: 13.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.8ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-16 09:57:23' WHERE `producers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 13ms (ActiveRecord: 2.6ms)
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (74.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `producers` WHERE `producers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 7ms (ActiveRecord: 2.0ms)
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (1.7ms)
  Rendered admin/producer/index.html.erb within layouts/application (3.9ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (38.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-16 09:57:23', '2018-04-16 09:57:23')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (35.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/_form.html.erb (1.8ms)
  Rendered admin/director/edit.html.erb within layouts/application (6.6ms)
Completed 200 OK in 20ms (Views: 17.3ms | ActiveRecord: 0.6ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/director/_form.html.erb (5.1ms)
  Rendered admin/director/new.html.erb within layouts/application (7.9ms)
Completed 200 OK in 29ms (Views: 12.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.6ms)
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-16 09:57:23' WHERE `directors`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 10ms (ActiveRecord: 2.3ms)
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (35.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (8.4ms)
  Rendered admin/director/index.html.erb within layouts/application (14.2ms)
Completed 200 OK in 20ms (Views: 18.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.6ms)
  Rendered admin/director/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 6ms (Views: 5.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `directors` WHERE `directors`.`id` = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 5ms (ActiveRecord: 1.3ms)
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (7.0ms)
  Rendered admin/director/index.html.erb within layouts/application (10.2ms)
Completed 200 OK in 14ms (Views: 12.6ms | ActiveRecord: 0.7ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (33.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.8ms)
  Rendered admin/director/new.html.erb within layouts/application (2.5ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-16 09:57:23', '2018-04-16 09:57:23')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 5ms (Views: 6.3ms | ActiveRecord: 0.9ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (32.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 13ms (Views: 12.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (1.3ms)[0m  [1mDROP DATABASE IF EXISTS `eshop2_test`[0m
  [1m[35m (0.4ms)[0m  CREATE DATABASE `eshop2_test` DEFAULT CHARACTER SET `utf8` COLLATE `utf8_unicode_ci`
  [1m[36m (1354.5ms)[0m  [1mCREATE TABLE `directors` (`id` int(11) auto_increment PRIMARY KEY, `first_name` varchar(255), `last_name` varchar(255), `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (275.5ms)[0m  CREATE TABLE `directors_movies` (`id` int(11) auto_increment PRIMARY KEY, `director_id` int(11) NOT NULL, `movie_id` int(11) NOT NULL, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (243.8ms)[0m  [1mCREATE  INDEX `fk_directors_movies_directors` USING btree ON `directors_movies` (`director_id`) [0m
  [1m[35m (253.7ms)[0m  CREATE  INDEX `fk_directors_movies_movies` USING btree ON `directors_movies` (`movie_id`) 
  [1m[36m (286.1ms)[0m  [1mCREATE TABLE `movies` (`id` int(11) auto_increment PRIMARY KEY, `title` varchar(255) NOT NULL, `producer_id` int(11) NOT NULL, `produced_at` datetime, `serial_number` varchar(5), `blurb` text, `length` int(11), `price` float(24), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB[0m
  [1m[35m (231.8ms)[0m  CREATE  INDEX `fk_movies_producers` USING btree ON `movies` (`producer_id`) 
  [1m[36m (264.9ms)[0m  [1mCREATE TABLE `producers` (`id` int(11) auto_increment PRIMARY KEY, `name` varchar(255) NOT NULL, `created_at` datetime NOT NULL, `updated_at` datetime NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (783.1ms)[0m  ALTER TABLE `directors_movies` ADD CONSTRAINT `fk_directors_movies_directors`
FOREIGN KEY (`director_id`)
  REFERENCES `directors` (`id`)
 ON DELETE CASCADE
  [1m[36m (659.3ms)[0m  [1mALTER TABLE `directors_movies` ADD CONSTRAINT `fk_directors_movies_movies`
FOREIGN KEY (`movie_id`)
  REFERENCES `movies` (`id`)
 ON DELETE CASCADE[0m
  [1m[35m (793.9ms)[0m  ALTER TABLE `movies` ADD CONSTRAINT `fk_movies_producers`
FOREIGN KEY (`producer_id`)
  REFERENCES `producers` (`id`)
 ON DELETE CASCADE
  [1m[36m (282.1ms)[0m  [1mCREATE TABLE `schema_migrations` (`version` varchar(255) NOT NULL) ENGINE=InnoDB[0m
  [1m[35m (400.2ms)[0m  CREATE UNIQUE INDEX `unique_schema_migrations`  ON `schema_migrations` (`version`) 
  [1m[36m (1.0ms)[0m  [1mSELECT version FROM `schema_migrations`[0m
  [1m[35m (42.9ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20180416104356')
  [1m[36m (44.3ms)[0m  [1mINSERT INTO `schema_migrations` (version) VALUES ('20180402095924')[0m
  [1m[35m (44.0ms)[0m  INSERT INTO `schema_migrations` (version) VALUES ('20180409101101')
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `directos_movies`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `directos_movies`[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `directos_movies`[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM `directos_movies`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `directos_movies`[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `directos_movies`[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `directos_movies`[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `directos_movies`[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `directos_movies`[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `directos_movies`[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `directos_movies`[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `directos_movies`[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `directos_movies`[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `directos_movies`[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `directos_movies`[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `directos_movies`[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `directos_movies`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `directos_movies`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `directos_movies`[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `directos_movies`[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `directos_movies`[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `directos_movies`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `directos_movies`[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.9ms)[0m  BEGIN
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `directos_movies`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (123.3ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.9ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-23', 45.0, '2018-04-23 10:36:26', '2018-04-23 10:36:26')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-23', 65.0, '2018-04-23 10:36:26', '2018-04-23 10:36:26')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-23', 85.0, '2018-04-23 10:36:26', '2018-04-23 10:36:26')
  [1m[36mFixture Insert (1.7ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-23', 105.0, '2018-04-23 10:36:26', '2018-04-23 10:36:26')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-23', 125.0, '2018-04-23 10:36:26', '2018-04-23 10:36:26')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-23', 145.0, '2018-04-23 10:36:26', '2018-04-23 10:36:26')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-23', 165.0, '2018-04-23 10:36:26', '2018-04-23 10:36:26')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-23', 185.0, '2018-04-23 10:36:26', '2018-04-23 10:36:26')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-23', 40.0, '2018-04-23 10:36:26', '2018-04-23 10:36:26')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-23', 40.0, '2018-04-23 10:36:26', '2018-04-23 10:36:26')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-23 10:36:26', '2018-04-23 10:36:26')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-23 10:36:26', '2018-04-23 10:36:26')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-23 10:36:26', '2018-04-23 10:36:26')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-23 10:36:26', '2018-04-23 10:36:26')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-23 10:36:26', '2018-04-23 10:36:26')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-23 10:36:26', '2018-04-23 10:36:26')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-23 10:36:26', '2018-04-23 10:36:26')
  [1m[36mFixture Delete (80.9ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-23 12:36:26', '2018-04-23 12:36:26', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-23 12:36:26', '2018-04-23 12:36:26', 2, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-23 12:36:26', '2018-04-23 12:36:26', 2, 3)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-23 12:36:26', '2018-04-23 12:36:26', 2, 4)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-23 12:36:26', '2018-04-23 12:36:26', 2, 5)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-23 12:36:26', '2018-04-23 12:36:26', 2, 6)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-23 12:36:26', '2018-04-23 12:36:26', 2, 7)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-23 12:36:26', '2018-04-23 12:36:26', 3, 8)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-23 12:36:26', '2018-04-23 12:36:26', 4, 9)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-23 12:36:26', '2018-04-23 12:36:26', 5, 10)[0m
  [1m[35m (42.0ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/_form.html.erb (19.1ms)
  Rendered admin/director/edit.html.erb within layouts/application (35.4ms)
Completed 200 OK in 1070ms (Views: 1040.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-23 10:36:27' WHERE `directors`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 11ms (ActiveRecord: 1.6ms)
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.3ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (55.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.7ms)
  Rendered admin/director/new.html.erb within layouts/application (4.6ms)
Completed 200 OK in 12ms (Views: 10.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-23 10:36:27', '2018-04-23 10:36:27')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 8ms (Views: 10.3ms | ActiveRecord: 1.3ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (192.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (9.9ms)
  Rendered admin/director/index.html.erb within layouts/application (15.5ms)
Completed 200 OK in 23ms (Views: 21.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/show.html.erb within layouts/application (2.4ms)
Completed 200 OK in 9ms (Views: 6.9ms | ActiveRecord: 0.6ms)
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/director/_form.html.erb (5.3ms)
  Rendered admin/director/new.html.erb within layouts/application (7.5ms)
Completed 200 OK in 40ms (Views: 10.9ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.7ms)
  Rendered admin/director/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `directors` WHERE `directors`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 58ms (ActiveRecord: 3.7ms)
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.5ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (13.0ms)
  Rendered admin/director/index.html.erb within layouts/application (15.8ms)
Completed 200 OK in 23ms (Views: 21.9ms | ActiveRecord: 0.5ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (60.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 19ms (Views: 18.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------
MovieTest: test_create
----------------------
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.7ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-23 10:36:28', '12425', 'A great movie', 375, 45.5, '2018-04-23 10:36:28', '2018-04-23 10:36:28')[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 23, '2018-04-23 10:36:28', '2018-04-23 10:36:28')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 23, '2018-04-23 10:36:28', '2018-04-23 10:36:28')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 23, '2018-04-23 10:36:28', '2018-04-23 10:36:28')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 23, '2018-04-23 10:36:28', '2018-04-23 10:36:28')[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 23, '2018-04-23 10:36:28', '2018-04-23 10:36:28')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (63.7ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (1.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-23 10:36:28', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-23 10:36:28', '2018-04-23 10:36:28')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 24, '2018-04-23 10:36:28', '2018-04-23 10:36:28')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 24, '2018-04-23 10:36:28', '2018-04-23 10:36:28')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProducer Load (0.9ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 24 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (85.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.5ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-23 10:36:28', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-23 10:36:28', '2018-04-23 10:36:28')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 25, '2018-04-23 10:36:28', '2018-04-23 10:36:28')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 25, '2018-04-23 10:36:28', '2018-04-23 10:36:28')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 25 LIMIT 1[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 25
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1
  [1m[36m (37.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-23 10:36:29', '2018-04-23 10:36:29')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (46.1ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
----------------------------------------
MovieControllerTest: test_should_get_new
----------------------------------------
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
MovieControllerTest: test_should_get_show
-----------------------------------------
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
MovieControllerTest: test_should_get_create
-------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
MovieControllerTest: test_should_get_destroy
--------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
MovieControllerTest: test_should_get_index
------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
MovieControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
MovieControllerTest: test_should_get_update
-------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/_form.html.erb (1.7ms)
  Rendered admin/producer/edit.html.erb within layouts/application (6.9ms)
Completed 200 OK in 21ms (Views: 19.1ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-23 10:36:29', '2018-04-23 10:36:29')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 10ms (ActiveRecord: 1.5ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (40.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.7ms)[0m  DELETE FROM `producers` WHERE `producers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 8ms (ActiveRecord: 3.0ms)
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (3.6ms)
  Rendered admin/producer/index.html.erb within layouts/application (8.5ms)
Completed 200 OK in 15ms (Views: 13.6ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (107.8ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/show.html.erb within layouts/application (3.2ms)
Completed 200 OK in 11ms (Views: 8.4ms | ActiveRecord: 0.8ms)
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (3.5ms)
  Rendered admin/producer/index.html.erb within layouts/application (6.3ms)
Completed 200 OK in 10ms (Views: 8.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (0.5ms)
  Rendered admin/producer/new.html.erb within layouts/application (3.1ms)
Completed 200 OK in 7ms (Views: 6.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.8ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-23 10:36:29' WHERE `producers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 11ms (ActiveRecord: 2.5ms)
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (45.7ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (13.2ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.8ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (71.7ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (13.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-26', 45.0, '2018-04-26 09:54:20', '2018-04-26 09:54:20')
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-26', 65.0, '2018-04-26 09:54:20', '2018-04-26 09:54:20')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-26', 85.0, '2018-04-26 09:54:20', '2018-04-26 09:54:20')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-26', 105.0, '2018-04-26 09:54:20', '2018-04-26 09:54:20')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-26', 125.0, '2018-04-26 09:54:20', '2018-04-26 09:54:20')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-26', 145.0, '2018-04-26 09:54:20', '2018-04-26 09:54:20')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-26', 165.0, '2018-04-26 09:54:20', '2018-04-26 09:54:20')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-26', 185.0, '2018-04-26 09:54:20', '2018-04-26 09:54:20')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-26', 40.0, '2018-04-26 09:54:20', '2018-04-26 09:54:20')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-26', 40.0, '2018-04-26 09:54:20', '2018-04-26 09:54:20')[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-26 09:54:20', '2018-04-26 09:54:20')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-26 09:54:20', '2018-04-26 09:54:20')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (1.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-26 09:54:20', '2018-04-26 09:54:20')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-26 09:54:20', '2018-04-26 09:54:20')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-26 09:54:20', '2018-04-26 09:54:20')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-26 09:54:20', '2018-04-26 09:54:20')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-26 09:54:20', '2018-04-26 09:54:20')
  [1m[36mFixture Delete (94.9ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 11:54:20', '2018-04-26 11:54:20', 1, 1)
  [1m[36mFixture Insert (1.1ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 11:54:20', '2018-04-26 11:54:20', 2, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 11:54:20', '2018-04-26 11:54:20', 2, 3)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 11:54:20', '2018-04-26 11:54:20', 2, 4)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 11:54:20', '2018-04-26 11:54:20', 2, 5)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 11:54:20', '2018-04-26 11:54:20', 2, 6)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 11:54:20', '2018-04-26 11:54:20', 2, 7)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 11:54:20', '2018-04-26 11:54:20', 3, 8)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 11:54:20', '2018-04-26 11:54:20', 4, 9)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 11:54:20', '2018-04-26 11:54:20', 5, 10)[0m
  [1m[35m (57.2ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (16.7ms)
  Rendered admin/director/new.html.erb within layouts/application (27.6ms)
Completed 200 OK in 789ms (Views: 777.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-26 09:54:21', '2018-04-26 09:54:21')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 8ms (Views: 777.5ms | ActiveRecord: 1.3ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (40.7ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/director/_form.html.erb (4.7ms)
  Rendered admin/director/new.html.erb within layouts/application (6.5ms)
Completed 200 OK in 36ms (Views: 9.3ms | ActiveRecord: 0.8ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `directors` WHERE `directors`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 56ms (ActiveRecord: 3.4ms)
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (8.2ms)
  Rendered admin/director/index.html.erb within layouts/application (14.8ms)
Completed 200 OK in 28ms (Views: 26.9ms | ActiveRecord: 0.7ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (42.7ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (1.0ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/_form.html.erb (0.6ms)
  Rendered admin/director/edit.html.erb within layouts/application (3.8ms)
Completed 200 OK in 12ms (Views: 9.2ms | ActiveRecord: 1.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/show.html.erb within layouts/application (2.1ms)
Completed 200 OK in 9ms (Views: 6.2ms | ActiveRecord: 0.7ms)
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (7.1ms)
  Rendered admin/director/index.html.erb within layouts/application (9.7ms)
Completed 200 OK in 13ms (Views: 11.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.6ms)
  Rendered admin/director/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-26 09:54:21' WHERE `directors`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 10ms (ActiveRecord: 1.7ms)
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (44.0ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-------------------------------------------
MovieControllerTest: test_should_get_create
-------------------------------------------
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------
MovieControllerTest: test_should_get_destroy
--------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-----------------------------------------
MovieControllerTest: test_should_get_show
-----------------------------------------
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
MovieControllerTest: test_should_get_update
-------------------------------------------
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
MovieControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
MovieControllerTest: test_should_get_index
------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
MovieControllerTest: test_should_get_new
----------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/show.html.erb within layouts/application (2.6ms)
Completed 200 OK in 23ms (Views: 14.4ms | ActiveRecord: 0.7ms)
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (1.8ms)
  Rendered admin/producer/new.html.erb within layouts/application (6.4ms)
Completed 200 OK in 12ms (Views: 11.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  DELETE FROM `producers` WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 6ms (ActiveRecord: 2.2ms)
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (4.0ms)
  Rendered admin/producer/index.html.erb within layouts/application (9.0ms)
Completed 200 OK in 14ms (Views: 13.4ms | ActiveRecord: 0.6ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (40.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/_form.html.erb (0.5ms)
  Rendered admin/producer/edit.html.erb within layouts/application (4.0ms)
Completed 200 OK in 12ms (Views: 9.1ms | ActiveRecord: 0.8ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-26 09:54:22', '2018-04-26 09:54:22')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 11ms (ActiveRecord: 1.9ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (121.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-26 09:54:22' WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 10ms (ActiveRecord: 2.5ms)
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (45.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (4.9ms)
  Rendered admin/producer/index.html.erb within layouts/application (8.1ms)
Completed 200 OK in 12ms (Views: 10.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 12ms (Views: 11.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------
MovieTest: test_create
----------------------
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-26 09:54:22', '12425', 'A great movie', 375, 45.5, '2018-04-26 09:54:22', '2018-04-26 09:54:22')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 11, '2018-04-26 09:54:22', '2018-04-26 09:54:22')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 11, '2018-04-26 09:54:22', '2018-04-26 09:54:22')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 11, '2018-04-26 09:54:22', '2018-04-26 09:54:22')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 11, '2018-04-26 09:54:22', '2018-04-26 09:54:22')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 11, '2018-04-26 09:54:22', '2018-04-26 09:54:22')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (47.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36mProducer Load (0.9ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.9ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.7ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-26 09:54:22', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-26 09:54:22', '2018-04-26 09:54:22')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 12, '2018-04-26 09:54:22', '2018-04-26 09:54:22')
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 12, '2018-04-26 09:54:22', '2018-04-26 09:54:22')[0m
  [1m[35m (0.7ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (1.0ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 12 LIMIT 1[0m
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 12
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1
  [1m[36m (39.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.8ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-26 09:54:22', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-26 09:54:22', '2018-04-26 09:54:22')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 13, '2018-04-26 09:54:22', '2018-04-26 09:54:22')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 13, '2018-04-26 09:54:22', '2018-04-26 09:54:22')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 13 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (49.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-26 09:54:22', '2018-04-26 09:54:22')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (46.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (78.1ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-26', 45.0, '2018-04-26 09:54:54', '2018-04-26 09:54:54')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-26', 65.0, '2018-04-26 09:54:54', '2018-04-26 09:54:54')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-26', 85.0, '2018-04-26 09:54:54', '2018-04-26 09:54:54')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-26', 105.0, '2018-04-26 09:54:54', '2018-04-26 09:54:54')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-26', 125.0, '2018-04-26 09:54:54', '2018-04-26 09:54:54')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-26', 145.0, '2018-04-26 09:54:54', '2018-04-26 09:54:54')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-26', 165.0, '2018-04-26 09:54:54', '2018-04-26 09:54:54')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-26', 185.0, '2018-04-26 09:54:54', '2018-04-26 09:54:54')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-26', 40.0, '2018-04-26 09:54:54', '2018-04-26 09:54:54')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-26', 40.0, '2018-04-26 09:54:54', '2018-04-26 09:54:54')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-26 09:54:54', '2018-04-26 09:54:54')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-26 09:54:54', '2018-04-26 09:54:54')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-26 09:54:54', '2018-04-26 09:54:54')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-26 09:54:54', '2018-04-26 09:54:54')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-26 09:54:54', '2018-04-26 09:54:54')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-26 09:54:54', '2018-04-26 09:54:54')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-26 09:54:54', '2018-04-26 09:54:54')
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 11:54:54', '2018-04-26 11:54:54', 1, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 11:54:54', '2018-04-26 11:54:54', 2, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 11:54:54', '2018-04-26 11:54:54', 2, 3)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 11:54:54', '2018-04-26 11:54:54', 2, 4)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 11:54:54', '2018-04-26 11:54:54', 2, 5)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 11:54:54', '2018-04-26 11:54:54', 2, 6)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 11:54:54', '2018-04-26 11:54:54', 2, 7)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 11:54:54', '2018-04-26 11:54:54', 3, 8)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 11:54:54', '2018-04-26 11:54:54', 4, 9)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 11:54:54', '2018-04-26 11:54:54', 5, 10)[0m
  [1m[35m (93.0ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.8ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM `directors` WHERE `directors`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 68ms (ActiveRecord: 4.3ms)
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (7.3ms)
  Rendered admin/director/index.html.erb within layouts/application (18.8ms)
Completed 200 OK in 765ms (Views: 763.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (41.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-26 09:54:55' WHERE `directors`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 16ms (ActiveRecord: 1.9ms)
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (41.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/director/_form.html.erb (17.9ms)
  Rendered admin/director/new.html.erb within layouts/application (21.7ms)
Completed 200 OK in 59ms (Views: 25.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/_form.html.erb (0.7ms)
  Rendered admin/director/edit.html.erb within layouts/application (4.1ms)
Completed 200 OK in 10ms (Views: 8.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.7ms)
  Rendered admin/director/new.html.erb within layouts/application (2.5ms)
Completed 200 OK in 6ms (Views: 5.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.5ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (7.2ms)
  Rendered admin/director/index.html.erb within layouts/application (9.8ms)
Completed 200 OK in 13ms (Views: 12.0ms | ActiveRecord: 0.5ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/show.html.erb within layouts/application (3.6ms)
Completed 200 OK in 12ms (Views: 9.1ms | ActiveRecord: 0.9ms)
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.6ms)
  Rendered admin/director/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 5ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-26 09:54:56', '2018-04-26 09:54:56')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 7ms (Views: 4.9ms | ActiveRecord: 0.9ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (41.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.8ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (4.8ms)
  Rendered admin/producer/index.html.erb within layouts/application (15.9ms)
Completed 200 OK in 28ms (Views: 26.1ms | ActiveRecord: 0.8ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (1.8ms)
  Rendered admin/producer/new.html.erb within layouts/application (5.5ms)
Completed 200 OK in 11ms (Views: 9.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  UPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-26 09:54:56' WHERE `producers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 26ms (ActiveRecord: 2.9ms)
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (46.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-26 09:54:56', '2018-04-26 09:54:56')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 10ms (ActiveRecord: 1.9ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (46.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.9ms)[0m  DELETE FROM `producers` WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 8ms (ActiveRecord: 3.2ms)
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (2.2ms)
  Rendered admin/producer/index.html.erb within layouts/application (4.8ms)
Completed 200 OK in 9ms (Views: 7.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (47.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 10ms (Views: 7.1ms | ActiveRecord: 0.8ms)
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/_form.html.erb (0.5ms)
  Rendered admin/producer/edit.html.erb within layouts/application (4.4ms)
Completed 200 OK in 12ms (Views: 10.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-26 09:54:56', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-26 09:54:56', '2018-04-26 09:54:56')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 14, '2018-04-26 09:54:56', '2018-04-26 09:54:56')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 14, '2018-04-26 09:54:56', '2018-04-26 09:54:56')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 14 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (40.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------
MovieTest: test_create
----------------------
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-26 09:54:56', '12425', 'A great movie', 375, 45.5, '2018-04-26 09:54:56', '2018-04-26 09:54:56')[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 15, '2018-04-26 09:54:56', '2018-04-26 09:54:56')
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 15, '2018-04-26 09:54:56', '2018-04-26 09:54:56')[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 15, '2018-04-26 09:54:56', '2018-04-26 09:54:56')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 15, '2018-04-26 09:54:56', '2018-04-26 09:54:56')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 15, '2018-04-26 09:54:56', '2018-04-26 09:54:56')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (44.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36mProducer Load (0.4ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-26 09:54:56', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-26 09:54:56', '2018-04-26 09:54:56')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 16, '2018-04-26 09:54:56', '2018-04-26 09:54:56')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 16, '2018-04-26 09:54:56', '2018-04-26 09:54:56')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 16 LIMIT 1[0m
  [1m[35m (1.2ms)[0m  SELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 16
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35m (1.2ms)[0m  SELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1
  [1m[36m (48.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-26 09:54:56', '2018-04-26 09:54:56')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (44.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 12ms (Views: 12.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (77.0ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-26', 45.0, '2018-04-26 10:34:27', '2018-04-26 10:34:27')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-26', 65.0, '2018-04-26 10:34:27', '2018-04-26 10:34:27')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-26', 85.0, '2018-04-26 10:34:27', '2018-04-26 10:34:27')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-26', 105.0, '2018-04-26 10:34:27', '2018-04-26 10:34:27')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-26', 125.0, '2018-04-26 10:34:27', '2018-04-26 10:34:27')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-26', 145.0, '2018-04-26 10:34:27', '2018-04-26 10:34:27')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-26', 165.0, '2018-04-26 10:34:27', '2018-04-26 10:34:27')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-26', 185.0, '2018-04-26 10:34:27', '2018-04-26 10:34:27')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:34:27', '2018-04-26 10:34:27')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:34:27', '2018-04-26 10:34:27')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-26 10:34:27', '2018-04-26 10:34:27')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-26 10:34:27', '2018-04-26 10:34:27')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-26 10:34:27', '2018-04-26 10:34:27')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-26 10:34:27', '2018-04-26 10:34:27')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-26 10:34:27', '2018-04-26 10:34:27')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-26 10:34:27', '2018-04-26 10:34:27')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-26 10:34:27', '2018-04-26 10:34:27')
  [1m[36mFixture Delete (63.3ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:34:27', '2018-04-26 12:34:27', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:34:27', '2018-04-26 12:34:27', 2, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:34:27', '2018-04-26 12:34:27', 2, 3)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:34:27', '2018-04-26 12:34:27', 2, 4)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:34:27', '2018-04-26 12:34:27', 2, 5)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:34:27', '2018-04-26 12:34:27', 2, 6)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:34:27', '2018-04-26 12:34:27', 2, 7)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:34:27', '2018-04-26 12:34:27', 3, 8)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:34:27', '2018-04-26 12:34:27', 4, 9)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:34:27', '2018-04-26 12:34:27', 5, 10)[0m
  [1m[35m (42.6ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/director/_form.html.erb (15.2ms)
  Rendered admin/director/new.html.erb within layouts/application (23.9ms)
Completed 200 OK in 957ms (Views: 923.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-26 10:34:29' WHERE `directors`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 24ms (ActiveRecord: 1.7ms)
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (47.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/_form.html.erb (1.2ms)
  Rendered admin/director/edit.html.erb within layouts/application (6.1ms)
Completed 200 OK in 14ms (Views: 11.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.7ms)
  Rendered admin/director/new.html.erb within layouts/application (2.2ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/show.html.erb within layouts/application (2.4ms)
Completed 200 OK in 9ms (Views: 6.8ms | ActiveRecord: 0.6ms)
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM `directors` WHERE `directors`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 50ms (ActiveRecord: 3.5ms)
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (7.6ms)
  Rendered admin/director/index.html.erb within layouts/application (12.6ms)
Completed 200 OK in 18ms (Views: 16.8ms | ActiveRecord: 0.6ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (44.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.7ms)
  Rendered admin/director/new.html.erb within layouts/application (5.6ms)
Completed 200 OK in 14ms (Views: 12.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[36m (0.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-26 10:34:29', '2018-04-26 10:34:29')
  [1m[36m (1.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 28ms (Views: 12.8ms | ActiveRecord: 2.5ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (83.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (18.3ms)
  Rendered admin/director/index.html.erb within layouts/application (23.2ms)
Completed 200 OK in 29ms (Views: 27.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.6ms)[0m  [1mDELETE FROM `producers` WHERE `producers`.`id` = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 21ms (ActiveRecord: 2.6ms)
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (6.5ms)
  Rendered admin/producer/index.html.erb within layouts/application (12.4ms)
Completed 200 OK in 30ms (Views: 27.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (48.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/_form.html.erb (3.0ms)
  Rendered admin/producer/edit.html.erb within layouts/application (10.2ms)
Completed 200 OK in 21ms (Views: 17.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (0.6ms)
  Rendered admin/producer/new.html.erb within layouts/application (6.7ms)
Completed 200 OK in 14ms (Views: 13.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/show.html.erb within layouts/application (3.2ms)
Completed 200 OK in 13ms (Views: 9.5ms | ActiveRecord: 0.6ms)
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-26 10:34:29' WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 16ms (ActiveRecord: 2.5ms)
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (42.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-26 10:34:29', '2018-04-26 10:34:29')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 12ms (ActiveRecord: 1.7ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (127.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (5.6ms)
  Rendered admin/producer/index.html.erb within layouts/application (8.1ms)
Completed 200 OK in 13ms (Views: 11.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------
MovieControllerTest: test_should_get_show
-----------------------------------------
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
MovieControllerTest: test_should_get_create
-------------------------------------------
  [1m[35m (2.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------
MovieControllerTest: test_should_get_destroy
--------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
MovieControllerTest: test_should_get_edit
-----------------------------------------
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
MovieControllerTest: test_should_get_update
-------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
MovieControllerTest: test_should_get_index
------------------------------------------
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
MovieControllerTest: test_should_get_new
----------------------------------------
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------
MovieTest: test_create
----------------------
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT `directors`.* FROM `directors`
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-26 10:34:30', '12425', 'A great movie', 375, 45.5, '2018-04-26 10:34:30', '2018-04-26 10:34:30')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 20, '2018-04-26 10:34:30', '2018-04-26 10:34:30')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 20, '2018-04-26 10:34:30', '2018-04-26 10:34:30')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 20, '2018-04-26 10:34:30', '2018-04-26 10:34:30')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 20, '2018-04-26 10:34:30', '2018-04-26 10:34:30')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 20, '2018-04-26 10:34:30', '2018-04-26 10:34:30')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (91.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.7ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-26 10:34:30', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-26 10:34:30', '2018-04-26 10:34:30')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 21, '2018-04-26 10:34:30', '2018-04-26 10:34:30')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 21, '2018-04-26 10:34:30', '2018-04-26 10:34:30')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 21 LIMIT 1[0m
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 21
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1
  [1m[36m (49.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-26 10:34:30', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-26 10:34:30', '2018-04-26 10:34:30')[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 22, '2018-04-26 10:34:30', '2018-04-26 10:34:30')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 22, '2018-04-26 10:34:30', '2018-04-26 10:34:30')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 22 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (50.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 14ms (Views: 13.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-26 10:34:30', '2018-04-26 10:34:30')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (51.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (97.4ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-26', 45.0, '2018-04-26 10:36:00', '2018-04-26 10:36:00')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-26', 65.0, '2018-04-26 10:36:00', '2018-04-26 10:36:00')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-26', 85.0, '2018-04-26 10:36:00', '2018-04-26 10:36:00')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-26', 105.0, '2018-04-26 10:36:00', '2018-04-26 10:36:00')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-26', 125.0, '2018-04-26 10:36:00', '2018-04-26 10:36:00')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-26', 145.0, '2018-04-26 10:36:00', '2018-04-26 10:36:00')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-26', 165.0, '2018-04-26 10:36:00', '2018-04-26 10:36:00')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-26', 185.0, '2018-04-26 10:36:00', '2018-04-26 10:36:00')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:36:00', '2018-04-26 10:36:00')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:36:00', '2018-04-26 10:36:00')[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-26 10:36:01', '2018-04-26 10:36:01')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-26 10:36:01', '2018-04-26 10:36:01')
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-26 10:36:01', '2018-04-26 10:36:01')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-26 10:36:01', '2018-04-26 10:36:01')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-26 10:36:01', '2018-04-26 10:36:01')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-26 10:36:01', '2018-04-26 10:36:01')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-26 10:36:01', '2018-04-26 10:36:01')
  [1m[36mFixture Delete (85.8ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:36:00', '2018-04-26 12:36:00', 1, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:36:00', '2018-04-26 12:36:00', 2, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:36:00', '2018-04-26 12:36:00', 2, 3)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:36:00', '2018-04-26 12:36:00', 2, 4)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:36:00', '2018-04-26 12:36:00', 2, 5)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:36:00', '2018-04-26 12:36:00', 2, 6)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:36:00', '2018-04-26 12:36:00', 2, 7)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:36:00', '2018-04-26 12:36:00', 3, 8)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:36:00', '2018-04-26 12:36:00', 4, 9)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:36:00', '2018-04-26 12:36:00', 5, 10)[0m
  [1m[35m (35.8ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 660ms (Views: 659.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
MovieControllerTest: test_should_get_destroy
--------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
MovieControllerTest: test_should_get_new
----------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
MovieControllerTest: test_should_get_index
------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
MovieControllerTest: test_should_get_update
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
MovieControllerTest: test_should_get_show
-----------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
MovieControllerTest: test_should_get_create
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
MovieControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-26 10:36:02', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-26 10:36:02', '2018-04-26 10:36:02')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 23, '2018-04-26 10:36:02', '2018-04-26 10:36:02')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 23, '2018-04-26 10:36:02', '2018-04-26 10:36:02')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 23 LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (38.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[35mDirector Load (0.8ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-26 10:36:02', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-26 10:36:02', '2018-04-26 10:36:02')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 24, '2018-04-26 10:36:02', '2018-04-26 10:36:02')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 24, '2018-04-26 10:36:02', '2018-04-26 10:36:02')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 24 LIMIT 1
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 24[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35m (38.8ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------
MovieTest: test_create
----------------------
  [1m[35mProducer Load (0.9ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-26 10:36:02', '12425', 'A great movie', 375, 45.5, '2018-04-26 10:36:02', '2018-04-26 10:36:02')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 25, '2018-04-26 10:36:02', '2018-04-26 10:36:02')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 25, '2018-04-26 10:36:02', '2018-04-26 10:36:02')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 25, '2018-04-26 10:36:02', '2018-04-26 10:36:02')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 25, '2018-04-26 10:36:02', '2018-04-26 10:36:02')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 25, '2018-04-26 10:36:02', '2018-04-26 10:36:02')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (40.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/_form.html.erb (14.6ms)
  Rendered admin/producer/edit.html.erb within layouts/application (25.1ms)
Completed 200 OK in 38ms (Views: 36.3ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (4.6ms)
  Rendered admin/producer/index.html.erb within layouts/application (9.0ms)
Completed 200 OK in 14ms (Views: 12.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (0.4ms)
  Rendered admin/producer/new.html.erb within layouts/application (2.9ms)
Completed 200 OK in 7ms (Views: 6.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.8ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-26 10:36:02' WHERE `producers`.`id` = 1[0m
  [1m[35m (0.6ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 17ms (ActiveRecord: 3.1ms)
  [1m[36mProducer Load (2.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (45.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/show.html.erb within layouts/application (2.3ms)
Completed 200 OK in 10ms (Views: 7.0ms | ActiveRecord: 0.8ms)
  [1m[36mProducer Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-26 10:36:02', '2018-04-26 10:36:02')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 52ms (ActiveRecord: 1.7ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (39.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.8ms)[0m  DELETE FROM `producers` WHERE `producers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 9ms (ActiveRecord: 3.2ms)
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.5ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (2.4ms)
  Rendered admin/producer/index.html.erb within layouts/application (4.9ms)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.5ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (111.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-26 10:36:02', '2018-04-26 10:36:02')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (42.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (1.6ms)
  Rendered admin/director/new.html.erb within layouts/application (4.8ms)
Completed 200 OK in 16ms (Views: 14.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-26 10:36:02', '2018-04-26 10:36:02')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 7ms (Views: 14.9ms | ActiveRecord: 1.1ms)
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (127.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 11ms (Views: 6.5ms | ActiveRecord: 0.7ms)
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/director/_form.html.erb (4.7ms)
  Rendered admin/director/new.html.erb within layouts/application (6.3ms)
Completed 200 OK in 16ms (Views: 9.3ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.6ms)
  Rendered admin/director/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-26 10:36:03' WHERE `directors`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 9ms (ActiveRecord: 1.8ms)
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (45.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.9ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/_form.html.erb (0.7ms)
  Rendered admin/director/edit.html.erb within layouts/application (5.0ms)
Completed 200 OK in 13ms (Views: 10.0ms | ActiveRecord: 0.9ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (9.4ms)
  Rendered admin/director/index.html.erb within layouts/application (14.3ms)
Completed 200 OK in 19ms (Views: 17.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `directors` WHERE `directors`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 8ms (ActiveRecord: 2.3ms)
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (6.8ms)
  Rendered admin/director/index.html.erb within layouts/application (9.7ms)
Completed 200 OK in 13ms (Views: 12.1ms | ActiveRecord: 0.6ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (41.7ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (102.4ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-26', 45.0, '2018-04-26 10:36:54', '2018-04-26 10:36:54')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-26', 65.0, '2018-04-26 10:36:54', '2018-04-26 10:36:54')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-26', 85.0, '2018-04-26 10:36:54', '2018-04-26 10:36:54')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-26', 105.0, '2018-04-26 10:36:54', '2018-04-26 10:36:54')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-26', 125.0, '2018-04-26 10:36:54', '2018-04-26 10:36:54')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-26', 145.0, '2018-04-26 10:36:54', '2018-04-26 10:36:54')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-26', 165.0, '2018-04-26 10:36:54', '2018-04-26 10:36:54')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-26', 185.0, '2018-04-26 10:36:54', '2018-04-26 10:36:54')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:36:54', '2018-04-26 10:36:54')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:36:54', '2018-04-26 10:36:54')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-26 10:36:54', '2018-04-26 10:36:54')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-26 10:36:54', '2018-04-26 10:36:54')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-26 10:36:54', '2018-04-26 10:36:54')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-26 10:36:54', '2018-04-26 10:36:54')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-26 10:36:54', '2018-04-26 10:36:54')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-26 10:36:54', '2018-04-26 10:36:54')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-26 10:36:54', '2018-04-26 10:36:54')
  [1m[36mFixture Delete (85.2ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:36:54', '2018-04-26 12:36:54', 1, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:36:54', '2018-04-26 12:36:54', 2, 2)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:36:54', '2018-04-26 12:36:54', 2, 3)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:36:54', '2018-04-26 12:36:54', 2, 4)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:36:54', '2018-04-26 12:36:54', 2, 5)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:36:54', '2018-04-26 12:36:54', 2, 6)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:36:54', '2018-04-26 12:36:54', 2, 7)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:36:54', '2018-04-26 12:36:54', 3, 8)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:36:54', '2018-04-26 12:36:54', 4, 9)
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:36:54', '2018-04-26 12:36:54', 5, 10)[0m
  [1m[35m (43.6ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 691ms (Views: 690.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------
MovieTest: test_create
----------------------
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-26 10:36:55', '12425', 'A great movie', 375, 45.5, '2018-04-26 10:36:55', '2018-04-26 10:36:55')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 26, '2018-04-26 10:36:55', '2018-04-26 10:36:55')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 26, '2018-04-26 10:36:55', '2018-04-26 10:36:55')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 26, '2018-04-26 10:36:55', '2018-04-26 10:36:55')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 26, '2018-04-26 10:36:55', '2018-04-26 10:36:55')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 26, '2018-04-26 10:36:55', '2018-04-26 10:36:55')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (76.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[36mProducer Load (0.9ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.7ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-26 10:36:55', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-26 10:36:55', '2018-04-26 10:36:55')[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 27, '2018-04-26 10:36:55', '2018-04-26 10:36:55')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 27, '2018-04-26 10:36:55', '2018-04-26 10:36:55')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProducer Load (1.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 27 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (75.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35mProducer Load (0.3ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-26 10:36:55', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-26 10:36:55', '2018-04-26 10:36:55')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 28, '2018-04-26 10:36:55', '2018-04-26 10:36:55')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 28, '2018-04-26 10:36:55', '2018-04-26 10:36:55')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 28 LIMIT 1
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 28[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35m (48.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-26 10:36:55', '2018-04-26 10:36:55')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (48.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-26 10:36:55' WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 15ms (ActiveRecord: 2.6ms)
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (50.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-26 10:36:56', '2018-04-26 10:36:56')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 10ms (ActiveRecord: 1.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (34.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (4.6ms)
  Rendered admin/producer/index.html.erb within layouts/application (14.0ms)
Completed 200 OK in 27ms (Views: 25.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (13.9ms)
  Rendered admin/producer/new.html.erb within layouts/application (17.6ms)
Completed 200 OK in 22ms (Views: 21.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mDELETE FROM `producers` WHERE `producers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 7ms (ActiveRecord: 2.0ms)
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (1.0ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (3.0ms)
  Rendered admin/producer/index.html.erb within layouts/application (6.3ms)
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 1.0ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (79.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (1.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 10ms (Views: 7.0ms | ActiveRecord: 1.0ms)
  [1m[35mProducer Exists (0.8ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/_form.html.erb (0.4ms)
  Rendered admin/producer/edit.html.erb within layouts/application (3.8ms)
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------
MovieControllerTest: test_should_get_edit
-----------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
MovieControllerTest: test_should_get_create
-------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
MovieControllerTest: test_should_get_index
------------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
MovieControllerTest: test_should_get_new
----------------------------------------
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------
MovieControllerTest: test_should_get_destroy
--------------------------------------------
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
MovieControllerTest: test_should_get_show
-----------------------------------------
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
MovieControllerTest: test_should_get_update
-------------------------------------------
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/show.html.erb within layouts/application (2.0ms)
Completed 200 OK in 16ms (Views: 12.5ms | ActiveRecord: 0.6ms)
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (2.0ms)
  Rendered admin/director/new.html.erb within layouts/application (6.1ms)
Completed 200 OK in 10ms (Views: 9.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-26 10:36:56', '2018-04-26 10:36:56')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 6ms (Views: 9.6ms | ActiveRecord: 0.9ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (40.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (8.8ms)
  Rendered admin/director/index.html.erb within layouts/application (15.4ms)
Completed 200 OK in 21ms (Views: 19.2ms | ActiveRecord: 0.7ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `directors` WHERE `directors`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 9ms (ActiveRecord: 2.9ms)
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (7.2ms)
  Rendered admin/director/index.html.erb within layouts/application (10.8ms)
Completed 200 OK in 15ms (Views: 13.5ms | ActiveRecord: 0.8ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (85.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/_form.html.erb (0.9ms)
  Rendered admin/director/edit.html.erb within layouts/application (5.5ms)
Completed 200 OK in 12ms (Views: 10.0ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[35mDirector Load (0.8ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-26 10:36:56' WHERE `directors`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 12ms (ActiveRecord: 2.3ms)
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (43.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/director/_form.html.erb (4.5ms)
  Rendered admin/director/new.html.erb within layouts/application (6.2ms)
Completed 200 OK in 16ms (Views: 9.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.6ms)
  Rendered admin/director/new.html.erb within layouts/application (2.5ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-26 10:36:56', '2018-04-26 10:36:56')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-26 10:36:56', '2018-04-26 10:36:56')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1[0m
  [1m[35mProducer Load (0.4ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-26 12:36:56 +0200
Processing by Admin::MovieController#new as HTML
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (26.3ms)
  Rendered admin/movie/new.html.erb within layouts/application (29.7ms)
Completed 200 OK in 59ms (Views: 39.6ms | ActiveRecord: 1.3ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-26 12:36:56 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"9", "director_ids"=>["18"], "produced_at"=>"2018-04-26 12:36:56 +0200", "serial_number"=>"123-123-123-X", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 18 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.9ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 9 LIMIT 1[0m
  [1m[35mMovie Exists (6.0ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '123-1' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (18.7ms)
  Rendered admin/movie/new.html.erb within layouts/application (20.0ms)
Completed 200 OK in 52ms (Views: 21.8ms | ActiveRecord: 9.6ms)
  [1m[35m (56.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (164.3ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-26', 45.0, '2018-04-26 10:38:00', '2018-04-26 10:38:00')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-26', 65.0, '2018-04-26 10:38:00', '2018-04-26 10:38:00')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-26', 85.0, '2018-04-26 10:38:00', '2018-04-26 10:38:00')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-26', 105.0, '2018-04-26 10:38:00', '2018-04-26 10:38:00')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-26', 125.0, '2018-04-26 10:38:00', '2018-04-26 10:38:00')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-26', 145.0, '2018-04-26 10:38:00', '2018-04-26 10:38:00')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-26', 165.0, '2018-04-26 10:38:00', '2018-04-26 10:38:00')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-26', 185.0, '2018-04-26 10:38:00', '2018-04-26 10:38:00')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:38:00', '2018-04-26 10:38:00')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:38:00', '2018-04-26 10:38:00')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-26 10:38:00', '2018-04-26 10:38:00')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-26 10:38:00', '2018-04-26 10:38:00')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-26 10:38:00', '2018-04-26 10:38:00')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-26 10:38:00', '2018-04-26 10:38:00')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-26 10:38:00', '2018-04-26 10:38:00')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-26 10:38:00', '2018-04-26 10:38:00')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-26 10:38:00', '2018-04-26 10:38:00')
  [1m[36mFixture Delete (61.3ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:38:00', '2018-04-26 12:38:00', 1, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:38:00', '2018-04-26 12:38:00', 2, 2)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:38:00', '2018-04-26 12:38:00', 2, 3)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:38:00', '2018-04-26 12:38:00', 2, 4)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:38:00', '2018-04-26 12:38:00', 2, 5)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:38:00', '2018-04-26 12:38:00', 2, 6)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:38:00', '2018-04-26 12:38:00', 2, 7)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:38:00', '2018-04-26 12:38:00', 3, 8)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:38:00', '2018-04-26 12:38:00', 4, 9)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:38:00', '2018-04-26 12:38:00', 5, 10)[0m
  [1m[35m (32.1ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.6ms)[0m  DELETE FROM `producers` WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 25ms (ActiveRecord: 2.6ms)
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.5ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (3.5ms)
  Rendered admin/producer/index.html.erb within layouts/application (14.7ms)
Completed 200 OK in 760ms (Views: 759.1ms | ActiveRecord: 0.5ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (79.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/_form.html.erb (16.3ms)
  Rendered admin/producer/edit.html.erb within layouts/application (21.7ms)
Completed 200 OK in 28ms (Views: 25.9ms | ActiveRecord: 0.8ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-26 10:38:01' WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 27ms (ActiveRecord: 2.5ms)
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (38.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-26 10:38:01', '2018-04-26 10:38:01')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 11ms (ActiveRecord: 1.8ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (98.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (3.4ms)
  Rendered admin/producer/index.html.erb within layouts/application (6.6ms)
Completed 200 OK in 11ms (Views: 9.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.6ms)
  [1m[36mProducer Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (0.5ms)
  Rendered admin/producer/new.html.erb within layouts/application (3.1ms)
Completed 200 OK in 7ms (Views: 6.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-26 10:38:01', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-26 10:38:01', '2018-04-26 10:38:01')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 29, '2018-04-26 10:38:01', '2018-04-26 10:38:01')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 29, '2018-04-26 10:38:01', '2018-04-26 10:38:01')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 29 LIMIT 1
  [1m[36m (1.1ms)[0m  [1mSELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 29[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35m (55.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-26 10:38:02', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-26 10:38:02', '2018-04-26 10:38:02')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 30, '2018-04-26 10:38:02', '2018-04-26 10:38:02')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 30, '2018-04-26 10:38:02', '2018-04-26 10:38:02')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 30 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (45.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------
MovieTest: test_create
----------------------
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-26 10:38:02', '12425', 'A great movie', 375, 45.5, '2018-04-26 10:38:02', '2018-04-26 10:38:02')[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 31, '2018-04-26 10:38:02', '2018-04-26 10:38:02')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 31, '2018-04-26 10:38:02', '2018-04-26 10:38:02')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 31, '2018-04-26 10:38:02', '2018-04-26 10:38:02')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 31, '2018-04-26 10:38:02', '2018-04-26 10:38:02')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 31, '2018-04-26 10:38:02', '2018-04-26 10:38:02')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (44.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-26 10:38:02', '2018-04-26 10:38:02')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-26 10:38:02', '2018-04-26 10:38:02')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-26 12:38:02 +0200
Processing by Admin::MovieController#new as HTML
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (27.4ms)
  Rendered admin/movie/new.html.erb within layouts/application (30.8ms)
Completed 200 OK in 60ms (Views: 40.6ms | ActiveRecord: 1.4ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-26 12:38:02 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"11", "director_ids"=>["19"], "produced_at"=>"2018-04-26 12:38:02 +0200", "serial_number"=>"123-123-123-X", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 19 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 11 LIMIT 1[0m
  [1m[35mMovie Exists (0.9ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '123-1' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (15.4ms)
  Rendered admin/movie/new.html.erb within layouts/application (16.9ms)
Completed 200 OK in 43ms (Views: 18.8ms | ActiveRecord: 3.8ms)
  [1m[35m (59.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (1.9ms)
  Rendered admin/director/new.html.erb within layouts/application (6.2ms)
Completed 200 OK in 18ms (Views: 17.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-26 10:38:02', '2018-04-26 10:38:02')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 7ms (Views: 17.5ms | ActiveRecord: 1.0ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (124.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (8.4ms)
  Rendered admin/director/index.html.erb within layouts/application (13.1ms)
Completed 200 OK in 19ms (Views: 17.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `directors` WHERE `directors`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 9ms (ActiveRecord: 2.2ms)
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (7.5ms)
  Rendered admin/director/index.html.erb within layouts/application (10.6ms)
Completed 200 OK in 15ms (Views: 13.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (40.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.8ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/_form.html.erb (0.7ms)
  Rendered admin/director/edit.html.erb within layouts/application (4.3ms)
Completed 200 OK in 12ms (Views: 8.8ms | ActiveRecord: 0.8ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/director/_form.html.erb (4.7ms)
  Rendered admin/director/new.html.erb within layouts/application (6.2ms)
Completed 200 OK in 15ms (Views: 9.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.6ms)
  Rendered admin/director/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 0.6ms)
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-26 10:38:02' WHERE `directors`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 8ms (ActiveRecord: 1.7ms)
  [1m[36mDirector Load (1.1ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (47.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-26 10:38:02', '2018-04-26 10:38:02')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (43.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 12ms (Views: 11.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (93.1ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-26', 45.0, '2018-04-26 10:38:51', '2018-04-26 10:38:51')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-26', 65.0, '2018-04-26 10:38:51', '2018-04-26 10:38:51')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-26', 85.0, '2018-04-26 10:38:51', '2018-04-26 10:38:51')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-26', 105.0, '2018-04-26 10:38:51', '2018-04-26 10:38:51')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-26', 125.0, '2018-04-26 10:38:51', '2018-04-26 10:38:51')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-26', 145.0, '2018-04-26 10:38:51', '2018-04-26 10:38:51')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-26', 165.0, '2018-04-26 10:38:51', '2018-04-26 10:38:51')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-26', 185.0, '2018-04-26 10:38:51', '2018-04-26 10:38:51')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:38:51', '2018-04-26 10:38:51')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:38:51', '2018-04-26 10:38:51')[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-26 10:38:52', '2018-04-26 10:38:52')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-26 10:38:52', '2018-04-26 10:38:52')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-26 10:38:52', '2018-04-26 10:38:52')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-26 10:38:52', '2018-04-26 10:38:52')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-26 10:38:52', '2018-04-26 10:38:52')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-26 10:38:52', '2018-04-26 10:38:52')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-26 10:38:52', '2018-04-26 10:38:52')
  [1m[36mFixture Delete (85.5ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:38:51', '2018-04-26 12:38:51', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:38:51', '2018-04-26 12:38:51', 2, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:38:51', '2018-04-26 12:38:51', 2, 3)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:38:51', '2018-04-26 12:38:51', 2, 4)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:38:51', '2018-04-26 12:38:51', 2, 5)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:38:51', '2018-04-26 12:38:51', 2, 6)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:38:51', '2018-04-26 12:38:51', 2, 7)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:38:51', '2018-04-26 12:38:51', 3, 8)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:38:51', '2018-04-26 12:38:51', 4, 9)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:38:51', '2018-04-26 12:38:51', 5, 10)[0m
  [1m[35m (42.3ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------
MovieTest: test_create
----------------------
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-26 10:38:52', '12425', 'A great movie', 375, 45.5, '2018-04-26 10:38:52', '2018-04-26 10:38:52')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 32, '2018-04-26 10:38:52', '2018-04-26 10:38:52')[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 32, '2018-04-26 10:38:52', '2018-04-26 10:38:52')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 32, '2018-04-26 10:38:52', '2018-04-26 10:38:52')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 32, '2018-04-26 10:38:52', '2018-04-26 10:38:52')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 32, '2018-04-26 10:38:52', '2018-04-26 10:38:52')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (46.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-26 10:38:52', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-26 10:38:52', '2018-04-26 10:38:52')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 33, '2018-04-26 10:38:52', '2018-04-26 10:38:52')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 33, '2018-04-26 10:38:52', '2018-04-26 10:38:52')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 33 LIMIT 1[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 33
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1
  [1m[36m (46.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.3ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-26 10:38:52', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-26 10:38:52', '2018-04-26 10:38:52')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 34, '2018-04-26 10:38:52', '2018-04-26 10:38:52')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 34, '2018-04-26 10:38:52', '2018-04-26 10:38:52')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 34 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (47.7ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (9.5ms)
  Rendered admin/director/index.html.erb within layouts/application (22.1ms)
Completed 200 OK in 664ms (Views: 662.6ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/_form.html.erb (14.6ms)
  Rendered admin/director/edit.html.erb within layouts/application (19.5ms)
Completed 200 OK in 27ms (Views: 24.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `directors` WHERE `directors`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 10ms (ActiveRecord: 2.6ms)
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.8ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (7.0ms)
  Rendered admin/director/index.html.erb within layouts/application (10.1ms)
Completed 200 OK in 14ms (Views: 12.9ms | ActiveRecord: 0.8ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (42.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[35mDirector Load (0.9ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.2ms)[0m  UPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-26 10:38:53' WHERE `directors`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 13ms (ActiveRecord: 2.7ms)
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (40.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.8ms)
  Rendered admin/director/new.html.erb within layouts/application (4.7ms)
Completed 200 OK in 11ms (Views: 9.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/show.html.erb within layouts/application (2.0ms)
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 0.6ms)
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (1.2ms)
  Rendered admin/director/new.html.erb within layouts/application (3.8ms)
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-26 10:38:53', '2018-04-26 10:38:53')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 6ms (Views: 7.8ms | ActiveRecord: 0.9ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (36.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/director/_form.html.erb (5.0ms)
  Rendered admin/director/new.html.erb within layouts/application (6.8ms)
Completed 200 OK in 18ms (Views: 9.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-26 10:38:53', '2018-04-26 10:38:53')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (37.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-26 10:38:53', '2018-04-26 10:38:53')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.6ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-26 10:38:53', '2018-04-26 10:38:53')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-26 12:38:53 +0200
Processing by Admin::MovieController#new as HTML
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (28.4ms)
  Rendered admin/movie/new.html.erb within layouts/application (31.6ms)
Completed 200 OK in 63ms (Views: 40.4ms | ActiveRecord: 1.4ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-26 12:38:53 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"12", "director_ids"=>["24"], "produced_at"=>"2018-04-26 12:38:53 +0200", "serial_number"=>"123-123-123-X", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 24 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 12 LIMIT 1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '123-1' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (15.4ms)
  Rendered admin/movie/new.html.erb within layouts/application (16.9ms)
Completed 200 OK in 41ms (Views: 19.0ms | ActiveRecord: 3.3ms)
  [1m[35m (94.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 12ms (Views: 11.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.5ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-26 10:38:54', '2018-04-26 10:38:54')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 10ms (ActiveRecord: 1.7ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (92.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.9ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/_form.html.erb (1.6ms)
  Rendered admin/producer/edit.html.erb within layouts/application (6.3ms)
Completed 200 OK in 22ms (Views: 18.4ms | ActiveRecord: 0.9ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (0.5ms)
  Rendered admin/producer/new.html.erb within layouts/application (3.1ms)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/show.html.erb within layouts/application (2.0ms)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 0.6ms)
  [1m[35mProducer Exists (0.7ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.3ms)[0m  [1mDELETE FROM `producers` WHERE `producers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 6ms (ActiveRecord: 2.1ms)
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (3.7ms)
  Rendered admin/producer/index.html.erb within layouts/application (8.7ms)
Completed 200 OK in 14ms (Views: 12.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (35.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (4.4ms)
  Rendered admin/producer/index.html.erb within layouts/application (7.4ms)
Completed 200 OK in 12ms (Views: 10.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.8ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-26 10:38:54' WHERE `producers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 11ms (ActiveRecord: 2.7ms)
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (34.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (73.7ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-26', 45.0, '2018-04-26 10:39:40', '2018-04-26 10:39:40')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-26', 65.0, '2018-04-26 10:39:40', '2018-04-26 10:39:40')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-26', 85.0, '2018-04-26 10:39:40', '2018-04-26 10:39:40')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-26', 105.0, '2018-04-26 10:39:40', '2018-04-26 10:39:40')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-26', 125.0, '2018-04-26 10:39:40', '2018-04-26 10:39:40')
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-26', 145.0, '2018-04-26 10:39:40', '2018-04-26 10:39:40')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-26', 165.0, '2018-04-26 10:39:40', '2018-04-26 10:39:40')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-26', 185.0, '2018-04-26 10:39:40', '2018-04-26 10:39:40')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:39:40', '2018-04-26 10:39:40')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:39:40', '2018-04-26 10:39:40')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-26 10:39:40', '2018-04-26 10:39:40')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-26 10:39:40', '2018-04-26 10:39:40')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-26 10:39:40', '2018-04-26 10:39:40')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-26 10:39:40', '2018-04-26 10:39:40')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-26 10:39:40', '2018-04-26 10:39:40')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-26 10:39:40', '2018-04-26 10:39:40')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-26 10:39:40', '2018-04-26 10:39:40')
  [1m[36mFixture Delete (61.7ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:39:40', '2018-04-26 12:39:40', 1, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:39:40', '2018-04-26 12:39:40', 2, 2)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:39:40', '2018-04-26 12:39:40', 2, 3)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:39:40', '2018-04-26 12:39:40', 2, 4)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:39:40', '2018-04-26 12:39:40', 2, 5)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:39:40', '2018-04-26 12:39:40', 2, 6)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:39:40', '2018-04-26 12:39:40', 2, 7)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:39:40', '2018-04-26 12:39:40', 3, 8)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:39:40', '2018-04-26 12:39:40', 4, 9)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:39:40', '2018-04-26 12:39:40', 5, 10)[0m
  [1m[35m (42.7ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------
MovieTest: test_create
----------------------
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT `directors`.* FROM `directors`
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-26 10:39:40', '12425', 'A great movie', 375, 45.5, '2018-04-26 10:39:40', '2018-04-26 10:39:40')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 35, '2018-04-26 10:39:40', '2018-04-26 10:39:40')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 35, '2018-04-26 10:39:40', '2018-04-26 10:39:40')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 35, '2018-04-26 10:39:40', '2018-04-26 10:39:40')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 35, '2018-04-26 10:39:40', '2018-04-26 10:39:40')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 35, '2018-04-26 10:39:40', '2018-04-26 10:39:40')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (36.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.7ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-26 10:39:40', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-26 10:39:40', '2018-04-26 10:39:40')[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 36, '2018-04-26 10:39:40', '2018-04-26 10:39:40')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 36, '2018-04-26 10:39:40', '2018-04-26 10:39:40')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 36 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (41.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35mProducer Load (0.4ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-26 10:39:40', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-26 10:39:40', '2018-04-26 10:39:40')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 37, '2018-04-26 10:39:40', '2018-04-26 10:39:40')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 37, '2018-04-26 10:39:40', '2018-04-26 10:39:40')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (1.3ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 37 LIMIT 1
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 37[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35m (36.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-26 10:39:40', '2018-04-26 10:39:40')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (35.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 644ms (Views: 643.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/_form.html.erb (16.5ms)
  Rendered admin/director/edit.html.erb within layouts/application (28.1ms)
Completed 200 OK in 44ms (Views: 40.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (10.3ms)
  Rendered admin/director/index.html.erb within layouts/application (15.5ms)
Completed 200 OK in 21ms (Views: 19.9ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.9ms)
  Rendered admin/director/new.html.erb within layouts/application (4.2ms)
Completed 200 OK in 10ms (Views: 9.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-26 10:39:41' WHERE `directors`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 11ms (ActiveRecord: 1.8ms)
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (72.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.8ms)
  Rendered admin/director/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-26 10:39:41', '2018-04-26 10:39:41')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 6ms (Views: 5.3ms | ActiveRecord: 0.9ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (44.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `directors` WHERE `directors`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 8ms (ActiveRecord: 2.3ms)
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (8.1ms)
  Rendered admin/director/index.html.erb within layouts/application (11.3ms)
Completed 200 OK in 20ms (Views: 18.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (35.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/show.html.erb within layouts/application (3.7ms)
Completed 200 OK in 15ms (Views: 13.2ms | ActiveRecord: 0.6ms)
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/director/_form.html.erb (8.3ms)
  Rendered admin/director/new.html.erb within layouts/application (11.8ms)
Completed 200 OK in 28ms (Views: 18.3ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-26 10:39:42', '2018-04-26 10:39:42')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-26 10:39:42', '2018-04-26 10:39:42')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-26 12:39:42 +0200
Processing by Admin::MovieController#new as HTML
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (43.0ms)
  Rendered admin/movie/new.html.erb within layouts/application (47.8ms)
Completed 200 OK in 82ms (Views: 61.6ms | ActiveRecord: 1.1ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-26 12:39:42 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"14", "director_ids"=>["27"], "produced_at"=>"2018-04-26 12:39:42 +0200", "serial_number"=>"123-123-123-X", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 27 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 14 LIMIT 1[0m
  [1m[35mMovie Exists (0.9ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '123-1' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (2.1ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (29.6ms)
  Rendered admin/movie/new.html.erb within layouts/application (33.8ms)
Completed 200 OK in 73ms (Views: 36.4ms | ActiveRecord: 6.2ms)
  [1m[35m (83.7ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/_form.html.erb (1.9ms)
  Rendered admin/producer/edit.html.erb within layouts/application (7.0ms)
Completed 200 OK in 21ms (Views: 18.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (0.5ms)
  Rendered admin/producer/new.html.erb within layouts/application (3.9ms)
Completed 200 OK in 9ms (Views: 8.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-26 10:39:42' WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 13ms (ActiveRecord: 2.5ms)
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (46.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (1.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/show.html.erb within layouts/application (2.5ms)
Completed 200 OK in 10ms (Views: 6.8ms | ActiveRecord: 1.0ms)
  [1m[35mProducer Exists (0.7ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.6ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-26 10:39:42', '2018-04-26 10:39:42')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 11ms (ActiveRecord: 1.9ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (121.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.5ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (4.5ms)
  Rendered admin/producer/index.html.erb within layouts/application (8.9ms)
Completed 200 OK in 13ms (Views: 12.1ms | ActiveRecord: 0.5ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.8ms)[0m  DELETE FROM `producers` WHERE `producers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 8ms (ActiveRecord: 3.1ms)
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (2.4ms)
  Rendered admin/producer/index.html.erb within layouts/application (4.9ms)
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.6ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (38.5ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (90.1ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-26', 45.0, '2018-04-26 10:40:31', '2018-04-26 10:40:31')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-26', 65.0, '2018-04-26 10:40:31', '2018-04-26 10:40:31')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-26', 85.0, '2018-04-26 10:40:31', '2018-04-26 10:40:31')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-26', 105.0, '2018-04-26 10:40:31', '2018-04-26 10:40:31')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-26', 125.0, '2018-04-26 10:40:31', '2018-04-26 10:40:31')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-26', 145.0, '2018-04-26 10:40:31', '2018-04-26 10:40:31')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-26', 165.0, '2018-04-26 10:40:31', '2018-04-26 10:40:31')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-26', 185.0, '2018-04-26 10:40:31', '2018-04-26 10:40:31')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:40:31', '2018-04-26 10:40:31')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:40:31', '2018-04-26 10:40:31')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-26 10:40:31', '2018-04-26 10:40:31')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-26 10:40:31', '2018-04-26 10:40:31')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-26 10:40:31', '2018-04-26 10:40:31')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-26 10:40:31', '2018-04-26 10:40:31')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-26 10:40:31', '2018-04-26 10:40:31')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-26 10:40:31', '2018-04-26 10:40:31')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-26 10:40:31', '2018-04-26 10:40:31')
  [1m[36mFixture Delete (85.6ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:40:31', '2018-04-26 12:40:31', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:40:31', '2018-04-26 12:40:31', 2, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:40:31', '2018-04-26 12:40:31', 2, 3)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:40:31', '2018-04-26 12:40:31', 2, 4)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:40:31', '2018-04-26 12:40:31', 2, 5)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:40:31', '2018-04-26 12:40:31', 2, 6)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:40:31', '2018-04-26 12:40:31', 2, 7)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:40:31', '2018-04-26 12:40:31', 3, 8)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:40:31', '2018-04-26 12:40:31', 4, 9)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:40:31', '2018-04-26 12:40:31', 5, 10)[0m
  [1m[35m (42.7ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (17.3ms)
  Rendered admin/director/new.html.erb within layouts/application (28.1ms)
Completed 200 OK in 766ms (Views: 757.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-26 10:40:32', '2018-04-26 10:40:32')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 8ms (Views: 757.7ms | ActiveRecord: 1.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (39.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/show.html.erb within layouts/application (2.5ms)
Completed 200 OK in 25ms (Views: 7.3ms | ActiveRecord: 0.6ms)
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-26 10:40:32' WHERE `directors`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 10ms (ActiveRecord: 1.7ms)
  [1m[35mDirector Load (1.2ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (32.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35mSQL (0.9ms)[0m  DELETE FROM `directors` WHERE `directors`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 45ms (ActiveRecord: 3.8ms)
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.5ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (7.1ms)
  Rendered admin/director/index.html.erb within layouts/application (11.7ms)
Completed 200 OK in 16ms (Views: 15.2ms | ActiveRecord: 0.5ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (34.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.7ms)
  Rendered admin/director/new.html.erb within layouts/application (2.7ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.5ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (8.0ms)
  Rendered admin/director/index.html.erb within layouts/application (10.8ms)
Completed 200 OK in 14ms (Views: 13.2ms | ActiveRecord: 0.5ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/_form.html.erb (0.7ms)
  Rendered admin/director/edit.html.erb within layouts/application (3.9ms)
Completed 200 OK in 10ms (Views: 7.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/director/_form.html.erb (4.5ms)
  Rendered admin/director/new.html.erb within layouts/application (6.0ms)
Completed 200 OK in 37ms (Views: 8.9ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-26 10:40:32', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-26 10:40:32', '2018-04-26 10:40:32')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 38, '2018-04-26 10:40:32', '2018-04-26 10:40:32')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 38, '2018-04-26 10:40:32', '2018-04-26 10:40:32')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 38 LIMIT 1[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 38
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1
  [1m[36m (36.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------
MovieTest: test_create
----------------------
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT `directors`.* FROM `directors`
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-26 10:40:33', '12425', 'A great movie', 375, 45.5, '2018-04-26 10:40:33', '2018-04-26 10:40:33')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 39, '2018-04-26 10:40:33', '2018-04-26 10:40:33')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 39, '2018-04-26 10:40:33', '2018-04-26 10:40:33')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 39, '2018-04-26 10:40:33', '2018-04-26 10:40:33')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 39, '2018-04-26 10:40:33', '2018-04-26 10:40:33')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 39, '2018-04-26 10:40:33', '2018-04-26 10:40:33')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (34.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.7ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-26 10:40:33', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-26 10:40:33', '2018-04-26 10:40:33')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 40, '2018-04-26 10:40:33', '2018-04-26 10:40:33')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 40, '2018-04-26 10:40:33', '2018-04-26 10:40:33')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 40 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (32.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (7.8ms)
  Rendered admin/producer/index.html.erb within layouts/application (13.1ms)
Completed 200 OK in 25ms (Views: 23.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mDELETE FROM `producers` WHERE `producers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 6ms (ActiveRecord: 2.3ms)
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (2.0ms)
  Rendered admin/producer/index.html.erb within layouts/application (5.0ms)
Completed 200 OK in 9ms (Views: 7.5ms | ActiveRecord: 0.8ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (35.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (1.7ms)
  Rendered admin/producer/new.html.erb within layouts/application (7.1ms)
Completed 200 OK in 14ms (Views: 12.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-26 10:40:33', '2018-04-26 10:40:33')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 12ms (ActiveRecord: 2.1ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (93.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.9ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/_form.html.erb (0.4ms)
  Rendered admin/producer/edit.html.erb within layouts/application (3.9ms)
Completed 200 OK in 12ms (Views: 8.9ms | ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/show.html.erb within layouts/application (2.5ms)
Completed 200 OK in 9ms (Views: 6.6ms | ActiveRecord: 0.7ms)
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-26 10:40:33' WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 10ms (ActiveRecord: 2.5ms)
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (40.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-26 10:40:33', '2018-04-26 10:40:33')
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (42.7ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-26 10:40:33', '2018-04-26 10:40:33')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-26 10:40:33', '2018-04-26 10:40:33')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-26 12:40:33 +0200
Processing by Admin::MovieController#new as HTML
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (27.9ms)
  Rendered admin/movie/new.html.erb within layouts/application (31.3ms)
Completed 200 OK in 61ms (Views: 40.8ms | ActiveRecord: 1.6ms)
  [1m[36mMovie Load (1.0ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'A new Movie of Ruby' LIMIT 1[0m
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-26 12:40:33 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (24.9ms)
Completed 200 OK in 30ms (Views: 27.1ms | ActiveRecord: 2.2ms)
  [1m[36m (41.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 12ms (Views: 11.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (66.0ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.9ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-26', 45.0, '2018-04-26 10:41:06', '2018-04-26 10:41:06')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-26', 65.0, '2018-04-26 10:41:06', '2018-04-26 10:41:06')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-26', 85.0, '2018-04-26 10:41:06', '2018-04-26 10:41:06')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-26', 105.0, '2018-04-26 10:41:06', '2018-04-26 10:41:06')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-26', 125.0, '2018-04-26 10:41:06', '2018-04-26 10:41:06')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-26', 145.0, '2018-04-26 10:41:06', '2018-04-26 10:41:06')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-26', 165.0, '2018-04-26 10:41:06', '2018-04-26 10:41:06')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-26', 185.0, '2018-04-26 10:41:06', '2018-04-26 10:41:06')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:41:06', '2018-04-26 10:41:06')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:41:06', '2018-04-26 10:41:06')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-26 10:41:06', '2018-04-26 10:41:06')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-26 10:41:06', '2018-04-26 10:41:06')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-26 10:41:06', '2018-04-26 10:41:06')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-26 10:41:06', '2018-04-26 10:41:06')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-26 10:41:06', '2018-04-26 10:41:06')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-26 10:41:06', '2018-04-26 10:41:06')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-26 10:41:06', '2018-04-26 10:41:06')
  [1m[36mFixture Delete (98.3ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:41:06', '2018-04-26 12:41:06', 1, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:41:06', '2018-04-26 12:41:06', 2, 2)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:41:06', '2018-04-26 12:41:06', 2, 3)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:41:06', '2018-04-26 12:41:06', 2, 4)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:41:06', '2018-04-26 12:41:06', 2, 5)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:41:06', '2018-04-26 12:41:06', 2, 6)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:41:06', '2018-04-26 12:41:06', 2, 7)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:41:06', '2018-04-26 12:41:06', 3, 8)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:41:06', '2018-04-26 12:41:06', 4, 9)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:41:06', '2018-04-26 12:41:06', 5, 10)[0m
  [1m[35m (70.6ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-26 10:41:06', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-26 10:41:06', '2018-04-26 10:41:06')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 41, '2018-04-26 10:41:06', '2018-04-26 10:41:06')[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 41, '2018-04-26 10:41:06', '2018-04-26 10:41:06')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 41 LIMIT 1[0m
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (74.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------
MovieTest: test_create
----------------------
  [1m[35mProducer Load (1.4ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-26 10:41:06', '12425', 'A great movie', 375, 45.5, '2018-04-26 10:41:06', '2018-04-26 10:41:06')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 42, '2018-04-26 10:41:06', '2018-04-26 10:41:06')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 42, '2018-04-26 10:41:06', '2018-04-26 10:41:06')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 42, '2018-04-26 10:41:06', '2018-04-26 10:41:06')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 42, '2018-04-26 10:41:06', '2018-04-26 10:41:06')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 42, '2018-04-26 10:41:06', '2018-04-26 10:41:06')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (39.7ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[35mDirector Load (0.9ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-26 10:41:06', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-26 10:41:06', '2018-04-26 10:41:06')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 43, '2018-04-26 10:41:06', '2018-04-26 10:41:06')[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 43, '2018-04-26 10:41:06', '2018-04-26 10:41:06')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 43 LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 43[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35m (41.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.5ms)[0m  [1mDELETE FROM `producers` WHERE `producers`.`id` = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 7ms (ActiveRecord: 2.5ms)
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (3.4ms)
  Rendered admin/producer/index.html.erb within layouts/application (13.8ms)
Completed 200 OK in 554ms (Views: 553.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (50.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.9ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (4.0ms)
  Rendered admin/producer/index.html.erb within layouts/application (7.7ms)
Completed 200 OK in 12ms (Views: 10.0ms | ActiveRecord: 0.9ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/_form.html.erb (17.0ms)
  Rendered admin/producer/edit.html.erb within layouts/application (23.6ms)
Completed 200 OK in 31ms (Views: 28.6ms | ActiveRecord: 0.6ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (0.4ms)
  Rendered admin/producer/new.html.erb within layouts/application (3.2ms)
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-26 10:41:07', '2018-04-26 10:41:07')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 9ms (ActiveRecord: 1.5ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (36.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/show.html.erb within layouts/application (2.5ms)
Completed 200 OK in 10ms (Views: 7.3ms | ActiveRecord: 0.7ms)
  [1m[35mProducer Exists (0.7ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[35mProducer Load (0.9ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.7ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-26 10:41:07' WHERE `producers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 12ms (ActiveRecord: 2.7ms)
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (46.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-26 10:41:07', '2018-04-26 10:41:07')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-26 10:41:07', '2018-04-26 10:41:07')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-26 12:41:07 +0200
Processing by Admin::MovieController#new as HTML
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (27.0ms)
  Rendered admin/movie/new.html.erb within layouts/application (30.4ms)
Completed 200 OK in 61ms (Views: 41.1ms | ActiveRecord: 1.1ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-26 12:41:08 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"19", "director_ids"=>["31"], "produced_at"=>"2018-04-26 12:41:07 +0200", "serial_number"=>"123-123-123-X", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 31 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (1.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 19 LIMIT 1[0m
  [1m[35mMovie Exists (0.9ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '123-1' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (17.0ms)
  Rendered admin/movie/new.html.erb within layouts/application (18.4ms)
Completed 200 OK in 45ms (Views: 20.5ms | ActiveRecord: 4.2ms)
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'A new Movie of Ruby' LIMIT 1
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-26 12:41:08 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (25.9ms)
Completed 200 OK in 31ms (Views: 27.8ms | ActiveRecord: 2.3ms)
  [1m[35m (62.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-26 10:41:08' WHERE `directors`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 9ms (ActiveRecord: 1.8ms)
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (36.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (2.2ms)
  Rendered admin/director/new.html.erb within layouts/application (6.7ms)
Completed 200 OK in 20ms (Views: 19.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.5ms)
  Rendered admin/director/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 5ms (Views: 4.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-26 10:41:08', '2018-04-26 10:41:08')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 7ms (Views: 4.4ms | ActiveRecord: 1.1ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (38.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/_form.html.erb (0.8ms)
  Rendered admin/director/edit.html.erb within layouts/application (5.1ms)
Completed 200 OK in 12ms (Views: 9.7ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/show.html.erb within layouts/application (1.9ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.6ms)
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/director/_form.html.erb (4.0ms)
  Rendered admin/director/new.html.erb within layouts/application (5.4ms)
Completed 200 OK in 14ms (Views: 8.1ms | ActiveRecord: 0.5ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (8.0ms)
  Rendered admin/director/index.html.erb within layouts/application (12.5ms)
Completed 200 OK in 16ms (Views: 15.3ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM `directors` WHERE `directors`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 8ms (ActiveRecord: 2.3ms)
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (5.8ms)
  Rendered admin/director/index.html.erb within layouts/application (8.4ms)
Completed 200 OK in 12ms (Views: 10.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (45.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 12ms (Views: 11.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-26 10:41:08', '2018-04-26 10:41:08')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (38.5ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-26', 45.0, '2018-04-26 10:41:27', '2018-04-26 10:41:27')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-26', 65.0, '2018-04-26 10:41:27', '2018-04-26 10:41:27')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-26', 85.0, '2018-04-26 10:41:27', '2018-04-26 10:41:27')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-26', 105.0, '2018-04-26 10:41:27', '2018-04-26 10:41:27')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-26', 125.0, '2018-04-26 10:41:27', '2018-04-26 10:41:27')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-26', 145.0, '2018-04-26 10:41:27', '2018-04-26 10:41:27')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-26', 165.0, '2018-04-26 10:41:27', '2018-04-26 10:41:27')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-26', 185.0, '2018-04-26 10:41:27', '2018-04-26 10:41:27')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:41:27', '2018-04-26 10:41:27')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:41:27', '2018-04-26 10:41:27')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-26 10:41:27', '2018-04-26 10:41:27')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-26 10:41:27', '2018-04-26 10:41:27')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-26 10:41:27', '2018-04-26 10:41:27')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-26 10:41:27', '2018-04-26 10:41:27')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-26 10:41:27', '2018-04-26 10:41:27')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-26 10:41:27', '2018-04-26 10:41:27')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-26 10:41:27', '2018-04-26 10:41:27')
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:41:27', '2018-04-26 12:41:27', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:41:27', '2018-04-26 12:41:27', 2, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:41:27', '2018-04-26 12:41:27', 2, 3)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:41:27', '2018-04-26 12:41:27', 2, 4)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:41:27', '2018-04-26 12:41:27', 2, 5)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:41:27', '2018-04-26 12:41:27', 2, 6)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:41:27', '2018-04-26 12:41:27', 2, 7)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:41:27', '2018-04-26 12:41:27', 3, 8)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:41:27', '2018-04-26 12:41:27', 4, 9)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:41:27', '2018-04-26 12:41:27', 5, 10)[0m
  [1m[35m (23.9ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/show.html.erb within layouts/application (4.5ms)
Completed 200 OK in 762ms (Views: 740.3ms | ActiveRecord: 0.7ms)
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM `directors` WHERE `directors`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 45ms (ActiveRecord: 3.4ms)
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (7.1ms)
  Rendered admin/director/index.html.erb within layouts/application (17.5ms)
Completed 200 OK in 22ms (Views: 20.9ms | ActiveRecord: 0.7ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (39.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (18.5ms)
  Rendered admin/director/new.html.erb within layouts/application (23.9ms)
Completed 200 OK in 30ms (Views: 29.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-26 10:41:29', '2018-04-26 10:41:29')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 7ms (Views: 29.0ms | ActiveRecord: 1.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (39.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/director/_form.html.erb (4.9ms)
  Rendered admin/director/new.html.erb within layouts/application (6.6ms)
Completed 200 OK in 35ms (Views: 9.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (7.1ms)
  Rendered admin/director/index.html.erb within layouts/application (9.9ms)
Completed 200 OK in 14ms (Views: 12.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.6ms)
  Rendered admin/director/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/_form.html.erb (0.6ms)
  Rendered admin/director/edit.html.erb within layouts/application (4.6ms)
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-26 10:41:29' WHERE `directors`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 10ms (ActiveRecord: 1.6ms)
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (42.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------
MovieTest: test_create
----------------------
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-26 10:41:29', '12425', 'A great movie', 375, 45.5, '2018-04-26 10:41:29', '2018-04-26 10:41:29')[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 44, '2018-04-26 10:41:29', '2018-04-26 10:41:29')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 44, '2018-04-26 10:41:29', '2018-04-26 10:41:29')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 44, '2018-04-26 10:41:29', '2018-04-26 10:41:29')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 44, '2018-04-26 10:41:29', '2018-04-26 10:41:29')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 44, '2018-04-26 10:41:29', '2018-04-26 10:41:29')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (46.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.9ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-26 10:41:29', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-26 10:41:29', '2018-04-26 10:41:29')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 45, '2018-04-26 10:41:29', '2018-04-26 10:41:29')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 45, '2018-04-26 10:41:29', '2018-04-26 10:41:29')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 45 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (50.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36mProducer Load (0.4ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (1.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (1.0ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-26 10:41:29', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-26 10:41:29', '2018-04-26 10:41:29')[0m
  [1m[35mSQL (71.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 46, '2018-04-26 10:41:29', '2018-04-26 10:41:29')
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 46, '2018-04-26 10:41:29', '2018-04-26 10:41:29')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 46 LIMIT 1[0m
  [1m[35m (1.2ms)[0m  SELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 46
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35m (1.2ms)[0m  SELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1
  [1m[36m (38.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 13ms (Views: 13.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-26 10:41:29', '2018-04-26 10:41:29')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (33.8ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/_form.html.erb (1.6ms)
  Rendered admin/producer/edit.html.erb within layouts/application (6.2ms)
Completed 200 OK in 19ms (Views: 17.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (0.4ms)
  Rendered admin/producer/new.html.erb within layouts/application (3.5ms)
Completed 200 OK in 8ms (Views: 7.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  DELETE FROM `producers` WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 6ms (ActiveRecord: 2.0ms)
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (4.0ms)
  Rendered admin/producer/index.html.erb within layouts/application (8.9ms)
Completed 200 OK in 14ms (Views: 13.3ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (43.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.8ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-26 10:41:29', '2018-04-26 10:41:29')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 11ms (ActiveRecord: 2.0ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (110.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/show.html.erb within layouts/application (2.7ms)
Completed 200 OK in 10ms (Views: 7.4ms | ActiveRecord: 0.7ms)
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (4.1ms)
  Rendered admin/producer/index.html.erb within layouts/application (6.9ms)
Completed 200 OK in 11ms (Views: 9.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.7ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-26 10:41:30' WHERE `producers`.`id` = 1[0m
  [1m[35m (0.7ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 11ms (ActiveRecord: 2.9ms)
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (45.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-26 10:41:30', '2018-04-26 10:41:30')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-26 10:41:30', '2018-04-26 10:41:30')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-26 12:41:30 +0200
Processing by Admin::MovieController#new as HTML
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (28.4ms)
  Rendered admin/movie/new.html.erb within layouts/application (31.9ms)
Completed 200 OK in 61ms (Views: 41.9ms | ActiveRecord: 1.3ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-26 12:41:30 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"21", "director_ids"=>["36"], "produced_at"=>"2018-04-26 12:41:30 +0200", "serial_number"=>"123-123-123-X", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 36 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 21 LIMIT 1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '123-1' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (15.6ms)
  Rendered admin/movie/new.html.erb within layouts/application (16.9ms)
Completed 200 OK in 42ms (Views: 18.8ms | ActiveRecord: 3.8ms)
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'A new Movie of Ruby' LIMIT 1
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-26 12:41:30 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (23.7ms)
Completed 200 OK in 29ms (Views: 25.6ms | ActiveRecord: 2.1ms)
  [1m[35m (67.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mFixture Delete (76.3ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-26', 45.0, '2018-04-26 10:42:42', '2018-04-26 10:42:42')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-26', 65.0, '2018-04-26 10:42:42', '2018-04-26 10:42:42')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-26', 85.0, '2018-04-26 10:42:42', '2018-04-26 10:42:42')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-26', 105.0, '2018-04-26 10:42:42', '2018-04-26 10:42:42')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-26', 125.0, '2018-04-26 10:42:42', '2018-04-26 10:42:42')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-26', 145.0, '2018-04-26 10:42:42', '2018-04-26 10:42:42')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-26', 165.0, '2018-04-26 10:42:42', '2018-04-26 10:42:42')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-26', 185.0, '2018-04-26 10:42:42', '2018-04-26 10:42:42')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:42:42', '2018-04-26 10:42:42')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:42:42', '2018-04-26 10:42:42')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-26 10:42:42', '2018-04-26 10:42:42')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-26 10:42:42', '2018-04-26 10:42:42')
  [1m[36mFixture Delete (67.6ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-26 10:42:42', '2018-04-26 10:42:42')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-26 10:42:42', '2018-04-26 10:42:42')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-26 10:42:42', '2018-04-26 10:42:42')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-26 10:42:42', '2018-04-26 10:42:42')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-26 10:42:42', '2018-04-26 10:42:42')
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:42:42', '2018-04-26 12:42:42', 1, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:42:42', '2018-04-26 12:42:42', 2, 2)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:42:42', '2018-04-26 12:42:42', 2, 3)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:42:42', '2018-04-26 12:42:42', 2, 4)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:42:42', '2018-04-26 12:42:42', 2, 5)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:42:42', '2018-04-26 12:42:42', 2, 6)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:42:42', '2018-04-26 12:42:42', 2, 7)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:42:42', '2018-04-26 12:42:42', 3, 8)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:42:42', '2018-04-26 12:42:42', 4, 9)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:42:42', '2018-04-26 12:42:42', 5, 10)[0m
  [1m[35m (38.6ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-26 10:42:42', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-26 10:42:42', '2018-04-26 10:42:42')[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 47, '2018-04-26 10:42:42', '2018-04-26 10:42:42')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 47, '2018-04-26 10:42:42', '2018-04-26 10:42:42')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 47 LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (38.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36mProducer Load (0.4ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-26 10:42:42', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-26 10:42:42', '2018-04-26 10:42:42')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 48, '2018-04-26 10:42:42', '2018-04-26 10:42:42')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 48, '2018-04-26 10:42:42', '2018-04-26 10:42:42')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 48 LIMIT 1[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 48
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1
  [1m[36m (43.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------
MovieTest: test_create
----------------------
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-26 10:42:42', '12425', 'A great movie', 375, 45.5, '2018-04-26 10:42:42', '2018-04-26 10:42:42')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 49, '2018-04-26 10:42:42', '2018-04-26 10:42:42')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 49, '2018-04-26 10:42:42', '2018-04-26 10:42:42')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 49, '2018-04-26 10:42:42', '2018-04-26 10:42:42')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 49, '2018-04-26 10:42:42', '2018-04-26 10:42:42')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 49, '2018-04-26 10:42:42', '2018-04-26 10:42:42')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (35.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.7ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-26 10:42:42' WHERE `directors`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 11ms (ActiveRecord: 1.8ms)
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (44.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `directors` WHERE `directors`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 8ms (ActiveRecord: 2.3ms)
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (8.1ms)
  Rendered admin/director/index.html.erb within layouts/application (20.8ms)
Completed 200 OK in 652ms (Views: 650.8ms | ActiveRecord: 0.6ms)
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (36.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (7.6ms)
  Rendered admin/director/index.html.erb within layouts/application (11.2ms)
Completed 200 OK in 16ms (Views: 14.0ms | ActiveRecord: 0.7ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/show.html.erb within layouts/application (2.0ms)
Completed 200 OK in 7ms (Views: 5.5ms | ActiveRecord: 0.6ms)
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (13.0ms)
  Rendered admin/director/new.html.erb within layouts/application (16.1ms)
Completed 200 OK in 21ms (Views: 19.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-26 10:42:43', '2018-04-26 10:42:43')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 6ms (Views: 19.8ms | ActiveRecord: 0.9ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (46.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/director/_form.html.erb (8.0ms)
  Rendered admin/director/new.html.erb within layouts/application (10.2ms)
Completed 200 OK in 20ms (Views: 13.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.7ms)
  Rendered admin/director/new.html.erb within layouts/application (2.2ms)
Completed 200 OK in 5ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/_form.html.erb (0.7ms)
  Rendered admin/director/edit.html.erb within layouts/application (4.1ms)
Completed 200 OK in 10ms (Views: 8.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (2.1ms)
  Rendered admin/producer/new.html.erb within layouts/application (6.3ms)
Completed 200 OK in 18ms (Views: 17.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.6ms)
  [1m[35mProducer Exists (0.8ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/_form.html.erb (0.5ms)
  Rendered admin/producer/edit.html.erb within layouts/application (3.9ms)
Completed 200 OK in 10ms (Views: 7.8ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-26 10:42:43' WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 11ms (ActiveRecord: 2.3ms)
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (40.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  DELETE FROM `producers` WHERE `producers`.`id` = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 6ms (ActiveRecord: 2.4ms)
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.7ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (3.7ms)
  Rendered admin/producer/index.html.erb within layouts/application (8.6ms)
Completed 200 OK in 14ms (Views: 12.4ms | ActiveRecord: 0.7ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (91.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.7ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-26 10:42:44', '2018-04-26 10:42:44')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 12ms (ActiveRecord: 2.1ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (121.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.9ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (3.9ms)
  Rendered admin/producer/index.html.erb within layouts/application (8.0ms)
Completed 200 OK in 12ms (Views: 10.4ms | ActiveRecord: 0.9ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 12ms (Views: 11.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-26 10:42:44', '2018-04-26 10:42:44')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (45.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-26 10:42:44', '2018-04-26 10:42:44')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-26 10:42:44', '2018-04-26 10:42:44')[0m
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-26 12:42:44 +0200
Processing by Admin::MovieController#new as HTML
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (23.4ms)
  Rendered admin/movie/new.html.erb within layouts/application (26.4ms)
Completed 200 OK in 52ms (Views: 34.7ms | ActiveRecord: 1.6ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-26 12:42:44 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"23", "director_ids"=>["39"], "produced_at"=>"2018-04-26 12:42:44 +0200", "serial_number"=>"123-123-123-X", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 39 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 23 LIMIT 1[0m
  [1m[35mMovie Exists (0.8ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '123-1' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (14.0ms)
  Rendered admin/movie/new.html.erb within layouts/application (15.3ms)
Completed 200 OK in 39ms (Views: 17.1ms | ActiveRecord: 3.6ms)
  [1m[35m (44.5ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.7ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (83.8ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-26', 45.0, '2018-04-26 10:43:16', '2018-04-26 10:43:16')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-26', 65.0, '2018-04-26 10:43:16', '2018-04-26 10:43:16')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-26', 85.0, '2018-04-26 10:43:16', '2018-04-26 10:43:16')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-26', 105.0, '2018-04-26 10:43:16', '2018-04-26 10:43:16')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-26', 125.0, '2018-04-26 10:43:16', '2018-04-26 10:43:16')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-26', 145.0, '2018-04-26 10:43:16', '2018-04-26 10:43:16')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-26', 165.0, '2018-04-26 10:43:16', '2018-04-26 10:43:16')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-26', 185.0, '2018-04-26 10:43:16', '2018-04-26 10:43:16')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:43:16', '2018-04-26 10:43:16')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:43:16', '2018-04-26 10:43:16')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-26 10:43:17', '2018-04-26 10:43:17')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-26 10:43:17', '2018-04-26 10:43:17')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-26 10:43:17', '2018-04-26 10:43:17')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-26 10:43:17', '2018-04-26 10:43:17')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-26 10:43:17', '2018-04-26 10:43:17')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-26 10:43:17', '2018-04-26 10:43:17')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-26 10:43:17', '2018-04-26 10:43:17')
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:43:16', '2018-04-26 12:43:16', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:43:16', '2018-04-26 12:43:16', 2, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:43:16', '2018-04-26 12:43:16', 2, 3)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:43:16', '2018-04-26 12:43:16', 2, 4)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:43:16', '2018-04-26 12:43:16', 2, 5)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:43:16', '2018-04-26 12:43:16', 2, 6)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:43:16', '2018-04-26 12:43:16', 2, 7)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:43:16', '2018-04-26 12:43:16', 3, 8)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:43:16', '2018-04-26 12:43:16', 4, 9)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:43:16', '2018-04-26 12:43:16', 5, 10)[0m
  [1m[35m (43.3ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.6ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-26 10:43:17', '2018-04-26 10:43:17')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-26 10:43:17', '2018-04-26 10:43:17')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1
  [1m[36mProducer Load (0.4ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1[0m
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-26 12:43:17 +0200
Processing by Admin::MovieController#new as HTML
  [1m[35mProducer Load (0.5ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (1.0ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (99.3ms)
  Rendered admin/movie/new.html.erb within layouts/application (110.7ms)
Completed 200 OK in 811ms (Views: 772.0ms | ActiveRecord: 2.6ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-26 12:43:18 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"24", "director_ids"=>["40"], "produced_at"=>"2018-04-26 12:43:17 +0200", "serial_number"=>"123-123-123-X", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 40 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 24 LIMIT 1
  [1m[36mMovie Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '123-1' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (18.0ms)
  Rendered admin/movie/new.html.erb within layouts/application (19.5ms)
Completed 200 OK in 78ms (Views: 22.1ms | ActiveRecord: 4.4ms)
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'A new Movie of Ruby' LIMIT 1
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-26 12:43:18 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (1.1ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (29.4ms)
Completed 200 OK in 35ms (Views: 31.3ms | ActiveRecord: 2.6ms)
  [1m[35m (61.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-26 10:43:18', '2018-04-26 10:43:18')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (46.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/show.html.erb within layouts/application (2.3ms)
Completed 200 OK in 17ms (Views: 13.6ms | ActiveRecord: 0.7ms)
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-26 10:43:18' WHERE `directors`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 11ms (ActiveRecord: 1.8ms)
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (37.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/_form.html.erb (2.5ms)
  Rendered admin/director/edit.html.erb within layouts/application (10.2ms)
Completed 200 OK in 21ms (Views: 18.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.7ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (17.4ms)
  Rendered admin/director/index.html.erb within layouts/application (23.7ms)
Completed 200 OK in 32ms (Views: 30.4ms | ActiveRecord: 0.7ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (2.1ms)
  Rendered admin/director/new.html.erb within layouts/application (6.4ms)
Completed 200 OK in 15ms (Views: 14.6ms | ActiveRecord: 0.0ms)
  [1m[36m (1.8ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-26 10:43:18', '2018-04-26 10:43:18')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 8ms (Views: 14.6ms | ActiveRecord: 1.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (41.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (2.4ms)[0m  [1mDELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `directors` WHERE `directors`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 19ms (ActiveRecord: 4.1ms)
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (15.9ms)
  Rendered admin/director/index.html.erb within layouts/application (18.6ms)
Completed 200 OK in 26ms (Views: 23.2ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (44.9ms)[0m  ROLLBACK
  [1m[36m (2.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/director/_form.html.erb (7.7ms)
  Rendered admin/director/new.html.erb within layouts/application (9.5ms)
Completed 200 OK in 26ms (Views: 16.4ms | ActiveRecord: 0.6ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.7ms)
  Rendered admin/director/new.html.erb within layouts/application (3.9ms)
Completed 200 OK in 8ms (Views: 7.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 19ms (Views: 18.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------
MovieTest: test_create
----------------------
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT `directors`.* FROM `directors`
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-26 10:43:18', '12425', 'A great movie', 375, 45.5, '2018-04-26 10:43:18', '2018-04-26 10:43:18')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 50, '2018-04-26 10:43:18', '2018-04-26 10:43:18')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 50, '2018-04-26 10:43:18', '2018-04-26 10:43:18')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 50, '2018-04-26 10:43:19', '2018-04-26 10:43:19')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 50, '2018-04-26 10:43:19', '2018-04-26 10:43:19')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 50, '2018-04-26 10:43:19', '2018-04-26 10:43:19')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (43.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[36mDirector Load (1.0ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.8ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-26 10:43:19', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-26 10:43:19', '2018-04-26 10:43:19')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 51, '2018-04-26 10:43:19', '2018-04-26 10:43:19')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 51, '2018-04-26 10:43:19', '2018-04-26 10:43:19')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 51 LIMIT 1[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 51
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1
  [1m[36m (47.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-26 10:43:19', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-26 10:43:19', '2018-04-26 10:43:19')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 52, '2018-04-26 10:43:19', '2018-04-26 10:43:19')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 52, '2018-04-26 10:43:19', '2018-04-26 10:43:19')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 52 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (40.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (4.8ms)
  Rendered admin/producer/index.html.erb within layouts/application (10.0ms)
Completed 200 OK in 22ms (Views: 20.5ms | ActiveRecord: 0.7ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.5ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-26 10:43:19', '2018-04-26 10:43:19')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 9ms (ActiveRecord: 1.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (44.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.7ms)[0m  [1mDELETE FROM `producers` WHERE `producers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 8ms (ActiveRecord: 3.0ms)
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (2.1ms)
  Rendered admin/producer/index.html.erb within layouts/application (4.7ms)
Completed 200 OK in 9ms (Views: 7.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (44.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (1.6ms)
  Rendered admin/producer/new.html.erb within layouts/application (6.9ms)
Completed 200 OK in 13ms (Views: 12.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/show.html.erb within layouts/application (2.3ms)
Completed 200 OK in 9ms (Views: 7.0ms | ActiveRecord: 0.6ms)
  [1m[35mProducer Exists (0.8ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/_form.html.erb (0.5ms)
  Rendered admin/producer/edit.html.erb within layouts/application (4.5ms)
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  UPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-26 10:43:19' WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 10ms (ActiveRecord: 2.4ms)
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (43.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-26', 45.0, '2018-04-26 10:43:42', '2018-04-26 10:43:42')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-26', 65.0, '2018-04-26 10:43:42', '2018-04-26 10:43:42')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-26', 85.0, '2018-04-26 10:43:42', '2018-04-26 10:43:42')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-26', 105.0, '2018-04-26 10:43:42', '2018-04-26 10:43:42')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-26', 125.0, '2018-04-26 10:43:42', '2018-04-26 10:43:42')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-26', 145.0, '2018-04-26 10:43:42', '2018-04-26 10:43:42')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-26', 165.0, '2018-04-26 10:43:42', '2018-04-26 10:43:42')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-26', 185.0, '2018-04-26 10:43:42', '2018-04-26 10:43:42')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:43:42', '2018-04-26 10:43:42')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:43:42', '2018-04-26 10:43:42')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (1.3ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-26 10:43:42', '2018-04-26 10:43:42')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-26 10:43:42', '2018-04-26 10:43:42')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-26 10:43:42', '2018-04-26 10:43:42')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-26 10:43:42', '2018-04-26 10:43:42')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-26 10:43:42', '2018-04-26 10:43:42')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-26 10:43:42', '2018-04-26 10:43:42')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-26 10:43:42', '2018-04-26 10:43:42')
  [1m[36mFixture Delete (77.6ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:43:42', '2018-04-26 12:43:42', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:43:42', '2018-04-26 12:43:42', 2, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:43:42', '2018-04-26 12:43:42', 2, 3)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:43:42', '2018-04-26 12:43:42', 2, 4)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:43:42', '2018-04-26 12:43:42', 2, 5)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:43:42', '2018-04-26 12:43:42', 2, 6)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:43:42', '2018-04-26 12:43:42', 2, 7)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:43:42', '2018-04-26 12:43:42', 3, 8)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:43:42', '2018-04-26 12:43:42', 4, 9)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:43:42', '2018-04-26 12:43:42', 5, 10)[0m
  [1m[35m (42.1ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM `directors` WHERE `directors`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 64ms (ActiveRecord: 4.1ms)
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (7.4ms)
  Rendered admin/director/index.html.erb within layouts/application (18.9ms)
Completed 200 OK in 756ms (Views: 754.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (77.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (20.1ms)
  Rendered admin/director/new.html.erb within layouts/application (24.6ms)
Completed 200 OK in 31ms (Views: 29.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.6ms)
  Rendered admin/director/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 6ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-26 10:43:43', '2018-04-26 10:43:43')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 8ms (Views: 4.9ms | ActiveRecord: 1.2ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (44.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/_form.html.erb (1.1ms)
  Rendered admin/director/edit.html.erb within layouts/application (5.3ms)
Completed 200 OK in 13ms (Views: 10.3ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/show.html.erb within layouts/application (2.1ms)
Completed 200 OK in 9ms (Views: 6.3ms | ActiveRecord: 0.7ms)
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/director/_form.html.erb (4.7ms)
  Rendered admin/director/new.html.erb within layouts/application (6.4ms)
Completed 200 OK in 35ms (Views: 9.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (7.7ms)
  Rendered admin/director/index.html.erb within layouts/application (10.7ms)
Completed 200 OK in 14ms (Views: 13.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-26 10:43:43' WHERE `directors`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 11ms (ActiveRecord: 1.9ms)
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.3ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (44.7ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-26 10:43:43', '2018-04-26 10:43:43')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (43.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 11ms (Views: 10.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.6ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-26 10:43:43', '2018-04-26 10:43:43')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-26 10:43:43', '2018-04-26 10:43:43')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1
  [1m[36mProducer Load (0.4ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1[0m
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-26 12:43:43 +0200
Processing by Admin::MovieController#new as HTML
  [1m[35mProducer Load (0.5ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (83.3ms)
  Rendered admin/movie/new.html.erb within layouts/application (86.5ms)
Completed 200 OK in 131ms (Views: 97.5ms | ActiveRecord: 1.1ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-26 12:43:44 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"26", "director_ids"=>["45"], "produced_at"=>"2018-04-26 12:43:43 +0200", "serial_number"=>"123-123-123-X", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[35mDirector Load (0.9ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 45 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 26 LIMIT 1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '123-1' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (15.3ms)
  Rendered admin/movie/new.html.erb within layouts/application (16.8ms)
Completed 200 OK in 61ms (Views: 19.0ms | ActiveRecord: 4.3ms)
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
Started GET "/admin/movie/index/?page=3" for 127.0.0.1 at 2018-04-26 12:43:44 +0200
Processing by Admin::MovieController#index as HTML
  Parameters: {"page"=>"3"}
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 10
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  Rendered admin/movie/index.html.erb within layouts/application (8.5ms)
Completed 200 OK in 13ms (Views: 11.2ms | ActiveRecord: 1.3ms)
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'A new Movie of Ruby' LIMIT 1
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-26 12:43:44 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.4ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (19.5ms)
Completed 200 OK in 23ms (Views: 20.2ms | ActiveRecord: 2.1ms)
  [1m[35m (86.5ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/_form.html.erb (1.5ms)
  Rendered admin/producer/edit.html.erb within layouts/application (6.6ms)
Completed 200 OK in 21ms (Views: 18.1ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/show.html.erb within layouts/application (2.1ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.6ms)
  [1m[35mProducer Exists (0.9ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.6ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-26 10:43:44', '2018-04-26 10:43:44')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 10ms (ActiveRecord: 1.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (124.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mDELETE FROM `producers` WHERE `producers`.`id` = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 7ms (ActiveRecord: 2.5ms)
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (3.8ms)
  Rendered admin/producer/index.html.erb within layouts/application (8.7ms)
Completed 200 OK in 14ms (Views: 13.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (41.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (0.5ms)
  Rendered admin/producer/new.html.erb within layouts/application (3.5ms)
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-26 10:43:44' WHERE `producers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 11ms (ActiveRecord: 2.4ms)
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (44.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (3.3ms)
  Rendered admin/producer/index.html.erb within layouts/application (6.3ms)
Completed 200 OK in 10ms (Views: 9.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------
MovieTest: test_create
----------------------
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-26 10:43:44', '12425', 'A great movie', 375, 45.5, '2018-04-26 10:43:44', '2018-04-26 10:43:44')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 53, '2018-04-26 10:43:44', '2018-04-26 10:43:44')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 53, '2018-04-26 10:43:44', '2018-04-26 10:43:44')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 53, '2018-04-26 10:43:44', '2018-04-26 10:43:44')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 53, '2018-04-26 10:43:44', '2018-04-26 10:43:44')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 53, '2018-04-26 10:43:44', '2018-04-26 10:43:44')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (44.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[35mDirector Load (1.1ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-26 10:43:44', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-26 10:43:44', '2018-04-26 10:43:44')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 54, '2018-04-26 10:43:44', '2018-04-26 10:43:44')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 54, '2018-04-26 10:43:44', '2018-04-26 10:43:44')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 54 LIMIT 1
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 54[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35m (43.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[36mProducer Load (0.4ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.7ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-26 10:43:44', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-26 10:43:44', '2018-04-26 10:43:44')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 55, '2018-04-26 10:43:44', '2018-04-26 10:43:44')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 55, '2018-04-26 10:43:44', '2018-04-26 10:43:44')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 55 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (50.7ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-26', 45.0, '2018-04-26 10:44:01', '2018-04-26 10:44:01')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-26', 65.0, '2018-04-26 10:44:01', '2018-04-26 10:44:01')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-26', 85.0, '2018-04-26 10:44:01', '2018-04-26 10:44:01')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-26', 105.0, '2018-04-26 10:44:01', '2018-04-26 10:44:01')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-26', 125.0, '2018-04-26 10:44:01', '2018-04-26 10:44:01')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-26', 145.0, '2018-04-26 10:44:01', '2018-04-26 10:44:01')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-26', 165.0, '2018-04-26 10:44:01', '2018-04-26 10:44:01')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-26', 185.0, '2018-04-26 10:44:01', '2018-04-26 10:44:01')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:44:01', '2018-04-26 10:44:01')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:44:01', '2018-04-26 10:44:01')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-26 10:44:01', '2018-04-26 10:44:01')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-26 10:44:01', '2018-04-26 10:44:01')
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-26 10:44:01', '2018-04-26 10:44:01')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-26 10:44:01', '2018-04-26 10:44:01')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-26 10:44:01', '2018-04-26 10:44:01')
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-26 10:44:01', '2018-04-26 10:44:01')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-26 10:44:01', '2018-04-26 10:44:01')
  [1m[36mFixture Delete (79.2ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:44:01', '2018-04-26 12:44:01', 1, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:44:01', '2018-04-26 12:44:01', 2, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:44:01', '2018-04-26 12:44:01', 2, 3)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:44:01', '2018-04-26 12:44:01', 2, 4)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:44:01', '2018-04-26 12:44:01', 2, 5)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:44:01', '2018-04-26 12:44:01', 2, 6)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:44:01', '2018-04-26 12:44:01', 2, 7)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:44:01', '2018-04-26 12:44:01', 3, 8)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:44:01', '2018-04-26 12:44:01', 4, 9)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:44:01', '2018-04-26 12:44:01', 5, 10)[0m
  [1m[35m (42.3ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------
MovieTest: test_create
----------------------
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors`
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-26 10:44:01', '12425', 'A great movie', 375, 45.5, '2018-04-26 10:44:01', '2018-04-26 10:44:01')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 56, '2018-04-26 10:44:01', '2018-04-26 10:44:01')[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 56, '2018-04-26 10:44:01', '2018-04-26 10:44:01')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 56, '2018-04-26 10:44:01', '2018-04-26 10:44:01')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 56, '2018-04-26 10:44:01', '2018-04-26 10:44:01')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 56, '2018-04-26 10:44:01', '2018-04-26 10:44:01')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (47.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.8ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-26 10:44:01', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-26 10:44:01', '2018-04-26 10:44:01')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 57, '2018-04-26 10:44:01', '2018-04-26 10:44:01')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 57, '2018-04-26 10:44:01', '2018-04-26 10:44:01')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 57 LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (46.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35mProducer Load (0.3ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-26 10:44:02', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-26 10:44:02', '2018-04-26 10:44:02')
  [1m[36mSQL (87.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 58, '2018-04-26 10:44:02', '2018-04-26 10:44:02')[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 58, '2018-04-26 10:44:02', '2018-04-26 10:44:02')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 58 LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 58[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35m (43.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-26 10:44:02', '2018-04-26 10:44:02')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-26 10:44:02', '2018-04-26 10:44:02')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-26 12:44:02 +0200
Processing by Admin::MovieController#new as HTML
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (41.2ms)
  Rendered admin/movie/new.html.erb within layouts/application (53.0ms)
Completed 200 OK in 695ms (Views: 675.8ms | ActiveRecord: 1.4ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-26 12:44:03 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"28", "director_ids"=>["46"], "produced_at"=>"2018-04-26 12:44:02 +0200", "serial_number"=>"123-123-123-X", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 46 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 28 LIMIT 1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '123-1' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (15.8ms)
  Rendered admin/movie/new.html.erb within layouts/application (17.2ms)
Completed 200 OK in 44ms (Views: 19.1ms | ActiveRecord: 4.1ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `movies`
Started GET "/admin/movie/index/?page=3" for 127.0.0.1 at 2018-04-26 12:44:03 +0200
Processing by Admin::MovieController#index as HTML
  Parameters: {"page"=>"3"}
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 10[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `movies`
  Rendered admin/movie/index.html.erb within layouts/application (9.0ms)
Completed 200 OK in 14ms (Views: 11.5ms | ActiveRecord: 1.5ms)
  [1m[36m (42.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-26 10:44:03' WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 15ms (ActiveRecord: 2.6ms)
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (58.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-26 10:44:03', '2018-04-26 10:44:03')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 10ms (ActiveRecord: 1.8ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (44.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/_form.html.erb (1.6ms)
  Rendered admin/producer/edit.html.erb within layouts/application (6.1ms)
Completed 200 OK in 21ms (Views: 18.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (0.5ms)
  Rendered admin/producer/new.html.erb within layouts/application (3.1ms)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/show.html.erb within layouts/application (2.1ms)
Completed 200 OK in 8ms (Views: 6.1ms | ActiveRecord: 0.5ms)
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.6ms)[0m  DELETE FROM `producers` WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 7ms (ActiveRecord: 2.7ms)
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (3.3ms)
  Rendered admin/producer/index.html.erb within layouts/application (7.6ms)
Completed 200 OK in 13ms (Views: 11.4ms | ActiveRecord: 0.6ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (46.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (4.1ms)
  Rendered admin/producer/index.html.erb within layouts/application (7.1ms)
Completed 200 OK in 11ms (Views: 9.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/director/_form.html.erb (6.2ms)
  Rendered admin/director/new.html.erb within layouts/application (10.5ms)
Completed 200 OK in 28ms (Views: 21.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/_form.html.erb (0.7ms)
  Rendered admin/director/edit.html.erb within layouts/application (4.3ms)
Completed 200 OK in 12ms (Views: 8.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.6ms)
  Rendered admin/director/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `directors` WHERE `directors`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 9ms (ActiveRecord: 2.4ms)
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.5ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (7.2ms)
  Rendered admin/director/index.html.erb within layouts/application (12.3ms)
Completed 200 OK in 18ms (Views: 16.9ms | ActiveRecord: 0.5ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (52.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (7.2ms)
  Rendered admin/director/index.html.erb within layouts/application (10.5ms)
Completed 200 OK in 15ms (Views: 13.2ms | ActiveRecord: 0.7ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/show.html.erb within layouts/application (2.5ms)
Completed 200 OK in 11ms (Views: 8.1ms | ActiveRecord: 0.8ms)
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.7ms)
  Rendered admin/director/new.html.erb within layouts/application (2.3ms)
Completed 200 OK in 6ms (Views: 5.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-26 10:44:03', '2018-04-26 10:44:03')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 6ms (Views: 5.5ms | ActiveRecord: 0.9ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (36.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[35mDirector Load (0.8ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-26 10:44:03' WHERE `directors`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 11ms (ActiveRecord: 2.1ms)
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.3ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (34.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-26 10:44:03', '2018-04-26 10:44:03')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (35.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 13ms (Views: 12.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (95.0ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-26', 45.0, '2018-04-26 10:44:49', '2018-04-26 10:44:49')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-26', 65.0, '2018-04-26 10:44:49', '2018-04-26 10:44:49')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-26', 85.0, '2018-04-26 10:44:49', '2018-04-26 10:44:49')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-26', 105.0, '2018-04-26 10:44:49', '2018-04-26 10:44:49')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-26', 125.0, '2018-04-26 10:44:49', '2018-04-26 10:44:49')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-26', 145.0, '2018-04-26 10:44:49', '2018-04-26 10:44:49')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-26', 165.0, '2018-04-26 10:44:49', '2018-04-26 10:44:49')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-26', 185.0, '2018-04-26 10:44:49', '2018-04-26 10:44:49')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:44:49', '2018-04-26 10:44:49')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:44:49', '2018-04-26 10:44:49')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-26 10:44:49', '2018-04-26 10:44:49')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-26 10:44:49', '2018-04-26 10:44:49')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-26 10:44:49', '2018-04-26 10:44:49')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-26 10:44:49', '2018-04-26 10:44:49')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-26 10:44:49', '2018-04-26 10:44:49')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-26 10:44:49', '2018-04-26 10:44:49')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-26 10:44:49', '2018-04-26 10:44:49')
  [1m[36mFixture Delete (83.7ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:44:49', '2018-04-26 12:44:49', 1, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:44:49', '2018-04-26 12:44:49', 2, 2)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:44:49', '2018-04-26 12:44:49', 2, 3)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:44:49', '2018-04-26 12:44:49', 2, 4)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:44:49', '2018-04-26 12:44:49', 2, 5)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:44:49', '2018-04-26 12:44:49', 2, 6)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:44:49', '2018-04-26 12:44:49', 2, 7)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:44:49', '2018-04-26 12:44:49', 3, 8)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:44:49', '2018-04-26 12:44:49', 4, 9)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:44:49', '2018-04-26 12:44:49', 5, 10)[0m
  [1m[35m (54.4ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/_form.html.erb (17.8ms)
  Rendered admin/producer/edit.html.erb within layouts/application (29.7ms)
Completed 200 OK in 796ms (Views: 775.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (0.5ms)
  Rendered admin/producer/new.html.erb within layouts/application (3.2ms)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.1ms)[0m  [1mDELETE FROM `producers` WHERE `producers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 6ms (ActiveRecord: 1.9ms)
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (3.4ms)
  Rendered admin/producer/index.html.erb within layouts/application (8.7ms)
Completed 200 OK in 14ms (Views: 12.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (36.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-26 10:44:50' WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 31ms (ActiveRecord: 2.8ms)
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (38.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (3.3ms)
  Rendered admin/producer/index.html.erb within layouts/application (6.2ms)
Completed 200 OK in 11ms (Views: 9.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 9ms (Views: 6.6ms | ActiveRecord: 0.6ms)
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-26 10:44:50', '2018-04-26 10:44:50')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 9ms (ActiveRecord: 1.6ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (126.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 13ms (Views: 12.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-26 10:44:50' WHERE `directors`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 18ms (ActiveRecord: 1.9ms)
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (38.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/_form.html.erb (1.9ms)
  Rendered admin/director/edit.html.erb within layouts/application (6.4ms)
Completed 200 OK in 22ms (Views: 18.7ms | ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM `directors` WHERE `directors`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 41ms (ActiveRecord: 3.5ms)
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.5ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (7.1ms)
  Rendered admin/director/index.html.erb within layouts/application (11.6ms)
Completed 200 OK in 16ms (Views: 15.1ms | ActiveRecord: 0.5ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (39.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (7.2ms)
  Rendered admin/director/index.html.erb within layouts/application (10.3ms)
Completed 200 OK in 15ms (Views: 13.0ms | ActiveRecord: 0.7ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.6ms)
  Rendered admin/director/new.html.erb within layouts/application (3.4ms)
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-26 10:44:51', '2018-04-26 10:44:51')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 7ms (Views: 7.1ms | ActiveRecord: 1.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (44.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/director/_form.html.erb (4.8ms)
  Rendered admin/director/new.html.erb within layouts/application (6.3ms)
Completed 200 OK in 44ms (Views: 9.4ms | ActiveRecord: 0.8ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/show.html.erb within layouts/application (2.3ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.6ms)
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.6ms)
  Rendered admin/director/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-26 10:44:51', '2018-04-26 10:44:51')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (40.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.7ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-26 10:44:51', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-26 10:44:51', '2018-04-26 10:44:51')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 59, '2018-04-26 10:44:51', '2018-04-26 10:44:51')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 59, '2018-04-26 10:44:51', '2018-04-26 10:44:51')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 59 LIMIT 1[0m
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 59
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1
  [1m[36m (41.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.7ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-26 10:44:51', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-26 10:44:51', '2018-04-26 10:44:51')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 60, '2018-04-26 10:44:51', '2018-04-26 10:44:51')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 60, '2018-04-26 10:44:51', '2018-04-26 10:44:51')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 60 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (35.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------
MovieTest: test_create
----------------------
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.8ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-26 10:44:51', '12425', 'A great movie', 375, 45.5, '2018-04-26 10:44:51', '2018-04-26 10:44:51')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 61, '2018-04-26 10:44:51', '2018-04-26 10:44:51')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 61, '2018-04-26 10:44:51', '2018-04-26 10:44:51')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 61, '2018-04-26 10:44:51', '2018-04-26 10:44:51')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 61, '2018-04-26 10:44:51', '2018-04-26 10:44:51')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 61, '2018-04-26 10:44:51', '2018-04-26 10:44:51')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (35.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-26 10:44:51', '2018-04-26 10:44:51')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-26 10:44:51', '2018-04-26 10:44:51')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1[0m
  [1m[35mProducer Load (0.4ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-26 12:44:51 +0200
Processing by Admin::MovieController#new as HTML
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (23.0ms)
  Rendered admin/movie/new.html.erb within layouts/application (26.0ms)
Completed 200 OK in 52ms (Views: 35.0ms | ActiveRecord: 1.3ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-26 12:44:51 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"31", "director_ids"=>["51"], "produced_at"=>"2018-04-26 12:44:51 +0200", "serial_number"=>"123-123-123-X", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 51 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 31 LIMIT 1[0m
  [1m[35mMovie Exists (0.9ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '123-1' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (14.6ms)
  Rendered admin/movie/new.html.erb within layouts/application (16.0ms)
Completed 200 OK in 41ms (Views: 18.3ms | ActiveRecord: 3.7ms)
  [1m[35m (43.7ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (92.6ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-26', 45.0, '2018-04-26 10:45:11', '2018-04-26 10:45:11')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-26', 65.0, '2018-04-26 10:45:11', '2018-04-26 10:45:11')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-26', 85.0, '2018-04-26 10:45:11', '2018-04-26 10:45:11')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-26', 105.0, '2018-04-26 10:45:11', '2018-04-26 10:45:11')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-26', 125.0, '2018-04-26 10:45:11', '2018-04-26 10:45:11')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-26', 145.0, '2018-04-26 10:45:11', '2018-04-26 10:45:11')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-26', 165.0, '2018-04-26 10:45:11', '2018-04-26 10:45:11')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-26', 185.0, '2018-04-26 10:45:11', '2018-04-26 10:45:11')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:45:11', '2018-04-26 10:45:11')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:45:11', '2018-04-26 10:45:11')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-26 10:45:11', '2018-04-26 10:45:11')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-26 10:45:11', '2018-04-26 10:45:11')
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-26 10:45:11', '2018-04-26 10:45:11')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-26 10:45:11', '2018-04-26 10:45:11')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-26 10:45:11', '2018-04-26 10:45:11')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-26 10:45:11', '2018-04-26 10:45:11')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-26 10:45:11', '2018-04-26 10:45:11')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:45:11', '2018-04-26 12:45:11', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:45:11', '2018-04-26 12:45:11', 2, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:45:11', '2018-04-26 12:45:11', 2, 3)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:45:11', '2018-04-26 12:45:11', 2, 4)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:45:11', '2018-04-26 12:45:11', 2, 5)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:45:11', '2018-04-26 12:45:11', 2, 6)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:45:11', '2018-04-26 12:45:11', 2, 7)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:45:11', '2018-04-26 12:45:11', 3, 8)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:45:11', '2018-04-26 12:45:11', 4, 9)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:45:11', '2018-04-26 12:45:11', 5, 10)[0m
  [1m[35m (32.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (14.1ms)
  Rendered admin/director/new.html.erb within layouts/application (22.9ms)
Completed 200 OK in 657ms (Views: 649.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.5ms)
  Rendered admin/director/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-26 10:45:12', '2018-04-26 10:45:12')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 7ms (Views: 4.3ms | ActiveRecord: 1.1ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (38.8ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/director/_form.html.erb (4.7ms)
  Rendered admin/director/new.html.erb within layouts/application (6.2ms)
Completed 200 OK in 38ms (Views: 9.1ms | ActiveRecord: 0.7ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (9.2ms)
  Rendered admin/director/index.html.erb within layouts/application (14.2ms)
Completed 200 OK in 19ms (Views: 17.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM `directors` WHERE `directors`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 54ms (ActiveRecord: 3.8ms)
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (6.1ms)
  Rendered admin/director/index.html.erb within layouts/application (8.8ms)
Completed 200 OK in 13ms (Views: 11.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (38.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/_form.html.erb (0.8ms)
  Rendered admin/director/edit.html.erb within layouts/application (4.0ms)
Completed 200 OK in 10ms (Views: 8.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-26 10:45:12' WHERE `directors`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 11ms (ActiveRecord: 1.8ms)
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (38.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.9ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/show.html.erb within layouts/application (2.1ms)
Completed 200 OK in 10ms (Views: 6.6ms | ActiveRecord: 0.9ms)
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 12ms (Views: 11.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-26 10:45:12', '2018-04-26 10:45:12')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (43.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[36mProducer Load (0.9ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.7ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-26 10:45:12', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-26 10:45:13', '2018-04-26 10:45:13')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 62, '2018-04-26 10:45:13', '2018-04-26 10:45:13')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 62, '2018-04-26 10:45:13', '2018-04-26 10:45:13')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 62 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (36.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------
MovieTest: test_create
----------------------
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors`
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-26 10:45:13', '12425', 'A great movie', 375, 45.5, '2018-04-26 10:45:13', '2018-04-26 10:45:13')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 63, '2018-04-26 10:45:13', '2018-04-26 10:45:13')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 63, '2018-04-26 10:45:13', '2018-04-26 10:45:13')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 63, '2018-04-26 10:45:13', '2018-04-26 10:45:13')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 63, '2018-04-26 10:45:13', '2018-04-26 10:45:13')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 63, '2018-04-26 10:45:13', '2018-04-26 10:45:13')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (45.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1
  [1m[36m (1.7ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[35mDirector Load (1.2ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35mProducer Load (0.3ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-26 10:45:13', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-26 10:45:13', '2018-04-26 10:45:13')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 64, '2018-04-26 10:45:13', '2018-04-26 10:45:13')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 64, '2018-04-26 10:45:13', '2018-04-26 10:45:13')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 64 LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 64[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35m (41.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-26 10:45:13', '2018-04-26 10:45:13')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-26 10:45:13', '2018-04-26 10:45:13')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-26 12:45:13 +0200
Processing by Admin::MovieController#new as HTML
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (26.1ms)
  Rendered admin/movie/new.html.erb within layouts/application (29.5ms)
Completed 200 OK in 59ms (Views: 39.1ms | ActiveRecord: 1.5ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-26 12:45:13 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"32", "director_ids"=>["54"], "produced_at"=>"2018-04-26 12:45:13 +0200", "serial_number"=>"123-123-123-X", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 54 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 32 LIMIT 1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '123-1' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (16.1ms)
  Rendered admin/movie/new.html.erb within layouts/application (17.7ms)
Completed 200 OK in 44ms (Views: 19.8ms | ActiveRecord: 3.8ms)
  [1m[35m (37.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.7ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (4.6ms)
  Rendered admin/producer/index.html.erb within layouts/application (9.7ms)
Completed 200 OK in 21ms (Views: 20.0ms | ActiveRecord: 0.7ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (1.2ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-26 10:45:13' WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 15ms (ActiveRecord: 3.3ms)
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (39.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/_form.html.erb (1.6ms)
  Rendered admin/producer/edit.html.erb within layouts/application (6.1ms)
Completed 200 OK in 13ms (Views: 10.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 9ms (Views: 6.5ms | ActiveRecord: 0.6ms)
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  DELETE FROM `producers` WHERE `producers`.`id` = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 6ms (ActiveRecord: 2.1ms)
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (2.5ms)
  Rendered admin/producer/index.html.erb within layouts/application (5.0ms)
Completed 200 OK in 9ms (Views: 8.1ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (42.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (0.9ms)
  Rendered admin/producer/new.html.erb within layouts/application (5.3ms)
Completed 200 OK in 11ms (Views: 10.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.5ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-26 10:45:13', '2018-04-26 10:45:13')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 9ms (ActiveRecord: 1.8ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (42.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-26', 45.0, '2018-04-26 10:45:41', '2018-04-26 10:45:41')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-26', 65.0, '2018-04-26 10:45:41', '2018-04-26 10:45:41')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-26', 85.0, '2018-04-26 10:45:41', '2018-04-26 10:45:41')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-26', 105.0, '2018-04-26 10:45:41', '2018-04-26 10:45:41')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-26', 125.0, '2018-04-26 10:45:41', '2018-04-26 10:45:41')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-26', 145.0, '2018-04-26 10:45:41', '2018-04-26 10:45:41')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-26', 165.0, '2018-04-26 10:45:41', '2018-04-26 10:45:41')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-26', 185.0, '2018-04-26 10:45:41', '2018-04-26 10:45:41')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:45:41', '2018-04-26 10:45:41')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:45:41', '2018-04-26 10:45:41')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-26 10:45:41', '2018-04-26 10:45:41')[0m
  [1m[35mFixture Insert (1.2ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-26 10:45:41', '2018-04-26 10:45:41')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-26 10:45:41', '2018-04-26 10:45:41')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-26 10:45:41', '2018-04-26 10:45:41')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-26 10:45:41', '2018-04-26 10:45:41')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-26 10:45:41', '2018-04-26 10:45:41')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-26 10:45:41', '2018-04-26 10:45:41')
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:45:41', '2018-04-26 12:45:41', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:45:41', '2018-04-26 12:45:41', 2, 2)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:45:41', '2018-04-26 12:45:41', 2, 3)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:45:41', '2018-04-26 12:45:41', 2, 4)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:45:41', '2018-04-26 12:45:41', 2, 5)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:45:41', '2018-04-26 12:45:41', 2, 6)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:45:41', '2018-04-26 12:45:41', 2, 7)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:45:41', '2018-04-26 12:45:41', 3, 8)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:45:41', '2018-04-26 12:45:41', 4, 9)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:45:41', '2018-04-26 12:45:41', 5, 10)[0m
  [1m[35m (33.3ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.7ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-26 10:45:41', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-26 10:45:41', '2018-04-26 10:45:41')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 65, '2018-04-26 10:45:41', '2018-04-26 10:45:41')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 65, '2018-04-26 10:45:41', '2018-04-26 10:45:41')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 65 LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (36.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
----------------------
MovieTest: test_create
----------------------
  [1m[36mProducer Load (1.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT `directors`.* FROM `directors`
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-26 10:45:42', '12425', 'A great movie', 375, 45.5, '2018-04-26 10:45:42', '2018-04-26 10:45:42')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 66, '2018-04-26 10:45:42', '2018-04-26 10:45:42')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 66, '2018-04-26 10:45:42', '2018-04-26 10:45:42')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 66, '2018-04-26 10:45:42', '2018-04-26 10:45:42')[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 66, '2018-04-26 10:45:42', '2018-04-26 10:45:42')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 66, '2018-04-26 10:45:42', '2018-04-26 10:45:42')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (38.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35mProducer Load (0.4ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-26 10:45:42', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-26 10:45:42', '2018-04-26 10:45:42')
  [1m[36mSQL (63.9ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 67, '2018-04-26 10:45:42', '2018-04-26 10:45:42')[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 67, '2018-04-26 10:45:42', '2018-04-26 10:45:42')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 67 LIMIT 1
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 67[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35m (43.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-26 10:45:42', '2018-04-26 10:45:42')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-26 10:45:42', '2018-04-26 10:45:42')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-26 12:45:42 +0200
Processing by Admin::MovieController#new as HTML
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (42.4ms)
  Rendered admin/movie/new.html.erb within layouts/application (54.1ms)
Completed 200 OK in 698ms (Views: 679.1ms | ActiveRecord: 1.1ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-26 12:45:43 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"34", "director_ids"=>["55"], "produced_at"=>"2018-04-26 12:45:42 +0200", "serial_number"=>"123-123-123-X", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 55 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 34 LIMIT 1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '123-1' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (17.1ms)
  Rendered admin/movie/new.html.erb within layouts/application (18.8ms)
Completed 200 OK in 45ms (Views: 21.0ms | ActiveRecord: 3.7ms)
  [1m[35m (45.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (4.9ms)
  Rendered admin/producer/index.html.erb within layouts/application (9.7ms)
Completed 200 OK in 22ms (Views: 20.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (2.0ms)
  Rendered admin/producer/new.html.erb within layouts/application (6.1ms)
Completed 200 OK in 11ms (Views: 10.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-26 10:45:43' WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 14ms (ActiveRecord: 2.5ms)
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (42.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-26 10:45:43', '2018-04-26 10:45:43')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 9ms (ActiveRecord: 1.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (123.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (1.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/show.html.erb within layouts/application (2.7ms)
Completed 200 OK in 11ms (Views: 7.5ms | ActiveRecord: 1.0ms)
  [1m[35mProducer Exists (0.8ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/_form.html.erb (0.6ms)
  Rendered admin/producer/edit.html.erb within layouts/application (4.4ms)
Completed 200 OK in 10ms (Views: 8.0ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  DELETE FROM `producers` WHERE `producers`.`id` = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 6ms (ActiveRecord: 2.4ms)
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.5ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (1.8ms)
  Rendered admin/producer/index.html.erb within layouts/application (4.0ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.5ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (44.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 11ms (Views: 10.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-26 10:45:43', '2018-04-26 10:45:43')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (39.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/_form.html.erb (1.8ms)
  Rendered admin/director/edit.html.erb within layouts/application (5.7ms)
Completed 200 OK in 19ms (Views: 15.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/show.html.erb within layouts/application (2.0ms)
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 0.6ms)
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.6ms)
  Rendered admin/director/new.html.erb within layouts/application (3.0ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-26 10:45:43', '2018-04-26 10:45:43')
  [1m[36m (0.6ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 7ms (Views: 6.3ms | ActiveRecord: 1.3ms)
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (125.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/director/_form.html.erb (4.7ms)
  Rendered admin/director/new.html.erb within layouts/application (6.2ms)
Completed 200 OK in 16ms (Views: 9.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.7ms)
  Rendered admin/director/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `directors` WHERE `directors`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 8ms (ActiveRecord: 2.0ms)
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (8.3ms)
  Rendered admin/director/index.html.erb within layouts/application (13.9ms)
Completed 200 OK in 19ms (Views: 17.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (40.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (7.5ms)
  Rendered admin/director/index.html.erb within layouts/application (10.8ms)
Completed 200 OK in 15ms (Views: 13.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-26 10:45:44' WHERE `directors`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 10ms (ActiveRecord: 2.0ms)
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (47.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (117.5ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-26', 45.0, '2018-04-26 10:48:00', '2018-04-26 10:48:00')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-26', 65.0, '2018-04-26 10:48:00', '2018-04-26 10:48:00')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-26', 85.0, '2018-04-26 10:48:00', '2018-04-26 10:48:00')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-26', 105.0, '2018-04-26 10:48:00', '2018-04-26 10:48:00')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-26', 125.0, '2018-04-26 10:48:00', '2018-04-26 10:48:00')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-26', 145.0, '2018-04-26 10:48:00', '2018-04-26 10:48:00')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-26', 165.0, '2018-04-26 10:48:00', '2018-04-26 10:48:00')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-26', 185.0, '2018-04-26 10:48:00', '2018-04-26 10:48:00')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:48:00', '2018-04-26 10:48:00')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:48:00', '2018-04-26 10:48:00')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-26 10:48:00', '2018-04-26 10:48:00')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-26 10:48:00', '2018-04-26 10:48:00')
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-26 10:48:00', '2018-04-26 10:48:00')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-26 10:48:00', '2018-04-26 10:48:00')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-26 10:48:00', '2018-04-26 10:48:00')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-26 10:48:00', '2018-04-26 10:48:00')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-26 10:48:00', '2018-04-26 10:48:00')
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:48:00', '2018-04-26 12:48:00', 1, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:48:00', '2018-04-26 12:48:00', 2, 2)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:48:00', '2018-04-26 12:48:00', 2, 3)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:48:00', '2018-04-26 12:48:00', 2, 4)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:48:00', '2018-04-26 12:48:00', 2, 5)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:48:00', '2018-04-26 12:48:00', 2, 6)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:48:00', '2018-04-26 12:48:00', 2, 7)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:48:00', '2018-04-26 12:48:00', 3, 8)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:48:00', '2018-04-26 12:48:00', 4, 9)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:48:00', '2018-04-26 12:48:00', 5, 10)[0m
  [1m[35m (44.2ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-26 10:48:00', '2018-04-26 10:48:00')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (42.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-26 10:48:00', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-26 10:48:00', '2018-04-26 10:48:00')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 68, '2018-04-26 10:48:00', '2018-04-26 10:48:00')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 68, '2018-04-26 10:48:00', '2018-04-26 10:48:00')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 68 LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 68[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35m (46.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------
MovieTest: test_create
----------------------
  [1m[35mProducer Load (0.9ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.8ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-26 10:48:01', '12425', 'A great movie', 375, 45.5, '2018-04-26 10:48:01', '2018-04-26 10:48:01')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 69, '2018-04-26 10:48:01', '2018-04-26 10:48:01')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 69, '2018-04-26 10:48:01', '2018-04-26 10:48:01')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 69, '2018-04-26 10:48:01', '2018-04-26 10:48:01')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 69, '2018-04-26 10:48:01', '2018-04-26 10:48:01')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 69, '2018-04-26 10:48:01', '2018-04-26 10:48:01')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (73.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[35mProducer Load (0.9ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-26 10:48:01', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-26 10:48:01', '2018-04-26 10:48:01')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 70, '2018-04-26 10:48:01', '2018-04-26 10:48:01')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 70, '2018-04-26 10:48:01', '2018-04-26 10:48:01')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 70 LIMIT 1[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (46.8ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `directors` WHERE `directors`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 9ms (ActiveRecord: 2.1ms)
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (7.9ms)
  Rendered admin/director/index.html.erb within layouts/application (20.6ms)
Completed 200 OK in 672ms (Views: 670.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (96.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (14.4ms)
  Rendered admin/director/new.html.erb within layouts/application (18.5ms)
Completed 200 OK in 26ms (Views: 24.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-26 10:48:02', '2018-04-26 10:48:02')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 7ms (Views: 24.8ms | ActiveRecord: 1.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (42.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.9ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/_form.html.erb (0.6ms)
  Rendered admin/director/edit.html.erb within layouts/application (4.2ms)
Completed 200 OK in 12ms (Views: 8.5ms | ActiveRecord: 0.9ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (6.6ms)
  Rendered admin/director/index.html.erb within layouts/application (9.3ms)
Completed 200 OK in 13ms (Views: 11.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/director/_form.html.erb (6.6ms)
  Rendered admin/director/new.html.erb within layouts/application (9.2ms)
Completed 200 OK in 20ms (Views: 13.1ms | ActiveRecord: 0.9ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-26 10:48:02' WHERE `directors`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 11ms (ActiveRecord: 2.2ms)
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (46.8ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.9ms)
  Rendered admin/director/new.html.erb within layouts/application (3.1ms)
Completed 200 OK in 8ms (Views: 6.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/show.html.erb within layouts/application (2.7ms)
Completed 200 OK in 10ms (Views: 7.4ms | ActiveRecord: 0.7ms)
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-26 10:48:02', '2018-04-26 10:48:02')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-26 10:48:02', '2018-04-26 10:48:02')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1[0m
  [1m[35mProducer Load (0.4ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-26 12:48:02 +0200
Processing by Admin::MovieController#new as HTML
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (27.9ms)
  Rendered admin/movie/new.html.erb within layouts/application (31.7ms)
Completed 200 OK in 61ms (Views: 42.0ms | ActiveRecord: 1.1ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-26 12:48:02 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"36", "director_ids"=>["60"], "produced_at"=>"2018-04-26 12:48:02 +0200", "serial_number"=>"123-123-123-X", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 60 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 36 LIMIT 1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '123-1' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (1.3ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (16.4ms)
  Rendered admin/movie/new.html.erb within layouts/application (17.9ms)
Completed 200 OK in 44ms (Views: 19.5ms | ActiveRecord: 4.5ms)
  [1m[35m (68.8ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 13ms (Views: 12.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.5ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-26 10:48:02', '2018-04-26 10:48:02')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 10ms (ActiveRecord: 1.6ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (42.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.9ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 18ms (Views: 14.7ms | ActiveRecord: 0.9ms)
  [1m[36mProducer Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-26 10:48:02' WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 11ms (ActiveRecord: 2.5ms)
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (48.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (1.7ms)
  Rendered admin/producer/new.html.erb within layouts/application (7.4ms)
Completed 200 OK in 13ms (Views: 12.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.7ms)[0m  DELETE FROM `producers` WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 7ms (ActiveRecord: 2.6ms)
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (4.1ms)
  Rendered admin/producer/index.html.erb within layouts/application (8.9ms)
Completed 200 OK in 14ms (Views: 12.9ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (47.9ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/_form.html.erb (0.6ms)
  Rendered admin/producer/edit.html.erb within layouts/application (5.9ms)
Completed 200 OK in 14ms (Views: 10.9ms | ActiveRecord: 0.8ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (3.7ms)
  Rendered admin/producer/index.html.erb within layouts/application (6.3ms)
Completed 200 OK in 10ms (Views: 8.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (88.2ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-26', 45.0, '2018-04-26 10:49:07', '2018-04-26 10:49:07')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-26', 65.0, '2018-04-26 10:49:07', '2018-04-26 10:49:07')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-26', 85.0, '2018-04-26 10:49:07', '2018-04-26 10:49:07')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-26', 105.0, '2018-04-26 10:49:07', '2018-04-26 10:49:07')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-26', 125.0, '2018-04-26 10:49:07', '2018-04-26 10:49:07')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-26', 145.0, '2018-04-26 10:49:07', '2018-04-26 10:49:07')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-26', 165.0, '2018-04-26 10:49:07', '2018-04-26 10:49:07')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-26', 185.0, '2018-04-26 10:49:07', '2018-04-26 10:49:07')[0m
  [1m[35mFixture Insert (0.9ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:49:07', '2018-04-26 10:49:07')
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:49:07', '2018-04-26 10:49:07')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-26 10:49:07', '2018-04-26 10:49:07')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-26 10:49:07', '2018-04-26 10:49:07')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-26 10:49:07', '2018-04-26 10:49:07')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-26 10:49:07', '2018-04-26 10:49:07')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-26 10:49:07', '2018-04-26 10:49:07')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-26 10:49:07', '2018-04-26 10:49:07')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-26 10:49:07', '2018-04-26 10:49:07')
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:49:07', '2018-04-26 12:49:07', 1, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:49:07', '2018-04-26 12:49:07', 2, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:49:07', '2018-04-26 12:49:07', 2, 3)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:49:07', '2018-04-26 12:49:07', 2, 4)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:49:07', '2018-04-26 12:49:07', 2, 5)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:49:07', '2018-04-26 12:49:07', 2, 6)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:49:07', '2018-04-26 12:49:07', 2, 7)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:49:07', '2018-04-26 12:49:07', 3, 8)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:49:07', '2018-04-26 12:49:07', 4, 9)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:49:07', '2018-04-26 12:49:07', 5, 10)[0m
  [1m[35m (45.6ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-26 10:49:07', '2018-04-26 10:49:07')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (49.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (14.1ms)
  Rendered admin/producer/new.html.erb within layouts/application (25.1ms)
Completed 200 OK in 784ms (Views: 778.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 21ms (Views: 6.5ms | ActiveRecord: 0.6ms)
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  DELETE FROM `producers` WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 7ms (ActiveRecord: 2.5ms)
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (3.8ms)
  Rendered admin/producer/index.html.erb within layouts/application (8.6ms)
Completed 200 OK in 14ms (Views: 12.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (54.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/_form.html.erb (0.5ms)
  Rendered admin/producer/edit.html.erb within layouts/application (4.9ms)
Completed 200 OK in 12ms (Views: 9.1ms | ActiveRecord: 0.8ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (5.3ms)
  Rendered admin/producer/index.html.erb within layouts/application (8.4ms)
Completed 200 OK in 13ms (Views: 11.5ms | ActiveRecord: 0.7ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.7ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mSQL (1.2ms)[0m  [1mUPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-26 10:49:08' WHERE `producers`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 13ms (ActiveRecord: 3.0ms)
  [1m[36mProducer Load (1.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (43.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.7ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-26 10:49:08', '2018-04-26 10:49:08')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 10ms (ActiveRecord: 2.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (45.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 13ms (Views: 12.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-26 10:49:08', '2018-04-26 10:49:08')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-26 10:49:08', '2018-04-26 10:49:08')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-26 12:49:08 +0200
Processing by Admin::MovieController#new as HTML
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (87.3ms)
  Rendered admin/movie/new.html.erb within layouts/application (91.0ms)
Completed 200 OK in 138ms (Views: 99.6ms | ActiveRecord: 2.8ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-26 12:49:08 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"39", "director_ids"=>["62"], "produced_at"=>"2018-04-26 12:49:08 +0200", "serial_number"=>"123-123-123-X", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[36mDirector Load (1.0ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 62 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 39 LIMIT 1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '123-1' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (17.0ms)
  Rendered admin/movie/new.html.erb within layouts/application (18.7ms)
Completed 200 OK in 63ms (Views: 20.8ms | ActiveRecord: 4.7ms)
  [1m[35m (96.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[35mDirector Load (0.8ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35mProducer Load (0.9ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-26 10:49:09', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-26 10:49:09', '2018-04-26 10:49:09')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 71, '2018-04-26 10:49:09', '2018-04-26 10:49:09')[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 71, '2018-04-26 10:49:09', '2018-04-26 10:49:09')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 71 LIMIT 1
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 71[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35m (44.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------
MovieTest: test_create
----------------------
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (1.0ms)[0m  SELECT `directors`.* FROM `directors`
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-26 10:49:09', '12425', 'A great movie', 375, 45.5, '2018-04-26 10:49:09', '2018-04-26 10:49:09')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 72, '2018-04-26 10:49:09', '2018-04-26 10:49:09')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 72, '2018-04-26 10:49:09', '2018-04-26 10:49:09')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 72, '2018-04-26 10:49:09', '2018-04-26 10:49:09')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 72, '2018-04-26 10:49:09', '2018-04-26 10:49:09')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 72, '2018-04-26 10:49:09', '2018-04-26 10:49:09')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (44.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.7ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-26 10:49:09', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-26 10:49:09', '2018-04-26 10:49:09')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 73, '2018-04-26 10:49:09', '2018-04-26 10:49:09')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 73, '2018-04-26 10:49:09', '2018-04-26 10:49:09')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 73 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (41.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (1.9ms)
  Rendered admin/director/new.html.erb within layouts/application (6.1ms)
Completed 200 OK in 18ms (Views: 17.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-26 10:49:09', '2018-04-26 10:49:09')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 7ms (Views: 17.5ms | ActiveRecord: 0.9ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (35.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.8ms)
  Rendered admin/director/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-26 10:49:09' WHERE `directors`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 10ms (ActiveRecord: 1.7ms)
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (42.0ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (10.4ms)
  Rendered admin/director/index.html.erb within layouts/application (15.7ms)
Completed 200 OK in 20ms (Views: 18.9ms | ActiveRecord: 0.6ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `directors` WHERE `directors`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 8ms (ActiveRecord: 2.3ms)
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (7.1ms)
  Rendered admin/director/index.html.erb within layouts/application (10.1ms)
Completed 200 OK in 14ms (Views: 13.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (32.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/show.html.erb within layouts/application (3.2ms)
Completed 200 OK in 10ms (Views: 7.8ms | ActiveRecord: 0.8ms)
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/director/_form.html.erb (4.2ms)
  Rendered admin/director/new.html.erb within layouts/application (5.8ms)
Completed 200 OK in 14ms (Views: 8.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/_form.html.erb (0.8ms)
  Rendered admin/director/edit.html.erb within layouts/application (3.8ms)
Completed 200 OK in 9ms (Views: 7.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (95.5ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.9ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-26', 45.0, '2018-04-26 10:51:03', '2018-04-26 10:51:03')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-26', 65.0, '2018-04-26 10:51:03', '2018-04-26 10:51:03')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-26', 85.0, '2018-04-26 10:51:03', '2018-04-26 10:51:03')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-26', 105.0, '2018-04-26 10:51:03', '2018-04-26 10:51:03')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-26', 125.0, '2018-04-26 10:51:03', '2018-04-26 10:51:03')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-26', 145.0, '2018-04-26 10:51:03', '2018-04-26 10:51:03')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-26', 165.0, '2018-04-26 10:51:03', '2018-04-26 10:51:03')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-26', 185.0, '2018-04-26 10:51:03', '2018-04-26 10:51:03')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:51:03', '2018-04-26 10:51:03')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:51:03', '2018-04-26 10:51:03')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-26 10:51:03', '2018-04-26 10:51:03')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-26 10:51:03', '2018-04-26 10:51:03')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-26 10:51:03', '2018-04-26 10:51:03')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-26 10:51:03', '2018-04-26 10:51:03')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-26 10:51:03', '2018-04-26 10:51:03')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-26 10:51:03', '2018-04-26 10:51:03')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-26 10:51:03', '2018-04-26 10:51:03')
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:51:03', '2018-04-26 12:51:03', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:51:03', '2018-04-26 12:51:03', 2, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:51:03', '2018-04-26 12:51:03', 2, 3)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:51:03', '2018-04-26 12:51:03', 2, 4)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:51:03', '2018-04-26 12:51:03', 2, 5)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:51:03', '2018-04-26 12:51:03', 2, 6)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:51:03', '2018-04-26 12:51:03', 2, 7)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:51:03', '2018-04-26 12:51:03', 3, 8)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:51:03', '2018-04-26 12:51:03', 4, 9)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:51:03', '2018-04-26 12:51:03', 5, 10)[0m
  [1m[35m (44.8ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.6ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-26 10:51:03', '2018-04-26 10:51:03')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-26 10:51:03', '2018-04-26 10:51:03')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1[0m
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-26 12:51:03 +0200
Processing by Admin::MovieController#new as HTML
  [1m[35mProducer Load (0.5ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (83.8ms)
  Rendered admin/movie/new.html.erb within layouts/application (93.3ms)
Completed 200 OK in 682ms (Views: 647.7ms | ActiveRecord: 2.3ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-26 12:51:04 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"40", "director_ids"=>["64"], "produced_at"=>"2018-04-26 12:51:03 +0200", "serial_number"=>"123-123-123-X", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[35mDirector Load (0.8ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 64 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 40 LIMIT 1
  [1m[36mMovie Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '123-1' LIMIT 1[0m
  [1m[35m (1.0ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (18.3ms)
  Rendered admin/movie/new.html.erb within layouts/application (20.3ms)
Completed 200 OK in 84ms (Views: 22.2ms | ActiveRecord: 5.5ms)
  [1m[36m (62.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.6ms)[0m  DELETE FROM `producers` WHERE `producers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 9ms (ActiveRecord: 3.0ms)
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (3.7ms)
  Rendered admin/producer/index.html.erb within layouts/application (8.3ms)
Completed 200 OK in 22ms (Views: 21.1ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (68.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.9ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-26 10:51:04' WHERE `producers`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 17ms (ActiveRecord: 3.1ms)
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (40.7ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.7ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-26 10:51:04', '2018-04-26 10:51:04')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 13ms (ActiveRecord: 2.3ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (42.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (1.7ms)
  Rendered admin/producer/new.html.erb within layouts/application (6.4ms)
Completed 200 OK in 13ms (Views: 12.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/_form.html.erb (0.5ms)
  Rendered admin/producer/edit.html.erb within layouts/application (4.8ms)
Completed 200 OK in 11ms (Views: 9.3ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (7.1ms)
  Rendered admin/producer/index.html.erb within layouts/application (14.3ms)
Completed 200 OK in 39ms (Views: 37.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/show.html.erb within layouts/application (3.4ms)
Completed 200 OK in 13ms (Views: 11.0ms | ActiveRecord: 0.6ms)
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 20ms (Views: 19.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------
MovieTest: test_create
----------------------
  [1m[36mProducer Load (1.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT `directors`.* FROM `directors`
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-26 10:51:04', '12425', 'A great movie', 375, 45.5, '2018-04-26 10:51:04', '2018-04-26 10:51:04')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 74, '2018-04-26 10:51:04', '2018-04-26 10:51:04')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 74, '2018-04-26 10:51:04', '2018-04-26 10:51:04')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 74, '2018-04-26 10:51:04', '2018-04-26 10:51:04')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 74, '2018-04-26 10:51:04', '2018-04-26 10:51:04')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 74, '2018-04-26 10:51:04', '2018-04-26 10:51:04')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (32.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.7ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-26 10:51:05', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-26 10:51:05', '2018-04-26 10:51:05')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 75, '2018-04-26 10:51:05', '2018-04-26 10:51:05')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 75, '2018-04-26 10:51:05', '2018-04-26 10:51:05')
  [1m[36m (1.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 75 LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 75[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35m (32.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[35mProducer Load (1.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-26 10:51:05', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-26 10:51:05', '2018-04-26 10:51:05')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 76, '2018-04-26 10:51:05', '2018-04-26 10:51:05')[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 76, '2018-04-26 10:51:05', '2018-04-26 10:51:05')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 76 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (37.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-26 10:51:05', '2018-04-26 10:51:05')[0m
  [1m[35m (1.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (33.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (11.5ms)
  Rendered admin/director/index.html.erb within layouts/application (18.0ms)
Completed 200 OK in 34ms (Views: 32.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/show.html.erb within layouts/application (2.4ms)
Completed 200 OK in 10ms (Views: 6.9ms | ActiveRecord: 0.6ms)
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mDELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `directors` WHERE `directors`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 10ms (ActiveRecord: 2.7ms)
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.5ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (6.5ms)
  Rendered admin/director/index.html.erb within layouts/application (9.2ms)
Completed 200 OK in 13ms (Views: 11.6ms | ActiveRecord: 0.5ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (40.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/director/_form.html.erb (7.0ms)
  Rendered admin/director/new.html.erb within layouts/application (11.6ms)
Completed 200 OK in 24ms (Views: 16.4ms | ActiveRecord: 0.7ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/_form.html.erb (0.8ms)
  Rendered admin/director/edit.html.erb within layouts/application (4.4ms)
Completed 200 OK in 10ms (Views: 8.6ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-26 10:51:05' WHERE `directors`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 9ms (ActiveRecord: 1.8ms)
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (36.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (1.3ms)
  Rendered admin/director/new.html.erb within layouts/application (3.7ms)
Completed 200 OK in 9ms (Views: 7.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-26 10:51:05', '2018-04-26 10:51:05')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 7ms (Views: 7.7ms | ActiveRecord: 0.9ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (40.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (1.5ms)
  Rendered admin/director/new.html.erb within layouts/application (4.1ms)
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-26', 45.0, '2018-04-26 10:51:25', '2018-04-26 10:51:25')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-26', 65.0, '2018-04-26 10:51:25', '2018-04-26 10:51:25')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-26', 85.0, '2018-04-26 10:51:25', '2018-04-26 10:51:25')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-26', 105.0, '2018-04-26 10:51:25', '2018-04-26 10:51:25')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-26', 125.0, '2018-04-26 10:51:25', '2018-04-26 10:51:25')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-26', 145.0, '2018-04-26 10:51:25', '2018-04-26 10:51:25')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-26', 165.0, '2018-04-26 10:51:25', '2018-04-26 10:51:25')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-26', 185.0, '2018-04-26 10:51:25', '2018-04-26 10:51:25')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:51:25', '2018-04-26 10:51:25')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:51:25', '2018-04-26 10:51:25')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-26 10:51:25', '2018-04-26 10:51:25')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-26 10:51:25', '2018-04-26 10:51:25')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-26 10:51:25', '2018-04-26 10:51:25')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-26 10:51:25', '2018-04-26 10:51:25')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-26 10:51:25', '2018-04-26 10:51:25')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-26 10:51:25', '2018-04-26 10:51:25')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-26 10:51:25', '2018-04-26 10:51:25')
  [1m[36mFixture Delete (75.4ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:51:25', '2018-04-26 12:51:25', 1, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:51:25', '2018-04-26 12:51:25', 2, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:51:25', '2018-04-26 12:51:25', 2, 3)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:51:25', '2018-04-26 12:51:25', 2, 4)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:51:25', '2018-04-26 12:51:25', 2, 5)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:51:25', '2018-04-26 12:51:25', 2, 6)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:51:25', '2018-04-26 12:51:25', 2, 7)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:51:25', '2018-04-26 12:51:25', 3, 8)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:51:25', '2018-04-26 12:51:25', 4, 9)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:51:25', '2018-04-26 12:51:25', 5, 10)[0m
  [1m[35m (44.3ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM `directors` WHERE `directors`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 63ms (ActiveRecord: 4.0ms)
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (7.6ms)
  Rendered admin/director/index.html.erb within layouts/application (19.0ms)
Completed 200 OK in 760ms (Views: 759.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (51.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-26 10:51:27' WHERE `directors`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 16ms (ActiveRecord: 1.9ms)
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (50.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (14.0ms)
  Rendered admin/director/new.html.erb within layouts/application (18.4ms)
Completed 200 OK in 26ms (Views: 24.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/show.html.erb within layouts/application (2.1ms)
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 0.6ms)
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/director/_form.html.erb (4.7ms)
  Rendered admin/director/new.html.erb within layouts/application (6.3ms)
Completed 200 OK in 35ms (Views: 9.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (7.4ms)
  Rendered admin/director/index.html.erb within layouts/application (10.2ms)
Completed 200 OK in 13ms (Views: 12.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.8ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/_form.html.erb (0.7ms)
  Rendered admin/director/edit.html.erb within layouts/application (4.1ms)
Completed 200 OK in 10ms (Views: 7.9ms | ActiveRecord: 0.8ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.6ms)
  Rendered admin/director/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-26 10:51:27', '2018-04-26 10:51:27')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 7ms (Views: 4.8ms | ActiveRecord: 0.9ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (30.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (67.9ms)[0m  [1mDELETE FROM `producers` WHERE `producers`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 81ms (ActiveRecord: 69.1ms)
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (3.0ms)
  Rendered admin/producer/index.html.erb within layouts/application (6.8ms)
Completed 200 OK in 18ms (Views: 17.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (38.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (4.8ms)
  Rendered admin/producer/index.html.erb within layouts/application (8.0ms)
Completed 200 OK in 12ms (Views: 10.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.9ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/show.html.erb within layouts/application (2.1ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.9ms)
  [1m[36mProducer Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/_form.html.erb (1.7ms)
  Rendered admin/producer/edit.html.erb within layouts/application (6.2ms)
Completed 200 OK in 12ms (Views: 10.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.5ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-26 10:51:27', '2018-04-26 10:51:27')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 8ms (ActiveRecord: 1.5ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (34.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (0.5ms)
  Rendered admin/producer/new.html.erb within layouts/application (6.7ms)
Completed 200 OK in 12ms (Views: 11.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.7ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-26 10:51:27' WHERE `producers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 10ms (ActiveRecord: 2.3ms)
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (32.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 55ms (Views: 54.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36mProducer Load (0.4ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-26 10:51:27', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-26 10:51:27', '2018-04-26 10:51:27')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 77, '2018-04-26 10:51:27', '2018-04-26 10:51:27')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 77, '2018-04-26 10:51:27', '2018-04-26 10:51:27')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 77 LIMIT 1[0m
  [1m[35m (1.2ms)[0m  SELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 77
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1
  [1m[36m (105.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------
MovieTest: test_create
----------------------
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT `directors`.* FROM `directors`
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-26 10:51:28', '12425', 'A great movie', 375, 45.5, '2018-04-26 10:51:28', '2018-04-26 10:51:28')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 78, '2018-04-26 10:51:28', '2018-04-26 10:51:28')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 78, '2018-04-26 10:51:28', '2018-04-26 10:51:28')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 78, '2018-04-26 10:51:28', '2018-04-26 10:51:28')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 78, '2018-04-26 10:51:28', '2018-04-26 10:51:28')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 78, '2018-04-26 10:51:28', '2018-04-26 10:51:28')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (39.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.7ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-26 10:51:28', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-26 10:51:28', '2018-04-26 10:51:28')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 79, '2018-04-26 10:51:28', '2018-04-26 10:51:28')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 79, '2018-04-26 10:51:28', '2018-04-26 10:51:28')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 79 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mProducer Load (0.4ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (34.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.7ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-26 10:51:28', '2018-04-26 10:51:28')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-26 10:51:28', '2018-04-26 10:51:28')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1[0m
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-26 12:51:28 +0200
Processing by Admin::MovieController#new as HTML
  [1m[35mProducer Load (0.5ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (26.4ms)
  Rendered admin/movie/new.html.erb within layouts/application (29.8ms)
Completed 200 OK in 59ms (Views: 40.0ms | ActiveRecord: 1.0ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-26 12:51:28 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"43", "director_ids"=>["68"], "produced_at"=>"2018-04-26 12:51:28 +0200", "serial_number"=>"123-123-123-X", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[35mDirector Load (0.9ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 68 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 43 LIMIT 1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '123-1' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (15.4ms)
  Rendered admin/movie/new.html.erb within layouts/application (16.7ms)
Completed 200 OK in 43ms (Views: 18.7ms | ActiveRecord: 4.0ms)
  [1m[36m (103.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-26 10:51:28', '2018-04-26 10:51:28')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (37.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.8ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (81.6ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-26', 45.0, '2018-04-26 10:52:53', '2018-04-26 10:52:53')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-26', 65.0, '2018-04-26 10:52:53', '2018-04-26 10:52:53')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-26', 85.0, '2018-04-26 10:52:53', '2018-04-26 10:52:53')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-26', 105.0, '2018-04-26 10:52:53', '2018-04-26 10:52:53')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-26', 125.0, '2018-04-26 10:52:53', '2018-04-26 10:52:53')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-26', 145.0, '2018-04-26 10:52:53', '2018-04-26 10:52:53')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-26', 165.0, '2018-04-26 10:52:53', '2018-04-26 10:52:53')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-26', 185.0, '2018-04-26 10:52:53', '2018-04-26 10:52:53')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:52:53', '2018-04-26 10:52:53')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:52:53', '2018-04-26 10:52:53')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-26 10:52:54', '2018-04-26 10:52:54')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-26 10:52:54', '2018-04-26 10:52:54')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-26 10:52:54', '2018-04-26 10:52:54')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-26 10:52:54', '2018-04-26 10:52:54')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-26 10:52:54', '2018-04-26 10:52:54')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-26 10:52:54', '2018-04-26 10:52:54')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-26 10:52:54', '2018-04-26 10:52:54')
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:52:53', '2018-04-26 12:52:53', 1, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:52:53', '2018-04-26 12:52:53', 2, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:52:53', '2018-04-26 12:52:53', 2, 3)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:52:53', '2018-04-26 12:52:53', 2, 4)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:52:53', '2018-04-26 12:52:53', 2, 5)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:52:53', '2018-04-26 12:52:53', 2, 6)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:52:53', '2018-04-26 12:52:53', 2, 7)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:52:53', '2018-04-26 12:52:53', 3, 8)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:52:53', '2018-04-26 12:52:53', 4, 9)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:52:53', '2018-04-26 12:52:53', 5, 10)[0m
  [1m[35m (45.7ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (18.0ms)
  Rendered admin/director/new.html.erb within layouts/application (28.6ms)
Completed 200 OK in 793ms (Views: 784.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-26 10:52:55', '2018-04-26 10:52:55')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 8ms (Views: 784.2ms | ActiveRecord: 1.0ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (40.8ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.6ms)
  Rendered admin/director/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 5ms (Views: 4.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (8.2ms)
  Rendered admin/director/index.html.erb within layouts/application (12.5ms)
Completed 200 OK in 18ms (Views: 17.2ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/_form.html.erb (1.0ms)
  Rendered admin/director/edit.html.erb within layouts/application (5.3ms)
Completed 200 OK in 21ms (Views: 10.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.4ms)[0m  UPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-26 10:52:55' WHERE `directors`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 13ms (ActiveRecord: 3.7ms)
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (41.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[35m (1.1ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[36m (0.7ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/director/_form.html.erb (4.9ms)
  Rendered admin/director/new.html.erb within layouts/application (6.6ms)
Completed 200 OK in 44ms (Views: 9.6ms | ActiveRecord: 1.1ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/show.html.erb within layouts/application (2.3ms)
Completed 200 OK in 9ms (Views: 6.5ms | ActiveRecord: 0.6ms)
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM `directors` WHERE `directors`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 47ms (ActiveRecord: 3.6ms)
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (5.9ms)
  Rendered admin/director/index.html.erb within layouts/application (8.7ms)
Completed 200 OK in 13ms (Views: 11.3ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (42.8ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-26 10:52:55', '2018-04-26 10:52:55')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-26 10:52:55', '2018-04-26 10:52:55')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-26 12:52:55 +0200
Processing by Admin::MovieController#new as HTML
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (77.9ms)
  Rendered admin/movie/new.html.erb within layouts/application (81.0ms)
Completed 200 OK in 122ms (Views: 89.6ms | ActiveRecord: 1.2ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-26 12:52:55 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"44", "director_ids"=>["71"], "produced_at"=>"2018-04-26 12:52:55 +0200", "serial_number"=>"123-123-123-X", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 71 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 44 LIMIT 1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '123-1' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (16.1ms)
  Rendered admin/movie/new.html.erb within layouts/application (17.4ms)
Completed 200 OK in 60ms (Views: 19.9ms | ActiveRecord: 4.3ms)
  [1m[35m (42.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.7ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (5.9ms)
  Rendered admin/producer/index.html.erb within layouts/application (11.8ms)
Completed 200 OK in 24ms (Views: 22.9ms | ActiveRecord: 0.7ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (2.2ms)
  Rendered admin/producer/new.html.erb within layouts/application (7.0ms)
Completed 200 OK in 13ms (Views: 12.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/_form.html.erb (0.5ms)
  Rendered admin/producer/edit.html.erb within layouts/application (4.6ms)
Completed 200 OK in 12ms (Views: 9.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/show.html.erb within layouts/application (2.4ms)
Completed 200 OK in 10ms (Views: 7.0ms | ActiveRecord: 0.8ms)
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-26 10:52:55', '2018-04-26 10:52:55')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 10ms (ActiveRecord: 1.8ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (43.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  DELETE FROM `producers` WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 6ms (ActiveRecord: 2.4ms)
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (2.1ms)
  Rendered admin/producer/index.html.erb within layouts/application (4.7ms)
Completed 200 OK in 9ms (Views: 7.6ms | ActiveRecord: 0.6ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (40.9ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.8ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-26 10:52:56' WHERE `producers`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 14ms (ActiveRecord: 3.1ms)
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (43.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------
MovieTest: test_create
----------------------
  [1m[35mProducer Load (0.9ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.7ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-26 10:52:56', '12425', 'A great movie', 375, 45.5, '2018-04-26 10:52:56', '2018-04-26 10:52:56')[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 80, '2018-04-26 10:52:56', '2018-04-26 10:52:56')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 80, '2018-04-26 10:52:56', '2018-04-26 10:52:56')[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 80, '2018-04-26 10:52:56', '2018-04-26 10:52:56')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 80, '2018-04-26 10:52:56', '2018-04-26 10:52:56')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 80, '2018-04-26 10:52:56', '2018-04-26 10:52:56')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (47.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-26 10:52:56', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-26 10:52:56', '2018-04-26 10:52:56')
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 81, '2018-04-26 10:52:56', '2018-04-26 10:52:56')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 81, '2018-04-26 10:52:56', '2018-04-26 10:52:56')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 81 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 81[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35m (47.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-26 10:52:56', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-26 10:52:56', '2018-04-26 10:52:56')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 82, '2018-04-26 10:52:56', '2018-04-26 10:52:56')[0m
  [1m[35mSQL (1.2ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 82, '2018-04-26 10:52:56', '2018-04-26 10:52:56')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 82 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (43.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 12ms (Views: 11.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-26 10:52:56', '2018-04-26 10:52:56')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (48.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-26', 45.0, '2018-04-26 10:53:16', '2018-04-26 10:53:16')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-26', 65.0, '2018-04-26 10:53:16', '2018-04-26 10:53:16')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-26', 85.0, '2018-04-26 10:53:16', '2018-04-26 10:53:16')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-26', 105.0, '2018-04-26 10:53:16', '2018-04-26 10:53:16')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-26', 125.0, '2018-04-26 10:53:16', '2018-04-26 10:53:16')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-26', 145.0, '2018-04-26 10:53:16', '2018-04-26 10:53:16')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-26', 165.0, '2018-04-26 10:53:16', '2018-04-26 10:53:16')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-26', 185.0, '2018-04-26 10:53:16', '2018-04-26 10:53:16')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:53:16', '2018-04-26 10:53:16')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:53:16', '2018-04-26 10:53:16')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-26 10:53:16', '2018-04-26 10:53:16')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-26 10:53:16', '2018-04-26 10:53:16')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-26 10:53:16', '2018-04-26 10:53:16')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-26 10:53:16', '2018-04-26 10:53:16')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-26 10:53:16', '2018-04-26 10:53:16')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-26 10:53:16', '2018-04-26 10:53:16')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-26 10:53:16', '2018-04-26 10:53:16')
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:53:16', '2018-04-26 12:53:16', 1, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:53:16', '2018-04-26 12:53:16', 2, 2)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:53:16', '2018-04-26 12:53:16', 2, 3)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:53:16', '2018-04-26 12:53:16', 2, 4)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:53:16', '2018-04-26 12:53:16', 2, 5)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:53:16', '2018-04-26 12:53:16', 2, 6)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:53:16', '2018-04-26 12:53:16', 2, 7)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:53:16', '2018-04-26 12:53:16', 3, 8)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:53:16', '2018-04-26 12:53:16', 4, 9)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:53:16', '2018-04-26 12:53:16', 5, 10)[0m
  [1m[35m (46.1ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (14.3ms)
  Rendered admin/producer/new.html.erb within layouts/application (25.5ms)
Completed 200 OK in 688ms (Views: 681.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (5.7ms)
  Rendered admin/producer/index.html.erb within layouts/application (10.7ms)
Completed 200 OK in 16ms (Views: 15.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/_form.html.erb (0.5ms)
  Rendered admin/producer/edit.html.erb within layouts/application (3.6ms)
Completed 200 OK in 22ms (Views: 8.0ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-26 10:53:17', '2018-04-26 10:53:17')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 22ms (ActiveRecord: 1.8ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (51.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-26 10:53:17' WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 17ms (ActiveRecord: 2.9ms)
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (41.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  DELETE FROM `producers` WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 8ms (ActiveRecord: 2.8ms)
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (2.4ms)
  Rendered admin/producer/index.html.erb within layouts/application (5.4ms)
Completed 200 OK in 10ms (Views: 9.1ms | ActiveRecord: 0.6ms)
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (110.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.9ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/show.html.erb within layouts/application (3.1ms)
Completed 200 OK in 12ms (Views: 9.4ms | ActiveRecord: 0.9ms)
  [1m[36mProducer Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mProducer Load (1.4ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.7ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-26 10:53:17', '2018-04-26 10:53:17')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-26 10:53:17', '2018-04-26 10:53:17')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1[0m
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-26 12:53:17 +0200
Processing by Admin::MovieController#new as HTML
  [1m[35mProducer Load (0.8ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (83.2ms)
  Rendered admin/movie/new.html.erb within layouts/application (86.9ms)
Completed 200 OK in 134ms (Views: 95.6ms | ActiveRecord: 2.6ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-26 12:53:17 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"47", "director_ids"=>["73"], "produced_at"=>"2018-04-26 12:53:17 +0200", "serial_number"=>"123-123-123-X", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[35mDirector Load (0.8ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 73 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 47 LIMIT 1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '123-1' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (17.3ms)
  Rendered admin/movie/new.html.erb within layouts/application (19.0ms)
Completed 200 OK in 108ms (Views: 21.2ms | ActiveRecord: 5.0ms)
  [1m[36m (83.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-26 10:53:17', '2018-04-26 10:53:17')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (45.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 12ms (Views: 11.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.8ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-26 10:53:18', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-26 10:53:18', '2018-04-26 10:53:18')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 83, '2018-04-26 10:53:18', '2018-04-26 10:53:18')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 83, '2018-04-26 10:53:18', '2018-04-26 10:53:18')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 83 LIMIT 1[0m
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 83
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35m (1.1ms)[0m  SELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1
  [1m[36m (39.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[36mProducer Load (0.9ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.7ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-26 10:53:18', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-26 10:53:18', '2018-04-26 10:53:18')[0m
  [1m[35mSQL (85.8ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 84, '2018-04-26 10:53:18', '2018-04-26 10:53:18')
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 84, '2018-04-26 10:53:18', '2018-04-26 10:53:18')[0m
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 84 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (41.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------
MovieTest: test_create
----------------------
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT `directors`.* FROM `directors`
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-26 10:53:18', '12425', 'A great movie', 375, 45.5, '2018-04-26 10:53:18', '2018-04-26 10:53:18')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 85, '2018-04-26 10:53:18', '2018-04-26 10:53:18')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 85, '2018-04-26 10:53:18', '2018-04-26 10:53:18')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 85, '2018-04-26 10:53:18', '2018-04-26 10:53:18')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 85, '2018-04-26 10:53:18', '2018-04-26 10:53:18')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 85, '2018-04-26 10:53:18', '2018-04-26 10:53:18')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (40.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/_form.html.erb (2.0ms)
  Rendered admin/director/edit.html.erb within layouts/application (6.6ms)
Completed 200 OK in 21ms (Views: 17.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (9.2ms)
  Rendered admin/director/index.html.erb within layouts/application (13.9ms)
Completed 200 OK in 18ms (Views: 17.2ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (1.6ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/director/_form.html.erb (6.0ms)
  Rendered admin/director/new.html.erb within layouts/application (10.4ms)
Completed 200 OK in 23ms (Views: 14.6ms | ActiveRecord: 1.8ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `directors` WHERE `directors`.`id` = 1[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 8ms (ActiveRecord: 2.2ms)
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (7.6ms)
  Rendered admin/director/index.html.erb within layouts/application (10.7ms)
Completed 200 OK in 15ms (Views: 13.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (40.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-26 10:53:18' WHERE `directors`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 10ms (ActiveRecord: 2.2ms)
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (45.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/show.html.erb within layouts/application (3.1ms)
Completed 200 OK in 12ms (Views: 9.2ms | ActiveRecord: 0.9ms)
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.8ms)
  Rendered admin/director/new.html.erb within layouts/application (2.5ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-26 10:53:18', '2018-04-26 10:53:18')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 6ms (Views: 5.9ms | ActiveRecord: 0.9ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (42.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (1.2ms)
  Rendered admin/director/new.html.erb within layouts/application (4.1ms)
Completed 200 OK in 10ms (Views: 8.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (141.6ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-26', 45.0, '2018-04-26 10:54:17', '2018-04-26 10:54:17')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-26', 65.0, '2018-04-26 10:54:17', '2018-04-26 10:54:17')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-26', 85.0, '2018-04-26 10:54:17', '2018-04-26 10:54:17')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-26', 105.0, '2018-04-26 10:54:17', '2018-04-26 10:54:17')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-26', 125.0, '2018-04-26 10:54:17', '2018-04-26 10:54:17')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-26', 145.0, '2018-04-26 10:54:17', '2018-04-26 10:54:17')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-26', 165.0, '2018-04-26 10:54:17', '2018-04-26 10:54:17')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-26', 185.0, '2018-04-26 10:54:17', '2018-04-26 10:54:17')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:54:17', '2018-04-26 10:54:17')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:54:17', '2018-04-26 10:54:17')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-26 10:54:17', '2018-04-26 10:54:17')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-26 10:54:17', '2018-04-26 10:54:17')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-26 10:54:17', '2018-04-26 10:54:17')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-26 10:54:17', '2018-04-26 10:54:17')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-26 10:54:17', '2018-04-26 10:54:17')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-26 10:54:17', '2018-04-26 10:54:17')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-26 10:54:17', '2018-04-26 10:54:17')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:54:17', '2018-04-26 12:54:17', 1, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:54:17', '2018-04-26 12:54:17', 2, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:54:17', '2018-04-26 12:54:17', 2, 3)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:54:17', '2018-04-26 12:54:17', 2, 4)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:54:17', '2018-04-26 12:54:17', 2, 5)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:54:17', '2018-04-26 12:54:17', 2, 6)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:54:17', '2018-04-26 12:54:17', 2, 7)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:54:17', '2018-04-26 12:54:17', 3, 8)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:54:17', '2018-04-26 12:54:17', 4, 9)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:54:17', '2018-04-26 12:54:17', 5, 10)[0m
  [1m[35m (35.3ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 747ms (Views: 746.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.8ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-26 10:54:18', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-26 10:54:18', '2018-04-26 10:54:18')[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 86, '2018-04-26 10:54:18', '2018-04-26 10:54:18')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 86, '2018-04-26 10:54:18', '2018-04-26 10:54:18')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 86 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (105.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35mProducer Load (0.3ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-26 10:54:19', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-26 10:54:19', '2018-04-26 10:54:19')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 87, '2018-04-26 10:54:19', '2018-04-26 10:54:19')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 87, '2018-04-26 10:54:19', '2018-04-26 10:54:19')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 87 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 87[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35m (38.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------
MovieTest: test_create
----------------------
  [1m[35mProducer Load (0.9ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-26 10:54:19', '12425', 'A great movie', 375, 45.5, '2018-04-26 10:54:19', '2018-04-26 10:54:19')[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 88, '2018-04-26 10:54:19', '2018-04-26 10:54:19')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 88, '2018-04-26 10:54:19', '2018-04-26 10:54:19')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 88, '2018-04-26 10:54:19', '2018-04-26 10:54:19')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 88, '2018-04-26 10:54:19', '2018-04-26 10:54:19')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 88, '2018-04-26 10:54:19', '2018-04-26 10:54:19')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (39.9ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-26 10:54:19', '2018-04-26 10:54:19')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (46.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.6ms)[0m  BEGIN
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `directors` WHERE `directors`.`id` = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 9ms (ActiveRecord: 1.9ms)
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (7.2ms)
  Rendered admin/director/index.html.erb within layouts/application (17.2ms)
Completed 200 OK in 30ms (Views: 28.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (42.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (14.4ms)
  Rendered admin/director/new.html.erb within layouts/application (19.2ms)
Completed 200 OK in 26ms (Views: 25.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-26 10:54:19', '2018-04-26 10:54:19')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 6ms (Views: 25.4ms | ActiveRecord: 0.9ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (42.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/director/_form.html.erb (4.6ms)
  Rendered admin/director/new.html.erb within layouts/application (6.1ms)
Completed 200 OK in 16ms (Views: 9.1ms | ActiveRecord: 0.6ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.6ms)
  Rendered admin/director/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (1.0ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/show.html.erb within layouts/application (3.4ms)
Completed 200 OK in 13ms (Views: 9.5ms | ActiveRecord: 1.0ms)
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (7.5ms)
  Rendered admin/director/index.html.erb within layouts/application (54.2ms)
Completed 200 OK in 57ms (Views: 56.4ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/_form.html.erb (0.6ms)
  Rendered admin/director/edit.html.erb within layouts/application (3.9ms)
Completed 200 OK in 10ms (Views: 8.0ms | ActiveRecord: 0.7ms)
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-26 10:54:19' WHERE `directors`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 11ms (ActiveRecord: 1.8ms)
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (121.2ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/show.html.erb within layouts/application (2.4ms)
Completed 200 OK in 15ms (Views: 12.7ms | ActiveRecord: 0.6ms)
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[36m (1.1ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-26 10:54:19', '2018-04-26 10:54:19')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 10ms (ActiveRecord: 2.1ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (44.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[36mProducer Load (0.9ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-26 10:54:19' WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 12ms (ActiveRecord: 2.9ms)
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (45.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/_form.html.erb (2.0ms)
  Rendered admin/producer/edit.html.erb within layouts/application (7.1ms)
Completed 200 OK in 13ms (Views: 11.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (4.7ms)
  Rendered admin/producer/index.html.erb within layouts/application (9.5ms)
Completed 200 OK in 14ms (Views: 12.9ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (0.6ms)
  Rendered admin/producer/new.html.erb within layouts/application (3.2ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.6ms)[0m  DELETE FROM `producers` WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 7ms (ActiveRecord: 2.8ms)
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (2.2ms)
  Rendered admin/producer/index.html.erb within layouts/application (4.8ms)
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 0.6ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (47.0ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-26 10:54:20', '2018-04-26 10:54:20')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-26 10:54:20', '2018-04-26 10:54:20')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-26 12:54:20 +0200
Processing by Admin::MovieController#new as HTML
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (26.7ms)
  Rendered admin/movie/new.html.erb within layouts/application (30.1ms)
Completed 200 OK in 59ms (Views: 39.7ms | ActiveRecord: 1.0ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-26 12:54:20 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"49", "director_ids"=>["78"], "produced_at"=>"2018-04-26 12:54:20 +0200", "serial_number"=>"123-123-123-X", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 78 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 49 LIMIT 1[0m
  [1m[35mMovie Exists (0.9ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '123-1' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (15.3ms)
  Rendered admin/movie/new.html.erb within layouts/application (16.6ms)
Completed 200 OK in 42ms (Views: 18.7ms | ActiveRecord: 3.8ms)
  [1m[35m (149.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (65.9ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-26', 45.0, '2018-04-26 10:57:28', '2018-04-26 10:57:28')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-26', 65.0, '2018-04-26 10:57:28', '2018-04-26 10:57:28')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-26', 85.0, '2018-04-26 10:57:28', '2018-04-26 10:57:28')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-26', 105.0, '2018-04-26 10:57:28', '2018-04-26 10:57:28')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-26', 125.0, '2018-04-26 10:57:28', '2018-04-26 10:57:28')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-26', 145.0, '2018-04-26 10:57:28', '2018-04-26 10:57:28')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-26', 165.0, '2018-04-26 10:57:28', '2018-04-26 10:57:28')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-26', 185.0, '2018-04-26 10:57:28', '2018-04-26 10:57:28')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:57:28', '2018-04-26 10:57:28')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:57:28', '2018-04-26 10:57:28')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-26 10:57:28', '2018-04-26 10:57:28')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-26 10:57:28', '2018-04-26 10:57:28')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-26 10:57:28', '2018-04-26 10:57:28')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-26 10:57:28', '2018-04-26 10:57:28')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-26 10:57:28', '2018-04-26 10:57:28')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-26 10:57:28', '2018-04-26 10:57:28')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-26 10:57:28', '2018-04-26 10:57:28')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:57:28', '2018-04-26 12:57:28', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:57:28', '2018-04-26 12:57:28', 2, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:57:28', '2018-04-26 12:57:28', 2, 3)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:57:28', '2018-04-26 12:57:28', 2, 4)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:57:28', '2018-04-26 12:57:28', 2, 5)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:57:28', '2018-04-26 12:57:28', 2, 6)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:57:28', '2018-04-26 12:57:28', 2, 7)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:57:28', '2018-04-26 12:57:28', 3, 8)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:57:28', '2018-04-26 12:57:28', 4, 9)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:57:28', '2018-04-26 12:57:28', 5, 10)[0m
  [1m[35m (31.9ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-26 10:57:28', '2018-04-26 10:57:28')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (35.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------
MovieTest: test_create
----------------------
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-26 10:57:28', '12425', 'A great movie', 375, 45.5, '2018-04-26 10:57:29', '2018-04-26 10:57:29')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 89, '2018-04-26 10:57:29', '2018-04-26 10:57:29')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 89, '2018-04-26 10:57:29', '2018-04-26 10:57:29')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 89, '2018-04-26 10:57:29', '2018-04-26 10:57:29')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 89, '2018-04-26 10:57:29', '2018-04-26 10:57:29')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 89, '2018-04-26 10:57:29', '2018-04-26 10:57:29')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (40.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-26 10:57:29', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-26 10:57:29', '2018-04-26 10:57:29')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 90, '2018-04-26 10:57:29', '2018-04-26 10:57:29')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 90, '2018-04-26 10:57:29', '2018-04-26 10:57:29')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 90 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (35.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36mProducer Load (0.4ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.9ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-26 10:57:29', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-26 10:57:29', '2018-04-26 10:57:29')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 91, '2018-04-26 10:57:29', '2018-04-26 10:57:29')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 91, '2018-04-26 10:57:29', '2018-04-26 10:57:29')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 91 LIMIT 1[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 91
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1
  [1m[36m (36.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 649ms (Views: 648.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-26 10:57:30', '2018-04-26 10:57:30')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 13ms (ActiveRecord: 1.9ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (89.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (16.6ms)
  Rendered admin/producer/new.html.erb within layouts/application (26.9ms)
Completed 200 OK in 41ms (Views: 40.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/show.html.erb within layouts/application (2.7ms)
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 0.6ms)
  [1m[35mProducer Exists (0.8ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/_form.html.erb (0.5ms)
  Rendered admin/producer/edit.html.erb within layouts/application (4.4ms)
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (5.6ms)
  Rendered admin/producer/index.html.erb within layouts/application (10.6ms)
Completed 200 OK in 16ms (Views: 14.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.8ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-26 10:57:30' WHERE `producers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 13ms (ActiveRecord: 2.7ms)
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (33.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mDELETE FROM `producers` WHERE `producers`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 7ms (ActiveRecord: 2.6ms)
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (2.2ms)
  Rendered admin/producer/index.html.erb within layouts/application (4.7ms)
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (34.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (19.1ms)
  Rendered admin/director/index.html.erb within layouts/application (27.9ms)
Completed 200 OK in 46ms (Views: 44.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `directors` WHERE `directors`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 12ms (ActiveRecord: 2.3ms)
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.5ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (12.9ms)
  Rendered admin/director/index.html.erb within layouts/application (16.5ms)
Completed 200 OK in 41ms (Views: 20.2ms | ActiveRecord: 0.5ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (34.5ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/_form.html.erb (5.3ms)
  Rendered admin/director/edit.html.erb within layouts/application (12.7ms)
Completed 200 OK in 24ms (Views: 21.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/show.html.erb within layouts/application (3.3ms)
Completed 200 OK in 12ms (Views: 10.0ms | ActiveRecord: 0.6ms)
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.6ms)
  Rendered admin/director/new.html.erb within layouts/application (6.5ms)
Completed 200 OK in 14ms (Views: 13.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (1.9ms)
  Rendered admin/director/new.html.erb within layouts/application (3.5ms)
Completed 200 OK in 11ms (Views: 10.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-26 10:57:30', '2018-04-26 10:57:30')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 10ms (Views: 10.3ms | ActiveRecord: 1.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (37.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-26 10:57:30' WHERE `directors`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 12ms (ActiveRecord: 1.8ms)
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.3ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (42.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/director/_form.html.erb (9.6ms)
  Rendered admin/director/new.html.erb within layouts/application (11.2ms)
Completed 200 OK in 27ms (Views: 16.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-26 10:57:30', '2018-04-26 10:57:30')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-26 10:57:30', '2018-04-26 10:57:30')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-26 12:57:31 +0200
Processing by Admin::MovieController#new as HTML
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (41.8ms)
  Rendered admin/movie/new.html.erb within layouts/application (45.4ms)
Completed 200 OK in 77ms (Views: 56.4ms | ActiveRecord: 1.1ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-26 12:57:31 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"51", "director_ids"=>["81"], "produced_at"=>"2018-04-26 12:57:30 +0200", "serial_number"=>"123-123-123-X", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 81 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 51 LIMIT 1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '123-1' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (15.7ms)
  Rendered admin/movie/new.html.erb within layouts/application (17.0ms)
Completed 200 OK in 43ms (Views: 18.8ms | ActiveRecord: 3.9ms)
  [1m[35m (44.9ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (87.4ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-26', 45.0, '2018-04-26 10:58:46', '2018-04-26 10:58:46')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-26', 65.0, '2018-04-26 10:58:46', '2018-04-26 10:58:46')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-26', 85.0, '2018-04-26 10:58:46', '2018-04-26 10:58:46')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-26', 105.0, '2018-04-26 10:58:46', '2018-04-26 10:58:46')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-26', 125.0, '2018-04-26 10:58:46', '2018-04-26 10:58:46')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-26', 145.0, '2018-04-26 10:58:46', '2018-04-26 10:58:46')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-26', 165.0, '2018-04-26 10:58:46', '2018-04-26 10:58:46')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-26', 185.0, '2018-04-26 10:58:46', '2018-04-26 10:58:46')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:58:46', '2018-04-26 10:58:46')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-26', 40.0, '2018-04-26 10:58:46', '2018-04-26 10:58:46')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-26 10:58:47', '2018-04-26 10:58:47')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-26 10:58:47', '2018-04-26 10:58:47')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-26 10:58:47', '2018-04-26 10:58:47')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-26 10:58:47', '2018-04-26 10:58:47')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-26 10:58:47', '2018-04-26 10:58:47')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-26 10:58:47', '2018-04-26 10:58:47')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-26 10:58:47', '2018-04-26 10:58:47')
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:58:46', '2018-04-26 12:58:46', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:58:46', '2018-04-26 12:58:46', 2, 2)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:58:46', '2018-04-26 12:58:46', 2, 3)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:58:46', '2018-04-26 12:58:46', 2, 4)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:58:46', '2018-04-26 12:58:46', 2, 5)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:58:46', '2018-04-26 12:58:46', 2, 6)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:58:46', '2018-04-26 12:58:46', 2, 7)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:58:46', '2018-04-26 12:58:46', 3, 8)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:58:46', '2018-04-26 12:58:46', 4, 9)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 12:58:46', '2018-04-26 12:58:46', 5, 10)[0m
  [1m[35m (44.2ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.6ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-26 10:58:47', '2018-04-26 10:58:47')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-26 10:58:47', '2018-04-26 10:58:47')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1[0m
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-26 12:58:47 +0200
Processing by Admin::MovieController#new as HTML
  [1m[35mProducer Load (0.5ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (97.3ms)
  Rendered admin/movie/new.html.erb within layouts/application (109.1ms)
Completed 200 OK in 801ms (Views: 761.8ms | ActiveRecord: 2.8ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-26 12:58:48 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"52", "director_ids"=>["82"], "produced_at"=>"2018-04-26 12:58:47 +0200", "serial_number"=>"123-123-123-X", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[35mDirector Load (0.8ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 82 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 52 LIMIT 1
  [1m[36mMovie Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '123-1' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (18.1ms)
  Rendered admin/movie/new.html.erb within layouts/application (19.7ms)
Completed 200 OK in 79ms (Views: 22.3ms | ActiveRecord: 4.9ms)
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-26 12:58:48 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (28.2ms)
Completed 200 OK in 34ms (Views: 30.8ms | ActiveRecord: 2.2ms)
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies`
Started GET "/admin/movie/index/?page=3" for 127.0.0.1 at 2018-04-26 12:58:48 +0200
Processing by Admin::MovieController#index as HTML
  Parameters: {"page"=>"3"}
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 10[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `movies`
  Rendered admin/movie/index.html.erb within layouts/application (5.1ms)
Completed 200 OK in 10ms (Views: 7.8ms | ActiveRecord: 1.2ms)
  [1m[36m (78.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.7ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-26 10:58:48', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-26 10:58:48', '2018-04-26 10:58:48')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 92, '2018-04-26 10:58:48', '2018-04-26 10:58:48')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 92, '2018-04-26 10:58:48', '2018-04-26 10:58:48')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 92 LIMIT 1[0m
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 92
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1
  [1m[36m (65.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-26 10:58:48', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-26 10:58:48', '2018-04-26 10:58:48')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 93, '2018-04-26 10:58:48', '2018-04-26 10:58:48')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 93, '2018-04-26 10:58:48', '2018-04-26 10:58:48')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 93 LIMIT 1
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (34.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------
MovieTest: test_create
----------------------
  [1m[36mProducer Load (0.9ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-26 10:58:48', '12425', 'A great movie', 375, 45.5, '2018-04-26 10:58:48', '2018-04-26 10:58:48')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 94, '2018-04-26 10:58:48', '2018-04-26 10:58:48')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 94, '2018-04-26 10:58:48', '2018-04-26 10:58:48')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 94, '2018-04-26 10:58:48', '2018-04-26 10:58:48')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 94, '2018-04-26 10:58:48', '2018-04-26 10:58:48')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 94, '2018-04-26 10:58:48', '2018-04-26 10:58:48')[0m
  [1m[35m (2.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (31.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/_form.html.erb (3.8ms)
  Rendered admin/director/edit.html.erb within layouts/application (12.0ms)
Completed 200 OK in 34ms (Views: 30.6ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (1.9ms)
  Rendered admin/director/new.html.erb within layouts/application (5.7ms)
Completed 200 OK in 12ms (Views: 11.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-26 10:58:48', '2018-04-26 10:58:48')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 9ms (Views: 11.2ms | ActiveRecord: 1.0ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (152.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[35m (2.4ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/director/_form.html.erb (7.5ms)
  Rendered admin/director/new.html.erb within layouts/application (9.0ms)
Completed 200 OK in 23ms (Views: 14.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.6ms)
  Rendered admin/director/new.html.erb within layouts/application (3.4ms)
Completed 200 OK in 9ms (Views: 8.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/show.html.erb within layouts/application (3.3ms)
Completed 200 OK in 12ms (Views: 9.8ms | ActiveRecord: 0.6ms)
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (11.1ms)
  Rendered admin/director/index.html.erb within layouts/application (17.1ms)
Completed 200 OK in 23ms (Views: 20.2ms | ActiveRecord: 0.7ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-26 10:58:49' WHERE `directors`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 11ms (ActiveRecord: 1.7ms)
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (37.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `directors` WHERE `directors`.`id` = 1[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 8ms (ActiveRecord: 2.2ms)
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (8.1ms)
  Rendered admin/director/index.html.erb within layouts/application (11.3ms)
Completed 200 OK in 16ms (Views: 14.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (37.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-26 10:58:49', '2018-04-26 10:58:49')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (32.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 13ms (Views: 12.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.5ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-26 10:58:49', '2018-04-26 10:58:49')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 9ms (ActiveRecord: 1.5ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (43.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (1.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/_form.html.erb (1.5ms)
  Rendered admin/producer/edit.html.erb within layouts/application (6.3ms)
Completed 200 OK in 22ms (Views: 18.5ms | ActiveRecord: 1.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/show.html.erb within layouts/application (2.0ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.6ms)
  [1m[35mProducer Exists (0.8ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (1.9ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.7ms)[0m  [1mDELETE FROM `producers` WHERE `producers`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 10ms (ActiveRecord: 4.7ms)
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (3.6ms)
  Rendered admin/producer/index.html.erb within layouts/application (8.4ms)
Completed 200 OK in 14ms (Views: 12.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (33.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (3.3ms)
  Rendered admin/producer/index.html.erb within layouts/application (6.1ms)
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.8ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-26 10:58:49' WHERE `producers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 11ms (ActiveRecord: 2.5ms)
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (36.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (0.5ms)
  Rendered admin/producer/new.html.erb within layouts/application (4.4ms)
Completed 200 OK in 11ms (Views: 9.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (89.4ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-26', 45.0, '2018-04-26 11:00:13', '2018-04-26 11:00:13')
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-26', 65.0, '2018-04-26 11:00:13', '2018-04-26 11:00:13')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-26', 85.0, '2018-04-26 11:00:13', '2018-04-26 11:00:13')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-26', 105.0, '2018-04-26 11:00:13', '2018-04-26 11:00:13')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-26', 125.0, '2018-04-26 11:00:13', '2018-04-26 11:00:13')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-26', 145.0, '2018-04-26 11:00:13', '2018-04-26 11:00:13')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-26', 165.0, '2018-04-26 11:00:13', '2018-04-26 11:00:13')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-26', 185.0, '2018-04-26 11:00:13', '2018-04-26 11:00:13')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-26', 40.0, '2018-04-26 11:00:13', '2018-04-26 11:00:13')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-26', 40.0, '2018-04-26 11:00:13', '2018-04-26 11:00:13')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-26 11:00:13', '2018-04-26 11:00:13')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-26 11:00:13', '2018-04-26 11:00:13')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-26 11:00:14', '2018-04-26 11:00:14')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-26 11:00:14', '2018-04-26 11:00:14')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-26 11:00:14', '2018-04-26 11:00:14')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-26 11:00:14', '2018-04-26 11:00:14')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-26 11:00:14', '2018-04-26 11:00:14')
  [1m[36mFixture Delete (1.9ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:00:13', '2018-04-26 13:00:13', 1, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:00:13', '2018-04-26 13:00:13', 2, 2)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:00:13', '2018-04-26 13:00:13', 2, 3)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:00:13', '2018-04-26 13:00:13', 2, 4)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:00:13', '2018-04-26 13:00:13', 2, 5)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:00:13', '2018-04-26 13:00:13', 2, 6)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:00:13', '2018-04-26 13:00:13', 2, 7)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:00:13', '2018-04-26 13:00:13', 3, 8)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:00:13', '2018-04-26 13:00:13', 4, 9)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:00:13', '2018-04-26 13:00:13', 5, 10)[0m
  [1m[35m (44.2ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 740ms (Views: 739.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------
MovieTest: test_create
----------------------
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-26 11:00:15', '12425', 'A great movie', 375, 45.5, '2018-04-26 11:00:15', '2018-04-26 11:00:15')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 95, '2018-04-26 11:00:15', '2018-04-26 11:00:15')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 95, '2018-04-26 11:00:15', '2018-04-26 11:00:15')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 95, '2018-04-26 11:00:15', '2018-04-26 11:00:15')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 95, '2018-04-26 11:00:15', '2018-04-26 11:00:15')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 95, '2018-04-26 11:00:15', '2018-04-26 11:00:15')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (42.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-26 11:00:15', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-26 11:00:15', '2018-04-26 11:00:15')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 96, '2018-04-26 11:00:15', '2018-04-26 11:00:15')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 96, '2018-04-26 11:00:15', '2018-04-26 11:00:15')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 96 LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 96[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35m (37.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-26 11:00:15', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-26 11:00:15', '2018-04-26 11:00:15')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 97, '2018-04-26 11:00:15', '2018-04-26 11:00:15')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 97, '2018-04-26 11:00:15', '2018-04-26 11:00:15')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 97 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (40.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-26 11:00:15', '2018-04-26 11:00:15')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (41.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-26 11:00:15' WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 15ms (ActiveRecord: 2.5ms)
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (39.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.6ms)[0m  DELETE FROM `producers` WHERE `producers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 8ms (ActiveRecord: 2.9ms)
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (3.2ms)
  Rendered admin/producer/index.html.erb within layouts/application (13.9ms)
Completed 200 OK in 27ms (Views: 25.6ms | ActiveRecord: 0.6ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (39.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.8ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (4.9ms)
  Rendered admin/producer/index.html.erb within layouts/application (8.2ms)
Completed 200 OK in 12ms (Views: 10.7ms | ActiveRecord: 0.8ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (15.9ms)
  Rendered admin/producer/new.html.erb within layouts/application (20.8ms)
Completed 200 OK in 27ms (Views: 25.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.9ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/_form.html.erb (0.7ms)
  Rendered admin/producer/edit.html.erb within layouts/application (6.2ms)
Completed 200 OK in 14ms (Views: 11.4ms | ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 53ms (Views: 51.1ms | ActiveRecord: 0.6ms)
  [1m[36mProducer Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-26 11:00:15', '2018-04-26 11:00:15')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 8ms (ActiveRecord: 1.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (47.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (2.1ms)
  Rendered admin/director/new.html.erb within layouts/application (6.4ms)
Completed 200 OK in 19ms (Views: 17.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-26 11:00:15', '2018-04-26 11:00:15')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 7ms (Views: 17.8ms | ActiveRecord: 0.9ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (47.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/director/_form.html.erb (4.8ms)
  Rendered admin/director/new.html.erb within layouts/application (6.3ms)
Completed 200 OK in 16ms (Views: 9.4ms | ActiveRecord: 0.5ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (8.3ms)
  Rendered admin/director/index.html.erb within layouts/application (13.0ms)
Completed 200 OK in 21ms (Views: 20.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `directors` WHERE `directors`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 8ms (ActiveRecord: 2.1ms)
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (8.0ms)
  Rendered admin/director/index.html.erb within layouts/application (11.0ms)
Completed 200 OK in 15ms (Views: 14.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (40.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/_form.html.erb (0.8ms)
  Rendered admin/director/edit.html.erb within layouts/application (4.9ms)
Completed 200 OK in 12ms (Views: 9.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.8ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (1.0ms)
  Rendered admin/director/new.html.erb within layouts/application (3.1ms)
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/show.html.erb within layouts/application (2.9ms)
Completed 200 OK in 10ms (Views: 7.8ms | ActiveRecord: 0.7ms)
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-26 11:00:16' WHERE `directors`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 8ms (ActiveRecord: 1.8ms)
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (42.8ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-26 11:00:16', '2018-04-26 11:00:16')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-26 11:00:16', '2018-04-26 11:00:16')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1[0m
  [1m[35mProducer Load (0.4ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-26 13:00:16 +0200
Processing by Admin::MovieController#new as HTML
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (26.7ms)
  Rendered admin/movie/new.html.erb within layouts/application (30.2ms)
Completed 200 OK in 59ms (Views: 40.1ms | ActiveRecord: 1.4ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-26 13:00:16 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"55", "director_ids"=>["87"], "produced_at"=>"2018-04-26 13:00:16 +0200", "serial_number"=>"123-123-123-X", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 87 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 55 LIMIT 1[0m
  [1m[35mMovie Exists (0.8ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '123-1' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (15.2ms)
  Rendered admin/movie/new.html.erb within layouts/application (16.6ms)
Completed 200 OK in 42ms (Views: 18.6ms | ActiveRecord: 3.8ms)
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-26 13:00:16 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (1.0ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (26.8ms)
Completed 200 OK in 32ms (Views: 28.7ms | ActiveRecord: 2.4ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
Started GET "/admin/movie/index/?page=3" for 127.0.0.1 at 2018-04-26 13:00:16 +0200
Processing by Admin::MovieController#index as HTML
  Parameters: {"page"=>"3"}
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 10
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  Rendered admin/movie/index.html.erb within layouts/application (4.6ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 1.3ms)
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'A new Movie of Ruby' LIMIT 1
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-26 13:00:16 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (20.1ms)
Completed 200 OK in 24ms (Views: 21.3ms | ActiveRecord: 2.2ms)
  [1m[35m (47.7ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-26', 45.0, '2018-04-26 11:00:37', '2018-04-26 11:00:37')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-26', 65.0, '2018-04-26 11:00:37', '2018-04-26 11:00:37')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-26', 85.0, '2018-04-26 11:00:37', '2018-04-26 11:00:37')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-26', 105.0, '2018-04-26 11:00:37', '2018-04-26 11:00:37')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-26', 125.0, '2018-04-26 11:00:37', '2018-04-26 11:00:37')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-26', 145.0, '2018-04-26 11:00:37', '2018-04-26 11:00:37')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-26', 165.0, '2018-04-26 11:00:37', '2018-04-26 11:00:37')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-26', 185.0, '2018-04-26 11:00:37', '2018-04-26 11:00:37')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-26', 40.0, '2018-04-26 11:00:37', '2018-04-26 11:00:37')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-26', 40.0, '2018-04-26 11:00:37', '2018-04-26 11:00:37')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-26 11:00:37', '2018-04-26 11:00:37')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-26 11:00:37', '2018-04-26 11:00:37')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-26 11:00:37', '2018-04-26 11:00:37')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-26 11:00:37', '2018-04-26 11:00:37')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-26 11:00:37', '2018-04-26 11:00:37')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-26 11:00:37', '2018-04-26 11:00:37')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-26 11:00:37', '2018-04-26 11:00:37')
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:00:37', '2018-04-26 13:00:37', 1, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:00:37', '2018-04-26 13:00:37', 2, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:00:37', '2018-04-26 13:00:37', 2, 3)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:00:37', '2018-04-26 13:00:37', 2, 4)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:00:37', '2018-04-26 13:00:37', 2, 5)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:00:37', '2018-04-26 13:00:37', 2, 6)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:00:37', '2018-04-26 13:00:37', 2, 7)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:00:37', '2018-04-26 13:00:37', 3, 8)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:00:37', '2018-04-26 13:00:37', 4, 9)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:00:37', '2018-04-26 13:00:37', 5, 10)[0m
  [1m[35m (35.9ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (4.0ms)
  Rendered admin/producer/index.html.erb within layouts/application (19.6ms)
Completed 200 OK in 644ms (Views: 642.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (15.1ms)
  Rendered admin/producer/new.html.erb within layouts/application (18.3ms)
Completed 200 OK in 22ms (Views: 21.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/_form.html.erb (0.4ms)
  Rendered admin/producer/edit.html.erb within layouts/application (4.0ms)
Completed 200 OK in 22ms (Views: 8.1ms | ActiveRecord: 0.6ms)
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-26 11:00:38' WHERE `producers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 29ms (ActiveRecord: 2.5ms)
  [1m[35mProducer Load (1.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (35.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/show.html.erb within layouts/application (2.5ms)
Completed 200 OK in 10ms (Views: 7.5ms | ActiveRecord: 0.6ms)
  [1m[35mProducer Exists (0.7ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.6ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-26 11:00:38', '2018-04-26 11:00:38')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 10ms (ActiveRecord: 1.7ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (35.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.9ms)[0m  [1mDELETE FROM `producers` WHERE `producers`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 9ms (ActiveRecord: 3.5ms)
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (2.4ms)
  Rendered admin/producer/index.html.erb within layouts/application (5.2ms)
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (111.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-26 11:00:38', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-26 11:00:38', '2018-04-26 11:00:38')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 98, '2018-04-26 11:00:38', '2018-04-26 11:00:38')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 98, '2018-04-26 11:00:38', '2018-04-26 11:00:38')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 98 LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 98[0m
  [1m[35mDirector Load (1.1ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35m (40.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mDirector Load (1.0ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-26 11:00:38', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-26 11:00:38', '2018-04-26 11:00:38')
  [1m[36mSQL (86.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 99, '2018-04-26 11:00:38', '2018-04-26 11:00:38')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 99, '2018-04-26 11:00:38', '2018-04-26 11:00:38')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 99 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (43.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------
MovieTest: test_create
----------------------
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-26 11:00:38', '12425', 'A great movie', 375, 45.5, '2018-04-26 11:00:38', '2018-04-26 11:00:38')[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 100, '2018-04-26 11:00:38', '2018-04-26 11:00:38')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 100, '2018-04-26 11:00:38', '2018-04-26 11:00:38')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 100, '2018-04-26 11:00:38', '2018-04-26 11:00:38')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 100, '2018-04-26 11:00:38', '2018-04-26 11:00:38')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 100, '2018-04-26 11:00:38', '2018-04-26 11:00:38')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (42.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-26 11:00:38', '2018-04-26 11:00:38')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-26 11:00:38', '2018-04-26 11:00:38')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-26 13:00:39 +0200
Processing by Admin::MovieController#new as HTML
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (27.3ms)
  Rendered admin/movie/new.html.erb within layouts/application (30.9ms)
Completed 200 OK in 61ms (Views: 41.3ms | ActiveRecord: 1.0ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-26 13:00:39 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"57", "director_ids"=>["88"], "produced_at"=>"2018-04-26 13:00:38 +0200", "serial_number"=>"123-123-123-X", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 88 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 57 LIMIT 1[0m
  [1m[35mMovie Exists (0.8ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '123-1' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (15.3ms)
  Rendered admin/movie/new.html.erb within layouts/application (16.6ms)
Completed 200 OK in 43ms (Views: 18.6ms | ActiveRecord: 3.7ms)
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-26 13:00:39 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (1.0ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (26.6ms)
Completed 200 OK in 32ms (Views: 28.2ms | ActiveRecord: 2.4ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
Started GET "/admin/movie/index/?page=3" for 127.0.0.1 at 2018-04-26 13:00:39 +0200
Processing by Admin::MovieController#index as HTML
  Parameters: {"page"=>"3"}
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 10
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  Rendered admin/movie/index.html.erb within layouts/application (4.7ms)
Completed 200 OK in 9ms (Views: 6.4ms | ActiveRecord: 1.3ms)
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-26 13:00:39 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (25.0ms)
Completed 200 OK in 29ms (Views: 25.6ms | ActiveRecord: 2.3ms)
  [1m[36m (42.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 13ms (Views: 12.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-26 11:00:39', '2018-04-26 11:00:39')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (44.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/_form.html.erb (2.1ms)
  Rendered admin/director/edit.html.erb within layouts/application (6.7ms)
Completed 200 OK in 21ms (Views: 17.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/show.html.erb within layouts/application (2.1ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.6ms)
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `directors` WHERE `directors`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 8ms (ActiveRecord: 2.0ms)
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (7.1ms)
  Rendered admin/director/index.html.erb within layouts/application (11.6ms)
Completed 200 OK in 16ms (Views: 15.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (44.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (7.3ms)
  Rendered admin/director/index.html.erb within layouts/application (9.9ms)
Completed 200 OK in 13ms (Views: 12.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.6ms)
  Rendered admin/director/new.html.erb within layouts/application (3.3ms)
Completed 200 OK in 8ms (Views: 7.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.6ms)
  Rendered admin/director/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-26 11:00:39', '2018-04-26 11:00:39')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 7ms (Views: 4.6ms | ActiveRecord: 1.3ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (43.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/director/_form.html.erb (4.6ms)
  Rendered admin/director/new.html.erb within layouts/application (6.1ms)
Completed 200 OK in 17ms (Views: 9.6ms | ActiveRecord: 0.7ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-26 11:00:39' WHERE `directors`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 8ms (ActiveRecord: 1.6ms)
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (40.9ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (65.9ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-26', 45.0, '2018-04-26 11:04:50', '2018-04-26 11:04:50')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-26', 65.0, '2018-04-26 11:04:50', '2018-04-26 11:04:50')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-26', 85.0, '2018-04-26 11:04:50', '2018-04-26 11:04:50')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-26', 105.0, '2018-04-26 11:04:50', '2018-04-26 11:04:50')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-26', 125.0, '2018-04-26 11:04:50', '2018-04-26 11:04:50')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-26', 145.0, '2018-04-26 11:04:50', '2018-04-26 11:04:50')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-26', 165.0, '2018-04-26 11:04:50', '2018-04-26 11:04:50')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-26', 185.0, '2018-04-26 11:04:50', '2018-04-26 11:04:50')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-26', 40.0, '2018-04-26 11:04:50', '2018-04-26 11:04:50')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-26', 40.0, '2018-04-26 11:04:50', '2018-04-26 11:04:50')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-26 11:04:50', '2018-04-26 11:04:50')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-26 11:04:50', '2018-04-26 11:04:50')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-26 11:04:50', '2018-04-26 11:04:50')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-26 11:04:50', '2018-04-26 11:04:50')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-26 11:04:50', '2018-04-26 11:04:50')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-26 11:04:50', '2018-04-26 11:04:50')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-26 11:04:50', '2018-04-26 11:04:50')
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:04:50', '2018-04-26 13:04:50', 1, 1)
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:04:50', '2018-04-26 13:04:50', 2, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:04:50', '2018-04-26 13:04:50', 2, 3)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:04:50', '2018-04-26 13:04:50', 2, 4)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:04:50', '2018-04-26 13:04:50', 2, 5)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:04:50', '2018-04-26 13:04:50', 2, 6)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:04:50', '2018-04-26 13:04:50', 2, 7)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:04:50', '2018-04-26 13:04:50', 3, 8)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:04:50', '2018-04-26 13:04:50', 4, 9)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:04:50', '2018-04-26 13:04:50', 5, 10)[0m
  [1m[35m (34.1ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM `directors` WHERE `directors`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 63ms (ActiveRecord: 3.7ms)
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (7.7ms)
  Rendered admin/director/index.html.erb within layouts/application (19.3ms)
Completed 200 OK in 762ms (Views: 760.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (93.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (1.0ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/_form.html.erb (18.8ms)
  Rendered admin/director/edit.html.erb within layouts/application (23.4ms)
Completed 200 OK in 31ms (Views: 28.1ms | ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (8.1ms)
  Rendered admin/director/index.html.erb within layouts/application (10.8ms)
Completed 200 OK in 15ms (Views: 13.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.7ms)
  Rendered admin/director/new.html.erb within layouts/application (3.3ms)
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-26 11:04:51', '2018-04-26 11:04:51')[0m
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 10ms (Views: 7.1ms | ActiveRecord: 1.6ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (50.9ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/director/_form.html.erb (4.7ms)
  Rendered admin/director/new.html.erb within layouts/application (6.2ms)
Completed 200 OK in 38ms (Views: 9.2ms | ActiveRecord: 0.6ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-26 11:04:52' WHERE `directors`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 11ms (ActiveRecord: 1.8ms)
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (41.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (1.3ms)
  Rendered admin/director/new.html.erb within layouts/application (4.1ms)
Completed 200 OK in 8ms (Views: 7.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/show.html.erb within layouts/application (2.3ms)
Completed 200 OK in 9ms (Views: 6.8ms | ActiveRecord: 0.6ms)
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mDELETE FROM `producers` WHERE `producers`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 13ms (ActiveRecord: 2.5ms)
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (5.4ms)
  Rendered admin/producer/index.html.erb within layouts/application (10.9ms)
Completed 200 OK in 25ms (Views: 23.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (34.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-26 11:04:52' WHERE `producers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 26ms (ActiveRecord: 3.1ms)
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (41.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-26 11:04:52', '2018-04-26 11:04:52')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 13ms (ActiveRecord: 2.2ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (40.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (2.1ms)
  Rendered admin/producer/new.html.erb within layouts/application (6.7ms)
Completed 200 OK in 13ms (Views: 11.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (2.9ms)
  Rendered admin/producer/index.html.erb within layouts/application (5.1ms)
Completed 200 OK in 9ms (Views: 7.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/_form.html.erb (0.4ms)
  Rendered admin/producer/edit.html.erb within layouts/application (3.4ms)
Completed 200 OK in 9ms (Views: 6.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/show.html.erb within layouts/application (2.0ms)
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 0.6ms)
  [1m[35mProducer Exists (0.7ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 12ms (Views: 11.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-26 11:04:52', '2018-04-26 11:04:52')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (42.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.7ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-26 11:04:52', '2018-04-26 11:04:52')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-26 11:04:52', '2018-04-26 11:04:52')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1
  [1m[36mProducer Load (0.4ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1[0m
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-26 13:04:52 +0200
Processing by Admin::MovieController#new as HTML
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (30.7ms)
  Rendered admin/movie/new.html.erb within layouts/application (33.7ms)
Completed 200 OK in 75ms (Views: 42.4ms | ActiveRecord: 1.3ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-26 13:04:52 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"59", "director_ids"=>["93"], "produced_at"=>"2018-04-26 13:04:52 +0200", "serial_number"=>"123-123-123-X", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 93 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 59 LIMIT 1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '123-1' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (13.9ms)
  Rendered admin/movie/new.html.erb within layouts/application (15.3ms)
Completed 200 OK in 57ms (Views: 17.0ms | ActiveRecord: 4.2ms)
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-26 13:04:52 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (25.6ms)
Completed 200 OK in 30ms (Views: 27.2ms | ActiveRecord: 2.2ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `movies`
Started GET "/admin/movie/index/?page=3" for 127.0.0.1 at 2018-04-26 13:04:52 +0200
Processing by Admin::MovieController#index as HTML
  Parameters: {"page"=>"3"}
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 10[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `movies`
  Rendered admin/movie/index.html.erb within layouts/application (4.6ms)
Completed 200 OK in 9ms (Views: 6.0ms | ActiveRecord: 1.5ms)
  [1m[36m (112.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.7ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-26 11:04:53', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-26 11:04:53', '2018-04-26 11:04:53')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 101, '2018-04-26 11:04:53', '2018-04-26 11:04:53')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 101, '2018-04-26 11:04:53', '2018-04-26 11:04:53')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 101 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (41.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------
MovieTest: test_create
----------------------
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.7ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-26 11:04:53', '12425', 'A great movie', 375, 45.5, '2018-04-26 11:04:53', '2018-04-26 11:04:53')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 102, '2018-04-26 11:04:53', '2018-04-26 11:04:53')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 102, '2018-04-26 11:04:53', '2018-04-26 11:04:53')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 102, '2018-04-26 11:04:53', '2018-04-26 11:04:53')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 102, '2018-04-26 11:04:53', '2018-04-26 11:04:53')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 102, '2018-04-26 11:04:53', '2018-04-26 11:04:53')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (36.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-26 11:04:53', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-26 11:04:53', '2018-04-26 11:04:53')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 103, '2018-04-26 11:04:53', '2018-04-26 11:04:53')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 103, '2018-04-26 11:04:53', '2018-04-26 11:04:53')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 103 LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 103[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35m (38.5ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (92.4ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-26', 45.0, '2018-04-26 11:08:07', '2018-04-26 11:08:07')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-26', 65.0, '2018-04-26 11:08:07', '2018-04-26 11:08:07')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-26', 85.0, '2018-04-26 11:08:07', '2018-04-26 11:08:07')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-26', 105.0, '2018-04-26 11:08:07', '2018-04-26 11:08:07')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-26', 125.0, '2018-04-26 11:08:07', '2018-04-26 11:08:07')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-26', 145.0, '2018-04-26 11:08:07', '2018-04-26 11:08:07')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-26', 165.0, '2018-04-26 11:08:07', '2018-04-26 11:08:07')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-26', 185.0, '2018-04-26 11:08:07', '2018-04-26 11:08:07')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-26', 40.0, '2018-04-26 11:08:07', '2018-04-26 11:08:07')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-26', 40.0, '2018-04-26 11:08:07', '2018-04-26 11:08:07')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-26 11:08:07', '2018-04-26 11:08:07')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-26 11:08:07', '2018-04-26 11:08:07')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-26 11:08:07', '2018-04-26 11:08:07')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-26 11:08:07', '2018-04-26 11:08:07')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-26 11:08:07', '2018-04-26 11:08:07')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-26 11:08:07', '2018-04-26 11:08:07')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-26 11:08:07', '2018-04-26 11:08:07')
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:08:07', '2018-04-26 13:08:07', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:08:07', '2018-04-26 13:08:07', 2, 2)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:08:07', '2018-04-26 13:08:07', 2, 3)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:08:07', '2018-04-26 13:08:07', 2, 4)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:08:07', '2018-04-26 13:08:07', 2, 5)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:08:07', '2018-04-26 13:08:07', 2, 6)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:08:07', '2018-04-26 13:08:07', 2, 7)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:08:07', '2018-04-26 13:08:07', 3, 8)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:08:07', '2018-04-26 13:08:07', 4, 9)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:08:07', '2018-04-26 13:08:07', 5, 10)[0m
  [1m[35m (44.3ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-26 11:08:07', '2018-04-26 11:08:07')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 36ms (ActiveRecord: 1.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (41.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/_form.html.erb (14.2ms)
  Rendered admin/producer/edit.html.erb within layouts/application (26.0ms)
Completed 200 OK in 782ms (Views: 767.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (0.4ms)
  Rendered admin/producer/new.html.erb within layouts/application (3.2ms)
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/show.html.erb within layouts/application (2.0ms)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.6ms)
  [1m[36mProducer Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  DELETE FROM `producers` WHERE `producers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 8ms (ActiveRecord: 2.7ms)
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (4.3ms)
  Rendered admin/producer/index.html.erb within layouts/application (9.9ms)
Completed 200 OK in 15ms (Views: 14.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (76.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (3.2ms)
  Rendered admin/producer/index.html.erb within layouts/application (6.1ms)
Completed 200 OK in 10ms (Views: 9.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-26 11:08:08' WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 14ms (ActiveRecord: 2.9ms)
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (43.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (1.8ms)
  Rendered admin/director/new.html.erb within layouts/application (5.6ms)
Completed 200 OK in 25ms (Views: 17.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM `directors` WHERE `directors`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 43ms (ActiveRecord: 3.5ms)
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (7.1ms)
  Rendered admin/director/index.html.erb within layouts/application (11.5ms)
Completed 200 OK in 17ms (Views: 15.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (46.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/director/_form.html.erb (4.7ms)
  Rendered admin/director/new.html.erb within layouts/application (6.3ms)
Completed 200 OK in 38ms (Views: 9.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (8.2ms)
  Rendered admin/director/index.html.erb within layouts/application (10.8ms)
Completed 200 OK in 14ms (Views: 13.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.7ms)
  Rendered admin/director/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-26 11:08:09', '2018-04-26 11:08:09')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 7ms (Views: 4.6ms | ActiveRecord: 1.1ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (45.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (1.0ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/_form.html.erb (0.7ms)
  Rendered admin/director/edit.html.erb within layouts/application (4.1ms)
Completed 200 OK in 11ms (Views: 8.1ms | ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 9ms (Views: 6.3ms | ActiveRecord: 0.6ms)
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-26 11:08:09' WHERE `directors`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 9ms (ActiveRecord: 1.7ms)
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (52.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-26 11:08:09', '2018-04-26 11:08:09')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (44.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-26 11:08:09', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-26 11:08:09', '2018-04-26 11:08:09')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 104, '2018-04-26 11:08:09', '2018-04-26 11:08:09')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 104, '2018-04-26 11:08:09', '2018-04-26 11:08:09')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 104 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 104[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35m (31.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-26 11:08:09', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-26 11:08:09', '2018-04-26 11:08:09')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 105, '2018-04-26 11:08:09', '2018-04-26 11:08:09')[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 105, '2018-04-26 11:08:09', '2018-04-26 11:08:09')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 105 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (37.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------
MovieTest: test_create
----------------------
  [1m[35mProducer Load (0.9ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-26 11:08:09', '12425', 'A great movie', 375, 45.5, '2018-04-26 11:08:09', '2018-04-26 11:08:09')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 106, '2018-04-26 11:08:09', '2018-04-26 11:08:09')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 106, '2018-04-26 11:08:09', '2018-04-26 11:08:09')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 106, '2018-04-26 11:08:09', '2018-04-26 11:08:09')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 106, '2018-04-26 11:08:09', '2018-04-26 11:08:09')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 106, '2018-04-26 11:08:09', '2018-04-26 11:08:09')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (34.2ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-26 11:08:09', '2018-04-26 11:08:09')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-26 11:08:09', '2018-04-26 11:08:09')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-26 13:08:09 +0200
Processing by Admin::MovieController#new as HTML
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (26.5ms)
  Rendered admin/movie/new.html.erb within layouts/application (30.2ms)
Completed 200 OK in 60ms (Views: 40.5ms | ActiveRecord: 1.0ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-26 13:08:09 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"61", "director_ids"=>["96"], "produced_at"=>"2018-04-26 13:08:09 +0200", "serial_number"=>"64214", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 96 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 61 LIMIT 1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '64214' LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `price`, `length`, `created_at`, `updated_at`) VALUES ('A new Movie of Ruby', 61, '2018-04-26 11:08:09', '64214', 'A new Movie of Ruby', 45.5, 325, '2018-04-26 11:08:09', '2018-04-26 11:08:09')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (96, 107, '2018-04-26 11:08:09', '2018-04-26 11:08:09')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 32ms (ActiveRecord: 4.2ms)
  [1m[35m (34.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 13ms (Views: 12.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (1.2ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-26', 45.0, '2018-04-26 11:08:34', '2018-04-26 11:08:34')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-26', 65.0, '2018-04-26 11:08:34', '2018-04-26 11:08:34')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-26', 85.0, '2018-04-26 11:08:34', '2018-04-26 11:08:34')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-26', 105.0, '2018-04-26 11:08:34', '2018-04-26 11:08:34')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-26', 125.0, '2018-04-26 11:08:34', '2018-04-26 11:08:34')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-26', 145.0, '2018-04-26 11:08:34', '2018-04-26 11:08:34')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-26', 165.0, '2018-04-26 11:08:34', '2018-04-26 11:08:34')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-26', 185.0, '2018-04-26 11:08:34', '2018-04-26 11:08:34')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-26', 40.0, '2018-04-26 11:08:34', '2018-04-26 11:08:34')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-26', 40.0, '2018-04-26 11:08:34', '2018-04-26 11:08:34')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-26 11:08:34', '2018-04-26 11:08:34')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-26 11:08:34', '2018-04-26 11:08:34')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-26 11:08:34', '2018-04-26 11:08:34')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-26 11:08:34', '2018-04-26 11:08:34')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-26 11:08:34', '2018-04-26 11:08:34')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-26 11:08:34', '2018-04-26 11:08:34')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-26 11:08:34', '2018-04-26 11:08:34')
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:08:34', '2018-04-26 13:08:34', 1, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:08:34', '2018-04-26 13:08:34', 2, 2)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:08:34', '2018-04-26 13:08:34', 2, 3)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:08:34', '2018-04-26 13:08:34', 2, 4)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:08:34', '2018-04-26 13:08:34', 2, 5)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:08:34', '2018-04-26 13:08:34', 2, 6)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:08:34', '2018-04-26 13:08:34', 2, 7)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:08:34', '2018-04-26 13:08:34', 3, 8)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:08:34', '2018-04-26 13:08:34', 4, 9)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:08:34', '2018-04-26 13:08:34', 5, 10)[0m
  [1m[35m (45.7ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-26 11:08:34' WHERE `directors`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 31ms (ActiveRecord: 1.9ms)
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.3ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (48.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/show.html.erb within layouts/application (4.0ms)
Completed 200 OK in 633ms (Views: 630.9ms | ActiveRecord: 0.7ms)
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/director/_form.html.erb (15.0ms)
  Rendered admin/director/new.html.erb within layouts/application (23.0ms)
Completed 200 OK in 50ms (Views: 26.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (8.5ms)
  Rendered admin/director/index.html.erb within layouts/application (14.2ms)
Completed 200 OK in 20ms (Views: 18.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `directors` WHERE `directors`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 45ms (ActiveRecord: 3.5ms)
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (7.0ms)
  Rendered admin/director/index.html.erb within layouts/application (9.9ms)
Completed 200 OK in 14ms (Views: 12.3ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (44.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.7ms)
  Rendered admin/director/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 5ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-26 11:08:35', '2018-04-26 11:08:35')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 6ms (Views: 4.9ms | ActiveRecord: 0.9ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (34.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/_form.html.erb (0.8ms)
  Rendered admin/director/edit.html.erb within layouts/application (4.9ms)
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.6ms)
  Rendered admin/director/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 5ms (Views: 4.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-26 11:08:35', '2018-04-26 11:08:35')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-26 11:08:35', '2018-04-26 11:08:35')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-26 13:08:35 +0200
Processing by Admin::MovieController#new as HTML
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (73.7ms)
  Rendered admin/movie/new.html.erb within layouts/application (77.0ms)
Completed 200 OK in 121ms (Views: 86.1ms | ActiveRecord: 1.1ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-26 13:08:35 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"62", "director_ids"=>["98"], "produced_at"=>"2018-04-26 13:08:35 +0200", "serial_number"=>"64214", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 98 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 62 LIMIT 1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '64214' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `price`, `length`, `created_at`, `updated_at`) VALUES ('A new Movie of Ruby', 62, '2018-04-26 11:08:35', '64214', 'A new Movie of Ruby', 45.5, 325, '2018-04-26 11:08:35', '2018-04-26 11:08:35')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (98, 108, '2018-04-26 11:08:35', '2018-04-26 11:08:35')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 44ms (ActiveRecord: 4.6ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-04-26 13:08:35 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (25.1ms)
Completed 200 OK in 31ms (Views: 26.9ms | ActiveRecord: 2.1ms)
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-26 13:08:36 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (17.2ms)
Completed 200 OK in 21ms (Views: 17.8ms | ActiveRecord: 2.1ms)
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `movies`
Started GET "/admin/movie/index/?page=3" for 127.0.0.1 at 2018-04-26 13:08:36 +0200
Processing by Admin::MovieController#index as HTML
  Parameters: {"page"=>"3"}
  [1m[36mMovie Load (1.0ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 10[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 62 LIMIT 1
  Rendered admin/movie/index.html.erb within layouts/application (6.9ms)
Completed 200 OK in 11ms (Views: 8.0ms | ActiveRecord: 1.6ms)
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'A new Movie of Ruby' LIMIT 1[0m
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-26 13:08:36 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (21.7ms)
Completed 200 OK in 26ms (Views: 22.3ms | ActiveRecord: 2.3ms)
Started GET "/admin/movie/show/108" for 127.0.0.1 at 2018-04-26 13:08:36 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"108"}
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 108 LIMIT 1[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 62 LIMIT 1
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 108[0m
  Rendered admin/movie/show.html.erb within layouts/application (12.6ms)
Completed 200 OK in 19ms (Views: 14.5ms | ActiveRecord: 2.5ms)
Started GET "/admin/movie/edit?id=108" for 127.0.0.1 at 2018-04-26 13:08:36 +0200
Processing by Admin::MovieController#edit as HTML
  Parameters: {"id"=>"108"}
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 108 LIMIT 1
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (1.1ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 108
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (16.7ms)
  Rendered admin/movie/edit.html.erb within layouts/application (20.3ms)
Completed 200 OK in 27ms (Views: 21.7ms | ActiveRecord: 3.3ms)
Started POST "/admin/movie/update?id=108" for 127.0.0.1 at 2018-04-26 13:08:36 +0200
Processing by Admin::MovieController#update as HTML
  Parameters: {"movie"=>{"title"=>"A very new Movie of Ruby", "producer_id"=>"62", "director_ids"=>["98"], "produced_at"=>"2018-04-26 13:08:36 +0200", "serial_number"=>"43214", "blurb"=>"A very new Movie of Ruby", "length"=>"350", "price"=>"50"}, "id"=>"108"}
  [1m[35mMovie Load (1.0ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 108 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 98 LIMIT 1
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 108[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 62 LIMIT 1
  [1m[36mMovie Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE (`movies`.`serial_number` = BINARY '43214' AND `movies`.`id` != 108) LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `movies` SET `title` = 'A very new Movie of Ruby', `produced_at` = '2018-04-26 11:08:36', `serial_number` = '43214', `blurb` = 'A very new Movie of Ruby', `price` = 50.0, `length` = 350, `updated_at` = '2018-04-26 11:08:36' WHERE `movies`.`id` = 108
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/movie/show/108
Completed 302 Found in 26ms (ActiveRecord: 5.3ms)
Started GET "/admin/movie/show/108" for 127.0.0.1 at 2018-04-26 13:08:36 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"108"}
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 108 LIMIT 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 62 LIMIT 1[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 108
  Rendered admin/movie/show.html.erb within layouts/application (7.6ms)
Completed 200 OK in 14ms (Views: 9.7ms | ActiveRecord: 2.3ms)
Started POST "/admin/movie/destroy?id=108" for 127.0.0.1 at 2018-04-26 13:08:36 +0200
Processing by Admin::MovieController#destroy as HTML
  Parameters: {"id"=>"108"}
  [1m[36mMovie Load (1.2ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 108 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.0ms)[0m  [1mDELETE FROM `directors_movies` WHERE `directors_movies`.`movie_id` = 108[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `movies` WHERE `movies`.`id` = 108
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 13ms (ActiveRecord: 3.8ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-04-26 13:08:36 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (20.6ms)
Completed 200 OK in 25ms (Views: 21.5ms | ActiveRecord: 2.2ms)
  [1m[36m (39.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------
MovieTest: test_create
----------------------
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT `directors`.* FROM `directors`
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-26 11:08:36', '12425', 'A great movie', 375, 45.5, '2018-04-26 11:08:36', '2018-04-26 11:08:36')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 109, '2018-04-26 11:08:36', '2018-04-26 11:08:36')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 109, '2018-04-26 11:08:36', '2018-04-26 11:08:36')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 109, '2018-04-26 11:08:36', '2018-04-26 11:08:36')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 109, '2018-04-26 11:08:36', '2018-04-26 11:08:36')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 109, '2018-04-26 11:08:36', '2018-04-26 11:08:36')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (33.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-26 11:08:36', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-26 11:08:36', '2018-04-26 11:08:36')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 110, '2018-04-26 11:08:36', '2018-04-26 11:08:36')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 110, '2018-04-26 11:08:36', '2018-04-26 11:08:36')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 110 LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 110[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35m (40.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-26 11:08:36', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-26 11:08:36', '2018-04-26 11:08:36')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 111, '2018-04-26 11:08:36', '2018-04-26 11:08:36')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 111, '2018-04-26 11:08:36', '2018-04-26 11:08:36')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 111 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (39.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.5ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-26 11:08:36', '2018-04-26 11:08:36')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 9ms (ActiveRecord: 1.6ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (98.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/_form.html.erb (1.6ms)
  Rendered admin/producer/edit.html.erb within layouts/application (6.3ms)
Completed 200 OK in 21ms (Views: 18.4ms | ActiveRecord: 0.8ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (4.5ms)
  Rendered admin/producer/index.html.erb within layouts/application (8.9ms)
Completed 200 OK in 13ms (Views: 12.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/show.html.erb within layouts/application (2.4ms)
Completed 200 OK in 9ms (Views: 6.6ms | ActiveRecord: 0.6ms)
  [1m[36mProducer Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-26 11:08:36' WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 11ms (ActiveRecord: 2.5ms)
  [1m[35mProducer Load (1.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (38.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (77.5ms)[0m  DELETE FROM `producers` WHERE `producers`.`id` = 1
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 85ms (ActiveRecord: 79.0ms)
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (1.0ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (2.9ms)
  Rendered admin/producer/index.html.erb within layouts/application (6.5ms)
Completed 200 OK in 11ms (Views: 9.2ms | ActiveRecord: 1.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (33.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (0.7ms)
  Rendered admin/producer/new.html.erb within layouts/application (4.2ms)
Completed 200 OK in 10ms (Views: 9.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-26 11:08:37', '2018-04-26 11:08:37')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (32.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 12ms (Views: 11.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (106.3ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-26', 45.0, '2018-04-26 11:11:40', '2018-04-26 11:11:40')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-26', 65.0, '2018-04-26 11:11:40', '2018-04-26 11:11:40')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-26', 85.0, '2018-04-26 11:11:40', '2018-04-26 11:11:40')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-26', 105.0, '2018-04-26 11:11:40', '2018-04-26 11:11:40')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-26', 125.0, '2018-04-26 11:11:40', '2018-04-26 11:11:40')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-26', 145.0, '2018-04-26 11:11:40', '2018-04-26 11:11:40')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-26', 165.0, '2018-04-26 11:11:40', '2018-04-26 11:11:40')
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-26', 185.0, '2018-04-26 11:11:40', '2018-04-26 11:11:40')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-26', 40.0, '2018-04-26 11:11:40', '2018-04-26 11:11:40')
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-26', 40.0, '2018-04-26 11:11:40', '2018-04-26 11:11:40')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-26 11:11:40', '2018-04-26 11:11:40')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-26 11:11:40', '2018-04-26 11:11:40')
  [1m[36mFixture Delete (64.7ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-26 11:11:40', '2018-04-26 11:11:40')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-26 11:11:40', '2018-04-26 11:11:40')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-26 11:11:40', '2018-04-26 11:11:40')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-26 11:11:40', '2018-04-26 11:11:40')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-26 11:11:40', '2018-04-26 11:11:40')
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:11:40', '2018-04-26 13:11:40', 1, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:11:40', '2018-04-26 13:11:40', 2, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:11:40', '2018-04-26 13:11:40', 2, 3)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:11:40', '2018-04-26 13:11:40', 2, 4)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:11:40', '2018-04-26 13:11:40', 2, 5)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:11:40', '2018-04-26 13:11:40', 2, 6)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:11:40', '2018-04-26 13:11:40', 2, 7)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:11:40', '2018-04-26 13:11:40', 3, 8)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:11:40', '2018-04-26 13:11:40', 4, 9)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:11:40', '2018-04-26 13:11:40', 5, 10)[0m
  [1m[35m (39.6ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-26 11:11:40', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-26 11:11:40', '2018-04-26 11:11:40')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 112, '2018-04-26 11:11:40', '2018-04-26 11:11:40')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 112, '2018-04-26 11:11:40', '2018-04-26 11:11:40')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 112 LIMIT 1
  [1m[36m (1.1ms)[0m  [1mSELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 112[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35m (34.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-26 11:11:41', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-26 11:11:41', '2018-04-26 11:11:41')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 113, '2018-04-26 11:11:41', '2018-04-26 11:11:41')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 113, '2018-04-26 11:11:41', '2018-04-26 11:11:41')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 113 LIMIT 1[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (34.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------
MovieTest: test_create
----------------------
  [1m[35mProducer Load (1.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.7ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-26 11:11:41', '12425', 'A great movie', 375, 45.5, '2018-04-26 11:11:41', '2018-04-26 11:11:41')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 114, '2018-04-26 11:11:41', '2018-04-26 11:11:41')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 114, '2018-04-26 11:11:41', '2018-04-26 11:11:41')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 114, '2018-04-26 11:11:41', '2018-04-26 11:11:41')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 114, '2018-04-26 11:11:41', '2018-04-26 11:11:41')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 114, '2018-04-26 11:11:41', '2018-04-26 11:11:41')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (39.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-26 11:11:41', '2018-04-26 11:11:41')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (32.9ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-26', 45.0, '2018-04-26 11:12:01', '2018-04-26 11:12:01')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-26', 65.0, '2018-04-26 11:12:01', '2018-04-26 11:12:01')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-26', 85.0, '2018-04-26 11:12:01', '2018-04-26 11:12:01')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-26', 105.0, '2018-04-26 11:12:01', '2018-04-26 11:12:01')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-26', 125.0, '2018-04-26 11:12:01', '2018-04-26 11:12:01')
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-26', 145.0, '2018-04-26 11:12:01', '2018-04-26 11:12:01')[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-26', 165.0, '2018-04-26 11:12:01', '2018-04-26 11:12:01')
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-26', 185.0, '2018-04-26 11:12:01', '2018-04-26 11:12:01')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-26', 40.0, '2018-04-26 11:12:01', '2018-04-26 11:12:01')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-26', 40.0, '2018-04-26 11:12:01', '2018-04-26 11:12:01')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-26 11:12:01', '2018-04-26 11:12:01')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-26 11:12:01', '2018-04-26 11:12:01')
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-26 11:12:01', '2018-04-26 11:12:01')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-26 11:12:01', '2018-04-26 11:12:01')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-26 11:12:01', '2018-04-26 11:12:01')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-26 11:12:01', '2018-04-26 11:12:01')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-26 11:12:01', '2018-04-26 11:12:01')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:12:01', '2018-04-26 13:12:01', 1, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:12:01', '2018-04-26 13:12:01', 2, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:12:01', '2018-04-26 13:12:01', 2, 3)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:12:01', '2018-04-26 13:12:01', 2, 4)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:12:01', '2018-04-26 13:12:01', 2, 5)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:12:01', '2018-04-26 13:12:01', 2, 6)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:12:01', '2018-04-26 13:12:01', 2, 7)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:12:01', '2018-04-26 13:12:01', 3, 8)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:12:01', '2018-04-26 13:12:01', 4, 9)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:12:01', '2018-04-26 13:12:01', 5, 10)[0m
  [1m[35m (46.9ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------
MovieTest: test_create
----------------------
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors`
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-26 11:12:01', '12425', 'A great movie', 375, 45.5, '2018-04-26 11:12:01', '2018-04-26 11:12:01')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 115, '2018-04-26 11:12:01', '2018-04-26 11:12:01')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 115, '2018-04-26 11:12:01', '2018-04-26 11:12:01')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 115, '2018-04-26 11:12:01', '2018-04-26 11:12:01')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 115, '2018-04-26 11:12:01', '2018-04-26 11:12:01')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 115, '2018-04-26 11:12:01', '2018-04-26 11:12:01')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (77.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-26 11:12:01', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-26 11:12:01', '2018-04-26 11:12:01')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 116, '2018-04-26 11:12:01', '2018-04-26 11:12:01')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 116, '2018-04-26 11:12:01', '2018-04-26 11:12:01')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 116 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (48.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[35mDirector Load (0.8ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-26 11:12:01', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-26 11:12:01', '2018-04-26 11:12:01')
  [1m[36mSQL (91.2ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 117, '2018-04-26 11:12:01', '2018-04-26 11:12:01')[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 117, '2018-04-26 11:12:01', '2018-04-26 11:12:01')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 117 LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 117[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36m (1.1ms)[0m  [1mSELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35m (44.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-26 11:12:01', '2018-04-26 11:12:01')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (46.6ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (75.5ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-26', 45.0, '2018-04-26 11:12:42', '2018-04-26 11:12:42')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-26', 65.0, '2018-04-26 11:12:42', '2018-04-26 11:12:42')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-26', 85.0, '2018-04-26 11:12:42', '2018-04-26 11:12:42')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-26', 105.0, '2018-04-26 11:12:42', '2018-04-26 11:12:42')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-26', 125.0, '2018-04-26 11:12:42', '2018-04-26 11:12:42')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-26', 145.0, '2018-04-26 11:12:42', '2018-04-26 11:12:42')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-26', 165.0, '2018-04-26 11:12:42', '2018-04-26 11:12:42')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-26', 185.0, '2018-04-26 11:12:42', '2018-04-26 11:12:42')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-26', 40.0, '2018-04-26 11:12:42', '2018-04-26 11:12:42')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-26', 40.0, '2018-04-26 11:12:42', '2018-04-26 11:12:42')[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-26 11:12:42', '2018-04-26 11:12:42')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-26 11:12:42', '2018-04-26 11:12:42')
  [1m[36mFixture Delete (70.2ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-26 11:12:42', '2018-04-26 11:12:42')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-26 11:12:42', '2018-04-26 11:12:42')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-26 11:12:42', '2018-04-26 11:12:42')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-26 11:12:42', '2018-04-26 11:12:42')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-26 11:12:42', '2018-04-26 11:12:42')
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:12:42', '2018-04-26 13:12:42', 1, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:12:42', '2018-04-26 13:12:42', 2, 2)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:12:42', '2018-04-26 13:12:42', 2, 3)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:12:42', '2018-04-26 13:12:42', 2, 4)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:12:42', '2018-04-26 13:12:42', 2, 5)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:12:42', '2018-04-26 13:12:42', 2, 6)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:12:42', '2018-04-26 13:12:42', 2, 7)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:12:42', '2018-04-26 13:12:42', 3, 8)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:12:42', '2018-04-26 13:12:42', 4, 9)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:12:42', '2018-04-26 13:12:42', 5, 10)[0m
  [1m[35m (38.8ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.6ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-26 11:12:43', '2018-04-26 11:12:43')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-26 11:12:43', '2018-04-26 11:12:43')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1[0m
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-26 13:12:43 +0200
Processing by Admin::MovieController#new as HTML
  [1m[35mProducer Load (0.8ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (96.1ms)
  Rendered admin/movie/new.html.erb within layouts/application (107.3ms)
Completed 200 OK in 794ms (Views: 756.2ms | ActiveRecord: 2.6ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-26 13:12:43 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"64", "director_ids"=>["102"], "produced_at"=>"2018-04-26 13:12:43 +0200", "serial_number"=>"64214", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[35mDirector Load (0.9ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 102 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 64 LIMIT 1
  [1m[36mMovie Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '64214' LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `price`, `length`, `created_at`, `updated_at`) VALUES ('A new Movie of Ruby', 64, '2018-04-26 11:12:43', '64214', 'A new Movie of Ruby', 45.5, 325, '2018-04-26 11:12:44', '2018-04-26 11:12:44')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (102, 118, '2018-04-26 11:12:44', '2018-04-26 11:12:44')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 65ms (ActiveRecord: 5.4ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-04-26 13:12:44 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.9ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (33.6ms)
Completed 200 OK in 40ms (Views: 35.7ms | ActiveRecord: 2.6ms)
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-26 13:12:44 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (1.0ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (22.3ms)
Completed 200 OK in 27ms (Views: 23.4ms | ActiveRecord: 2.4ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
Started GET "/admin/movie/index/?page=3" for 127.0.0.1 at 2018-04-26 13:12:44 +0200
Processing by Admin::MovieController#index as HTML
  Parameters: {"page"=>"3"}
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 10
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 64 LIMIT 1[0m
  Rendered admin/movie/index.html.erb within layouts/application (8.0ms)
Completed 200 OK in 13ms (Views: 10.0ms | ActiveRecord: 1.4ms)
  [1m[35mMovie Load (1.0ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'A new Movie of Ruby' LIMIT 1
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-26 13:12:44 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (22.2ms)
Completed 200 OK in 27ms (Views: 23.6ms | ActiveRecord: 2.1ms)
Started GET "/admin/movie/show/118" for 127.0.0.1 at 2018-04-26 13:12:44 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"118"}
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 118 LIMIT 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 64 LIMIT 1[0m
  [1m[35mDirector Load (1.1ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 118
  Rendered admin/movie/show.html.erb within layouts/application (38.2ms)
Completed 200 OK in 50ms (Views: 43.0ms | ActiveRecord: 2.6ms)
Started GET "/admin/movie/edit?id=118" for 127.0.0.1 at 2018-04-26 13:12:44 +0200
Processing by Admin::MovieController#edit as HTML
  Parameters: {"id"=>"118"}
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 118 LIMIT 1[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 118[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (33.3ms)
  Rendered admin/movie/edit.html.erb within layouts/application (38.9ms)
Completed 200 OK in 51ms (Views: 45.3ms | ActiveRecord: 3.0ms)
Started POST "/admin/movie/update?id=118" for 127.0.0.1 at 2018-04-26 13:12:44 +0200
Processing by Admin::MovieController#update as HTML
  Parameters: {"movie"=>{"title"=>"A very new Movie of Ruby", "producer_id"=>"64", "director_ids"=>["102"], "produced_at"=>"2018-04-26 13:12:44 +0200", "serial_number"=>"43214", "blurb"=>"A very new Movie of Ruby", "length"=>"350", "price"=>"50"}, "id"=>"118"}
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 118 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 102 LIMIT 1[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 118
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 64 LIMIT 1[0m
  [1m[35mMovie Exists (1.0ms)[0m  SELECT  1 AS one FROM `movies` WHERE (`movies`.`serial_number` = BINARY '43214' AND `movies`.`id` != 118) LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `movies` SET `title` = 'A very new Movie of Ruby', `produced_at` = '2018-04-26 11:12:44', `serial_number` = '43214', `blurb` = 'A very new Movie of Ruby', `price` = 50.0, `length` = 350, `updated_at` = '2018-04-26 11:12:44' WHERE `movies`.`id` = 118[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie/show/118
Completed 302 Found in 40ms (ActiveRecord: 5.4ms)
Started GET "/admin/movie/show/118" for 127.0.0.1 at 2018-04-26 13:12:44 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"118"}
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 118 LIMIT 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 64 LIMIT 1
  [1m[36mDirector Load (1.1ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 118[0m
  Rendered admin/movie/show.html.erb within layouts/application (13.4ms)
Completed 200 OK in 22ms (Views: 17.9ms | ActiveRecord: 2.5ms)
Started POST "/admin/movie/destroy?id=118" for 127.0.0.1 at 2018-04-26 13:12:44 +0200
Processing by Admin::MovieController#destroy as HTML
  Parameters: {"id"=>"118"}
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 118 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`movie_id` = 118
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `movies` WHERE `movies`.`id` = 118[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 11ms (ActiveRecord: 2.3ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-04-26 13:12:44 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (31.4ms)
Completed 200 OK in 39ms (Views: 36.0ms | ActiveRecord: 2.1ms)
  [1m[35m (42.8ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-26', 45.0, '2018-04-26 11:12:54', '2018-04-26 11:12:54')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-26', 65.0, '2018-04-26 11:12:54', '2018-04-26 11:12:54')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-26', 85.0, '2018-04-26 11:12:54', '2018-04-26 11:12:54')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-26', 105.0, '2018-04-26 11:12:54', '2018-04-26 11:12:54')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-26', 125.0, '2018-04-26 11:12:54', '2018-04-26 11:12:54')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-26', 145.0, '2018-04-26 11:12:54', '2018-04-26 11:12:54')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-26', 165.0, '2018-04-26 11:12:54', '2018-04-26 11:12:54')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-26', 185.0, '2018-04-26 11:12:54', '2018-04-26 11:12:54')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-26', 40.0, '2018-04-26 11:12:54', '2018-04-26 11:12:54')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-26', 40.0, '2018-04-26 11:12:54', '2018-04-26 11:12:54')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-26 11:12:54', '2018-04-26 11:12:54')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-26 11:12:54', '2018-04-26 11:12:54')
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-26 11:12:54', '2018-04-26 11:12:54')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-26 11:12:54', '2018-04-26 11:12:54')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-26 11:12:54', '2018-04-26 11:12:54')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-26 11:12:54', '2018-04-26 11:12:54')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-26 11:12:54', '2018-04-26 11:12:54')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:12:54', '2018-04-26 13:12:54', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:12:54', '2018-04-26 13:12:54', 2, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:12:54', '2018-04-26 13:12:54', 2, 3)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:12:54', '2018-04-26 13:12:54', 2, 4)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:12:54', '2018-04-26 13:12:54', 2, 5)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:12:54', '2018-04-26 13:12:54', 2, 6)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:12:54', '2018-04-26 13:12:54', 2, 7)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:12:54', '2018-04-26 13:12:54', 3, 8)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:12:54', '2018-04-26 13:12:54', 4, 9)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-26 13:12:54', '2018-04-26 13:12:54', 5, 10)[0m
  [1m[35m (48.3ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-26 11:12:55', '2018-04-26 11:12:55')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (41.7ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-26 11:12:55', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-26 11:12:55', '2018-04-26 11:12:55')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 119, '2018-04-26 11:12:55', '2018-04-26 11:12:55')[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 119, '2018-04-26 11:12:55', '2018-04-26 11:12:55')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 119 LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 119[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35m (40.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-26 11:12:55', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-26 11:12:55', '2018-04-26 11:12:55')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 120, '2018-04-26 11:12:55', '2018-04-26 11:12:55')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 120, '2018-04-26 11:12:55', '2018-04-26 11:12:55')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 120 LIMIT 1[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (48.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------
MovieTest: test_create
----------------------
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-26 11:12:55', '12425', 'A great movie', 375, 45.5, '2018-04-26 11:12:55', '2018-04-26 11:12:55')[0m
  [1m[35mSQL (86.0ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 121, '2018-04-26 11:12:55', '2018-04-26 11:12:55')
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 121, '2018-04-26 11:12:55', '2018-04-26 11:12:55')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 121, '2018-04-26 11:12:55', '2018-04-26 11:12:55')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 121, '2018-04-26 11:12:55', '2018-04-26 11:12:55')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 121, '2018-04-26 11:12:55', '2018-04-26 11:12:55')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (50.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (81.0ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-30', 45.0, '2018-04-30 09:43:04', '2018-04-30 09:43:04')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-30', 65.0, '2018-04-30 09:43:04', '2018-04-30 09:43:04')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-30', 85.0, '2018-04-30 09:43:04', '2018-04-30 09:43:04')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-30', 105.0, '2018-04-30 09:43:04', '2018-04-30 09:43:04')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-30', 125.0, '2018-04-30 09:43:04', '2018-04-30 09:43:04')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-30', 145.0, '2018-04-30 09:43:04', '2018-04-30 09:43:04')[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-30', 165.0, '2018-04-30 09:43:04', '2018-04-30 09:43:04')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-30', 185.0, '2018-04-30 09:43:04', '2018-04-30 09:43:04')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-30', 40.0, '2018-04-30 09:43:04', '2018-04-30 09:43:04')
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-30', 40.0, '2018-04-30 09:43:04', '2018-04-30 09:43:04')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-30 09:43:04', '2018-04-30 09:43:04')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-30 09:43:04', '2018-04-30 09:43:04')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-30 09:43:04', '2018-04-30 09:43:04')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-30 09:43:04', '2018-04-30 09:43:04')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-30 09:43:04', '2018-04-30 09:43:04')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-30 09:43:04', '2018-04-30 09:43:04')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-30 09:43:04', '2018-04-30 09:43:04')
  [1m[36mFixture Delete (69.1ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:43:04', '2018-04-30 11:43:04', 1, 1)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:43:04', '2018-04-30 11:43:04', 2, 2)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:43:04', '2018-04-30 11:43:04', 2, 3)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:43:04', '2018-04-30 11:43:04', 2, 4)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:43:04', '2018-04-30 11:43:04', 2, 5)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:43:04', '2018-04-30 11:43:04', 2, 6)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:43:04', '2018-04-30 11:43:04', 2, 7)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:43:04', '2018-04-30 11:43:04', 3, 8)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:43:04', '2018-04-30 11:43:04', 4, 9)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:43:04', '2018-04-30 11:43:04', 5, 10)[0m
  [1m[35m (36.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.6ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-30 09:43:04', '2018-04-30 09:43:04')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-30 09:43:04', '2018-04-30 09:43:04')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1[0m
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-30 11:43:04 +0200
Processing by Admin::MovieController#new as HTML
  [1m[35mProducer Load (0.5ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (111.5ms)
  Rendered admin/movie/new.html.erb within layouts/application (123.8ms)
Completed 200 OK in 1199ms (Views: 1159.9ms | ActiveRecord: 2.1ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-30 11:43:06 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"11", "director_ids"=>["18"], "produced_at"=>"2018-04-30 11:43:04 +0200", "serial_number"=>"64214", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 18 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 11 LIMIT 1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '64214' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `price`, `length`, `created_at`, `updated_at`) VALUES ('A new Movie of Ruby', 11, '2018-04-30 09:43:04', '64214', 'A new Movie of Ruby', 45.5, 325, '2018-04-30 09:43:06', '2018-04-30 09:43:06')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (18, 27, '2018-04-30 09:43:06', '2018-04-30 09:43:06')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 100ms (ActiveRecord: 4.1ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-04-30 11:43:06 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (38.6ms)
Completed 200 OK in 49ms (Views: 45.4ms | ActiveRecord: 1.9ms)
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-30 11:43:06 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (35.6ms)
Completed 200 OK in 45ms (Views: 40.4ms | ActiveRecord: 2.0ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
Started GET "/admin/movie/index/?page=3" for 127.0.0.1 at 2018-04-30 11:43:06 +0200
Processing by Admin::MovieController#index as HTML
  Parameters: {"page"=>"3"}
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 10
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 11 LIMIT 1[0m
  Rendered admin/movie/index.html.erb within layouts/application (11.1ms)
Completed 200 OK in 17ms (Views: 14.6ms | ActiveRecord: 1.3ms)
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'A new Movie of Ruby' LIMIT 1
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-30 11:43:06 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (33.4ms)
Completed 200 OK in 40ms (Views: 37.0ms | ActiveRecord: 2.0ms)
Started GET "/admin/movie/show/27" for 127.0.0.1 at 2018-04-30 11:43:06 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"27"}
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 27 LIMIT 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 11 LIMIT 1[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 27
  Rendered admin/movie/show.html.erb within layouts/application (19.9ms)
Completed 200 OK in 32ms (Views: 25.7ms | ActiveRecord: 2.1ms)
Started GET "/admin/movie/edit?id=27" for 127.0.0.1 at 2018-04-30 11:43:06 +0200
Processing by Admin::MovieController#edit as HTML
  Parameters: {"id"=>"27"}
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 27 LIMIT 1[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (3.1ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 27[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (43.6ms)
  Rendered admin/movie/edit.html.erb within layouts/application (49.2ms)
Completed 200 OK in 58ms (Views: 50.8ms | ActiveRecord: 5.1ms)
Started POST "/admin/movie/update?id=27" for 127.0.0.1 at 2018-04-30 11:43:06 +0200
Processing by Admin::MovieController#update as HTML
  Parameters: {"movie"=>{"title"=>"A very new Movie of Ruby", "producer_id"=>"11", "director_ids"=>["18"], "produced_at"=>"2018-04-30 11:43:06 +0200", "serial_number"=>"43214", "blurb"=>"A very new Movie of Ruby", "length"=>"350", "price"=>"50"}, "id"=>"27"}
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 27 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 18 LIMIT 1[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 27
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 11 LIMIT 1[0m
  [1m[35mMovie Exists (0.8ms)[0m  SELECT  1 AS one FROM `movies` WHERE (`movies`.`serial_number` = BINARY '43214' AND `movies`.`id` != 27) LIMIT 1
  [1m[36mSQL (151.1ms)[0m  [1mUPDATE `movies` SET `title` = 'A very new Movie of Ruby', `produced_at` = '2018-04-30 09:43:06', `serial_number` = '43214', `blurb` = 'A very new Movie of Ruby', `price` = 50.0, `length` = 350, `updated_at` = '2018-04-30 09:43:06' WHERE `movies`.`id` = 27[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie/show/27
Completed 302 Found in 177ms (ActiveRecord: 155.1ms)
Started GET "/admin/movie/show/27" for 127.0.0.1 at 2018-04-30 11:43:06 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"27"}
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 27 LIMIT 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 11 LIMIT 1
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 27[0m
  Rendered admin/movie/show.html.erb within layouts/application (7.9ms)
Completed 200 OK in 14ms (Views: 9.6ms | ActiveRecord: 2.1ms)
Started POST "/admin/movie/destroy?id=27" for 127.0.0.1 at 2018-04-30 11:43:06 +0200
Processing by Admin::MovieController#destroy as HTML
  Parameters: {"id"=>"27"}
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 27 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`movie_id` = 27
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `movies` WHERE `movies`.`id` = 27[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 9ms (ActiveRecord: 2.4ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-04-30 11:43:06 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (19.1ms)
Completed 200 OK in 23ms (Views: 20.0ms | ActiveRecord: 1.8ms)
  [1m[35m (44.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2018-04-30 11:43:06 +0200
Processing by CatalogController#index as HTML
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 0
  [1m[36mHABTM_Directors Load (0.8ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `movies`
  Rendered catalog/_movies.html.erb (44.1ms)
  Rendered catalog/index.html.erb within layouts/application (47.1ms)
Completed 200 OK in 61ms (Views: 55.9ms | ActiveRecord: 3.3ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2018-04-30 11:43:07 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Directors Load (0.7ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (5, 4, 3, 2, 1)
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (2, 1)[0m
  [1m[35mProducer Load (0.9ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (1)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  Rendered catalog/_movies.html.erb (27.9ms)
  Rendered catalog/index.html.erb within layouts/application (29.0ms)
Completed 200 OK in 33ms (Views: 28.3ms | ActiveRecord: 3.5ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-30 09:43:07', '2018-04-30 09:43:07')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (42.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 13ms (Views: 12.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-30 09:43:07' WHERE `directors`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 11ms (ActiveRecord: 1.9ms)
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (46.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/director/_form.html.erb (6.2ms)
  Rendered admin/director/new.html.erb within layouts/application (10.1ms)
Completed 200 OK in 27ms (Views: 21.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.8ms)
  Rendered admin/director/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 7ms (Views: 5.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (1.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/show.html.erb within layouts/application (2.9ms)
Completed 200 OK in 11ms (Views: 7.5ms | ActiveRecord: 1.8ms)
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/_form.html.erb (0.7ms)
  Rendered admin/director/edit.html.erb within layouts/application (4.3ms)
Completed 200 OK in 13ms (Views: 10.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (9.3ms)
  Rendered admin/director/index.html.erb within layouts/application (13.9ms)
Completed 200 OK in 19ms (Views: 17.7ms | ActiveRecord: 0.6ms)
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.9ms)
  Rendered admin/director/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-30 09:43:07', '2018-04-30 09:43:07')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 7ms (Views: 5.7ms | ActiveRecord: 1.0ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (43.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35mSQL (1.0ms)[0m  DELETE FROM `directors` WHERE `directors`.`id` = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 19ms (ActiveRecord: 3.0ms)
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (5.4ms)
  Rendered admin/director/index.html.erb within layouts/application (8.0ms)
Completed 200 OK in 12ms (Views: 10.4ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (46.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------
MovieTest: test_create
----------------------
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-30 09:43:07', '12425', 'A great movie', 375, 45.5, '2018-04-30 09:43:07', '2018-04-30 09:43:07')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 28, '2018-04-30 09:43:07', '2018-04-30 09:43:07')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 28, '2018-04-30 09:43:07', '2018-04-30 09:43:07')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 28, '2018-04-30 09:43:07', '2018-04-30 09:43:07')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 28, '2018-04-30 09:43:07', '2018-04-30 09:43:07')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 28, '2018-04-30 09:43:07', '2018-04-30 09:43:07')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (40.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-30 09:43:07', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-30 09:43:07', '2018-04-30 09:43:07')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 29, '2018-04-30 09:43:07', '2018-04-30 09:43:07')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 29, '2018-04-30 09:43:07', '2018-04-30 09:43:07')[0m
  [1m[35m (0.7ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (1.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 29 LIMIT 1[0m
  [1m[35m (1.2ms)[0m  SELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 29
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1
  [1m[36m (42.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.1ms)[0m  BEGIN
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.8ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-30 09:43:07', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-30 09:43:07', '2018-04-30 09:43:07')[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 30, '2018-04-30 09:43:07', '2018-04-30 09:43:07')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 30, '2018-04-30 09:43:07', '2018-04-30 09:43:07')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Load (1.3ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 30 LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (42.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.1ms)[0m  BEGIN
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (2.1ms)
  Rendered admin/producer/new.html.erb within layouts/application (6.4ms)
Completed 200 OK in 18ms (Views: 17.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (4.7ms)
  Rendered admin/producer/index.html.erb within layouts/application (9.4ms)
Completed 200 OK in 14ms (Views: 12.4ms | ActiveRecord: 0.8ms)
  [1m[35m (1.2ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/show.html.erb within layouts/application (1.9ms)
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 0.6ms)
  [1m[36mProducer Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-30 09:43:07', '2018-04-30 09:43:07')
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 11ms (ActiveRecord: 2.6ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (88.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/_form.html.erb (0.5ms)
  Rendered admin/producer/edit.html.erb within layouts/application (5.2ms)
Completed 200 OK in 13ms (Views: 10.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.9ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mSQL (1.4ms)[0m  [1mUPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-30 09:43:08' WHERE `producers`.`id` = 1[0m
  [1m[35m (0.8ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 14ms (ActiveRecord: 4.6ms)
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (34.2ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mDELETE FROM `producers` WHERE `producers`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 7ms (ActiveRecord: 2.8ms)
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (2.2ms)
  Rendered admin/producer/index.html.erb within layouts/application (4.8ms)
Completed 200 OK in 9ms (Views: 7.5ms | ActiveRecord: 0.7ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (39.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.7ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.6ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (1.3ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (86.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-30', 45.0, '2018-04-30 09:43:51', '2018-04-30 09:43:51')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-30', 65.0, '2018-04-30 09:43:51', '2018-04-30 09:43:51')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-30', 85.0, '2018-04-30 09:43:51', '2018-04-30 09:43:51')
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-30', 105.0, '2018-04-30 09:43:51', '2018-04-30 09:43:51')[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-30', 125.0, '2018-04-30 09:43:51', '2018-04-30 09:43:51')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-30', 145.0, '2018-04-30 09:43:51', '2018-04-30 09:43:51')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-30', 165.0, '2018-04-30 09:43:51', '2018-04-30 09:43:51')
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-30', 185.0, '2018-04-30 09:43:51', '2018-04-30 09:43:51')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-30', 40.0, '2018-04-30 09:43:51', '2018-04-30 09:43:51')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-30', 40.0, '2018-04-30 09:43:51', '2018-04-30 09:43:51')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-30 09:43:51', '2018-04-30 09:43:51')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-30 09:43:51', '2018-04-30 09:43:51')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-30 09:43:51', '2018-04-30 09:43:51')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-30 09:43:51', '2018-04-30 09:43:51')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-30 09:43:51', '2018-04-30 09:43:51')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-30 09:43:51', '2018-04-30 09:43:51')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-30 09:43:51', '2018-04-30 09:43:51')
  [1m[36mFixture Delete (89.4ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:43:51', '2018-04-30 11:43:51', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:43:51', '2018-04-30 11:43:51', 2, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:43:51', '2018-04-30 11:43:51', 2, 3)
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:43:51', '2018-04-30 11:43:51', 2, 4)[0m
  [1m[35mFixture Insert (0.9ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:43:51', '2018-04-30 11:43:51', 2, 5)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:43:51', '2018-04-30 11:43:51', 2, 6)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:43:51', '2018-04-30 11:43:51', 2, 7)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:43:51', '2018-04-30 11:43:51', 3, 8)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:43:51', '2018-04-30 11:43:51', 4, 9)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:43:51', '2018-04-30 11:43:51', 5, 10)[0m
  [1m[35m (41.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.6ms)[0m  BEGIN
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[36m (0.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (1.3ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-30 09:43:51', '2018-04-30 09:43:51')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-30 09:43:51', '2018-04-30 09:43:51')
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mDirector Load (1.0ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1[0m
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-30 11:43:51 +0200
Processing by Admin::MovieController#new as HTML
  [1m[35mProducer Load (1.2ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (1.0ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (114.3ms)
  Rendered admin/movie/new.html.erb within layouts/application (126.7ms)
Completed 200 OK in 816ms (Views: 773.1ms | ActiveRecord: 3.5ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-30 11:43:52 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"13", "director_ids"=>["21"], "produced_at"=>"2018-04-30 11:43:51 +0200", "serial_number"=>"64214", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[35mDirector Load (1.1ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 21 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 13 LIMIT 1
  [1m[36mMovie Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '64214' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `price`, `length`, `created_at`, `updated_at`) VALUES ('A new Movie of Ruby', 13, '2018-04-30 09:43:51', '64214', 'A new Movie of Ruby', 45.5, 325, '2018-04-30 09:43:52', '2018-04-30 09:43:52')
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (21, 31, '2018-04-30 09:43:52', '2018-04-30 09:43:52')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 65ms (ActiveRecord: 5.9ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-04-30 11:43:52 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (29.8ms)
Completed 200 OK in 37ms (Views: 32.4ms | ActiveRecord: 2.6ms)
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-30 11:43:52 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (1.1ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (25.1ms)
Completed 200 OK in 30ms (Views: 25.9ms | ActiveRecord: 2.6ms)
  [1m[36m (2.1ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
Started GET "/admin/movie/index/?page=3" for 127.0.0.1 at 2018-04-30 11:43:52 +0200
Processing by Admin::MovieController#index as HTML
  Parameters: {"page"=>"3"}
  [1m[35mMovie Load (1.2ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 10
  [1m[36mProducer Load (1.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 13 LIMIT 1[0m
  Rendered admin/movie/index.html.erb within layouts/application (8.6ms)
Completed 200 OK in 13ms (Views: 9.8ms | ActiveRecord: 2.2ms)
  [1m[35mMovie Load (1.3ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'A new Movie of Ruby' LIMIT 1
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-30 11:43:52 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (1.1ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (30.6ms)
Completed 200 OK in 57ms (Views: 53.2ms | ActiveRecord: 2.5ms)
Started GET "/admin/movie/show/31" for 127.0.0.1 at 2018-04-30 11:43:52 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"31"}
  [1m[35mMovie Load (1.3ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 31 LIMIT 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 13 LIMIT 1[0m
  [1m[35mDirector Load (1.1ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 31
  Rendered admin/movie/show.html.erb within layouts/application (21.1ms)
Completed 200 OK in 32ms (Views: 25.1ms | ActiveRecord: 2.9ms)
Started GET "/admin/movie/edit?id=31" for 127.0.0.1 at 2018-04-30 11:43:52 +0200
Processing by Admin::MovieController#edit as HTML
  Parameters: {"id"=>"31"}
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 31 LIMIT 1[0m
  [1m[35mProducer Load (1.0ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (1.3ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 31[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (36.8ms)
  Rendered admin/movie/edit.html.erb within layouts/application (43.8ms)
Completed 200 OK in 59ms (Views: 51.6ms | ActiveRecord: 3.5ms)
Started POST "/admin/movie/update?id=31" for 127.0.0.1 at 2018-04-30 11:43:52 +0200
Processing by Admin::MovieController#update as HTML
  Parameters: {"movie"=>{"title"=>"A very new Movie of Ruby", "producer_id"=>"13", "director_ids"=>["21"], "produced_at"=>"2018-04-30 11:43:52 +0200", "serial_number"=>"43214", "blurb"=>"A very new Movie of Ruby", "length"=>"350", "price"=>"50"}, "id"=>"31"}
  [1m[36mMovie Load (1.0ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 31 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 21 LIMIT 1[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 31
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 13 LIMIT 1[0m
  [1m[35mMovie Exists (1.2ms)[0m  SELECT  1 AS one FROM `movies` WHERE (`movies`.`serial_number` = BINARY '43214' AND `movies`.`id` != 31) LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `movies` SET `title` = 'A very new Movie of Ruby', `produced_at` = '2018-04-30 09:43:52', `serial_number` = '43214', `blurb` = 'A very new Movie of Ruby', `price` = 50.0, `length` = 350, `updated_at` = '2018-04-30 09:43:53' WHERE `movies`.`id` = 31[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie/show/31
Completed 302 Found in 41ms (ActiveRecord: 5.9ms)
Started GET "/admin/movie/show/31" for 127.0.0.1 at 2018-04-30 11:43:53 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"31"}
  [1m[36mMovie Load (1.0ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 31 LIMIT 1[0m
  [1m[35mProducer Load (1.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 13 LIMIT 1
  [1m[36mDirector Load (1.1ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 31[0m
  Rendered admin/movie/show.html.erb within layouts/application (11.9ms)
Completed 200 OK in 21ms (Views: 14.1ms | ActiveRecord: 3.2ms)
Started POST "/admin/movie/destroy?id=31" for 127.0.0.1 at 2018-04-30 11:43:53 +0200
Processing by Admin::MovieController#destroy as HTML
  Parameters: {"id"=>"31"}
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 31 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`movie_id` = 31
  [1m[36mSQL (1.1ms)[0m  [1mDELETE FROM `movies` WHERE `movies`.`id` = 31[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 13ms (ActiveRecord: 3.6ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-04-30 11:43:53 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (1.2ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (1.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (38.8ms)
Completed 200 OK in 50ms (Views: 41.3ms | ActiveRecord: 4.3ms)
  [1m[35m (61.4ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/show.html.erb within layouts/application (3.8ms)
Completed 200 OK in 29ms (Views: 25.6ms | ActiveRecord: 0.7ms)
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.9ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (8.9ms)
  Rendered admin/director/index.html.erb within layouts/application (15.0ms)
Completed 200 OK in 20ms (Views: 18.2ms | ActiveRecord: 0.9ms)
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `directors` WHERE `directors`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 14ms (ActiveRecord: 2.0ms)
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (7.3ms)
  Rendered admin/director/index.html.erb within layouts/application (10.2ms)
Completed 200 OK in 14ms (Views: 12.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (38.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (2.2ms)
  Rendered admin/director/new.html.erb within layouts/application (6.5ms)
Completed 200 OK in 11ms (Views: 10.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-30 09:43:53', '2018-04-30 09:43:53')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 7ms (Views: 10.7ms | ActiveRecord: 1.3ms)
  [1m[36m (1.1ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (36.9ms)[0m  ROLLBACK
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.9ms)
  Rendered admin/director/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.9ms)[0m  ROLLBACK
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-30 09:43:53' WHERE `directors`.`id` = 1
  [1m[36m (0.7ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 10ms (ActiveRecord: 2.4ms)
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (40.7ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.9ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/_form.html.erb (0.9ms)
  Rendered admin/director/edit.html.erb within layouts/application (5.3ms)
Completed 200 OK in 13ms (Views: 11.0ms | ActiveRecord: 0.9ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[36m (1.2ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/director/_form.html.erb (5.1ms)
  Rendered admin/director/new.html.erb within layouts/application (7.1ms)
Completed 200 OK in 17ms (Views: 10.5ms | ActiveRecord: 0.8ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2018-04-30 11:43:53 +0200
Processing by CatalogController#index as HTML
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Directors Load (0.8ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  Rendered catalog/_movies.html.erb (58.2ms)
  Rendered catalog/index.html.erb within layouts/application (62.2ms)
Completed 200 OK in 77ms (Views: 71.7ms | ActiveRecord: 3.7ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2018-04-30 11:43:53 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mMovie Load (1.3ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 5
  [1m[36mHABTM_Directors Load (1.1ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (5, 4, 3, 2, 1)[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (2, 1)
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (1)[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `movies`
  Rendered catalog/_movies.html.erb (33.8ms)
  Rendered catalog/index.html.erb within layouts/application (35.0ms)
Completed 200 OK in 53ms (Views: 47.7ms | ActiveRecord: 4.4ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 13ms (Views: 12.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------
MovieTest: test_create
----------------------
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors`
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-30 09:43:53', '12425', 'A great movie', 375, 45.5, '2018-04-30 09:43:53', '2018-04-30 09:43:53')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 32, '2018-04-30 09:43:53', '2018-04-30 09:43:53')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 32, '2018-04-30 09:43:53', '2018-04-30 09:43:53')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 32, '2018-04-30 09:43:53', '2018-04-30 09:43:53')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 32, '2018-04-30 09:43:53', '2018-04-30 09:43:53')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 32, '2018-04-30 09:43:53', '2018-04-30 09:43:53')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (88.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (1.3ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[35mDirector Load (0.8ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.9ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (1.2ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-30 09:43:54', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-30 09:43:54', '2018-04-30 09:43:54')
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 33, '2018-04-30 09:43:54', '2018-04-30 09:43:54')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 33, '2018-04-30 09:43:54', '2018-04-30 09:43:54')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (1.2ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 33 LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 33[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36m (1.3ms)[0m  [1mSELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35m (46.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[35mProducer Load (3.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-30 09:43:54', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-30 09:43:54', '2018-04-30 09:43:54')
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 34, '2018-04-30 09:43:54', '2018-04-30 09:43:54')[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 34, '2018-04-30 09:43:54', '2018-04-30 09:43:54')
  [1m[36m (0.9ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 34 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (49.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (1.2ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/_form.html.erb (1.9ms)
  Rendered admin/producer/edit.html.erb within layouts/application (7.2ms)
Completed 200 OK in 21ms (Views: 18.3ms | ActiveRecord: 1.2ms)
  [1m[36m (0.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (0.5ms)
  Rendered admin/producer/new.html.erb within layouts/application (3.7ms)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (5.2ms)
  Rendered admin/producer/index.html.erb within layouts/application (10.3ms)
Completed 200 OK in 15ms (Views: 14.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (2.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[35m (1.1ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.7ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-30 09:43:54', '2018-04-30 09:43:54')[0m
  [1m[35m (3.7ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 26ms (ActiveRecord: 5.1ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (130.9ms)[0m  ROLLBACK
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/show.html.erb within layouts/application (2.8ms)
Completed 200 OK in 10ms (Views: 7.9ms | ActiveRecord: 0.7ms)
  [1m[36mProducer Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-30 09:43:54' WHERE `producers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 13ms (ActiveRecord: 2.9ms)
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (86.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  DELETE FROM `producers` WHERE `producers`.`id` = 1
  [1m[36m (0.6ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 8ms (ActiveRecord: 3.2ms)
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.9ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (1.9ms)
  Rendered admin/producer/index.html.erb within layouts/application (4.5ms)
Completed 200 OK in 8ms (Views: 6.9ms | ActiveRecord: 0.9ms)
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (47.5ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-30 09:43:54', '2018-04-30 09:43:54')[0m
  [1m[35m (0.8ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (45.6ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.7ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (207.6ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-30', 45.0, '2018-04-30 09:44:55', '2018-04-30 09:44:55')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-30', 65.0, '2018-04-30 09:44:55', '2018-04-30 09:44:55')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-30', 85.0, '2018-04-30 09:44:55', '2018-04-30 09:44:55')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-30', 105.0, '2018-04-30 09:44:55', '2018-04-30 09:44:55')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-30', 125.0, '2018-04-30 09:44:55', '2018-04-30 09:44:55')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-30', 145.0, '2018-04-30 09:44:55', '2018-04-30 09:44:55')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-30', 165.0, '2018-04-30 09:44:55', '2018-04-30 09:44:55')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-30', 185.0, '2018-04-30 09:44:55', '2018-04-30 09:44:55')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-30', 40.0, '2018-04-30 09:44:55', '2018-04-30 09:44:55')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-30', 40.0, '2018-04-30 09:44:55', '2018-04-30 09:44:55')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-30 09:44:55', '2018-04-30 09:44:55')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-30 09:44:55', '2018-04-30 09:44:55')
  [1m[36mFixture Delete (176.3ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-30 09:44:55', '2018-04-30 09:44:55')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-30 09:44:55', '2018-04-30 09:44:55')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-30 09:44:55', '2018-04-30 09:44:55')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-30 09:44:55', '2018-04-30 09:44:55')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-30 09:44:55', '2018-04-30 09:44:55')
  [1m[36mFixture Delete (1.2ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:44:55', '2018-04-30 11:44:55', 1, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:44:55', '2018-04-30 11:44:55', 2, 2)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:44:55', '2018-04-30 11:44:55', 2, 3)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:44:55', '2018-04-30 11:44:55', 2, 4)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:44:55', '2018-04-30 11:44:55', 2, 5)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:44:55', '2018-04-30 11:44:55', 2, 6)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:44:55', '2018-04-30 11:44:55', 2, 7)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:44:55', '2018-04-30 11:44:55', 3, 8)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:44:55', '2018-04-30 11:44:55', 4, 9)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:44:55', '2018-04-30 11:44:55', 5, 10)[0m
  [1m[35m (56.0ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-30 09:44:56', '2018-04-30 09:44:56')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (53.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-30 09:44:56', '2018-04-30 09:44:56')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-30 09:44:56', '2018-04-30 09:44:56')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-30 11:44:56 +0200
Processing by Admin::MovieController#new as HTML
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (123.7ms)
  Rendered admin/movie/new.html.erb within layouts/application (136.3ms)
Completed 200 OK in 658ms (Views: 621.2ms | ActiveRecord: 2.3ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-30 11:44:57 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"15", "director_ids"=>["25"], "produced_at"=>"2018-04-30 11:44:56 +0200", "serial_number"=>"64214", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 25 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 15 LIMIT 1[0m
  [1m[35mMovie Exists (1.2ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '64214' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `price`, `length`, `created_at`, `updated_at`) VALUES ('A new Movie of Ruby', 15, '2018-04-30 09:44:56', '64214', 'A new Movie of Ruby', 45.5, 325, '2018-04-30 09:44:57', '2018-04-30 09:44:57')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (25, 35, '2018-04-30 09:44:57', '2018-04-30 09:44:57')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 58ms (ActiveRecord: 4.9ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-04-30 11:44:57 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (26.1ms)
Completed 200 OK in 32ms (Views: 28.6ms | ActiveRecord: 2.1ms)
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-30 11:44:57 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (22.7ms)
Completed 200 OK in 27ms (Views: 23.5ms | ActiveRecord: 2.3ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `movies`
Started GET "/admin/movie/index/?page=3" for 127.0.0.1 at 2018-04-30 11:44:57 +0200
Processing by Admin::MovieController#index as HTML
  Parameters: {"page"=>"3"}
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 10[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 15 LIMIT 1
  Rendered admin/movie/index.html.erb within layouts/application (7.1ms)
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 1.3ms)
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'A new Movie of Ruby' LIMIT 1[0m
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-30 11:44:57 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (20.7ms)
Completed 200 OK in 25ms (Views: 21.8ms | ActiveRecord: 2.0ms)
Started GET "/admin/movie/show/35" for 127.0.0.1 at 2018-04-30 11:44:57 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"35"}
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 35 LIMIT 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 15 LIMIT 1
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 35[0m
  Rendered admin/movie/show.html.erb within layouts/application (13.2ms)
Completed 200 OK in 21ms (Views: 16.1ms | ActiveRecord: 2.2ms)
Started GET "/admin/movie/edit?id=35" for 127.0.0.1 at 2018-04-30 11:44:57 +0200
Processing by Admin::MovieController#edit as HTML
  Parameters: {"id"=>"35"}
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 35 LIMIT 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 35
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (18.4ms)
  Rendered admin/movie/edit.html.erb within layouts/application (21.6ms)
Completed 200 OK in 29ms (Views: 24.1ms | ActiveRecord: 2.6ms)
Started POST "/admin/movie/update?id=35" for 127.0.0.1 at 2018-04-30 11:44:57 +0200
Processing by Admin::MovieController#update as HTML
  Parameters: {"movie"=>{"title"=>"A very new Movie of Ruby", "producer_id"=>"15", "director_ids"=>["25"], "produced_at"=>"2018-04-30 11:44:57 +0200", "serial_number"=>"43214", "blurb"=>"A very new Movie of Ruby", "length"=>"350", "price"=>"50"}, "id"=>"35"}
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 35 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 25 LIMIT 1
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 35[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 15 LIMIT 1
  [1m[36mMovie Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE (`movies`.`serial_number` = BINARY '43214' AND `movies`.`id` != 35) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `movies` SET `title` = 'A very new Movie of Ruby', `produced_at` = '2018-04-30 09:44:57', `serial_number` = '43214', `blurb` = 'A very new Movie of Ruby', `price` = 50.0, `length` = 350, `updated_at` = '2018-04-30 09:44:57' WHERE `movies`.`id` = 35
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/movie/show/35
Completed 302 Found in 29ms (ActiveRecord: 4.9ms)
Started GET "/admin/movie/show/35" for 127.0.0.1 at 2018-04-30 11:44:57 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"35"}
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 35 LIMIT 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 15 LIMIT 1[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 35
  Rendered admin/movie/show.html.erb within layouts/application (8.2ms)
Completed 200 OK in 14ms (Views: 10.1ms | ActiveRecord: 2.1ms)
Started POST "/admin/movie/destroy?id=35" for 127.0.0.1 at 2018-04-30 11:44:57 +0200
Processing by Admin::MovieController#destroy as HTML
  Parameters: {"id"=>"35"}
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 35 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM `directors_movies` WHERE `directors_movies`.`movie_id` = 35[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `movies` WHERE `movies`.`id` = 35
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 10ms (ActiveRecord: 2.6ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-04-30 11:44:57 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (21.1ms)
Completed 200 OK in 26ms (Views: 22.4ms | ActiveRecord: 2.0ms)
  [1m[36m (101.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-30 09:44:57' WHERE `directors`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 12ms (ActiveRecord: 2.2ms)
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (49.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/show.html.erb within layouts/application (2.9ms)
Completed 200 OK in 18ms (Views: 15.7ms | ActiveRecord: 0.6ms)
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (2.5ms)
  Rendered admin/director/new.html.erb within layouts/application (6.9ms)
Completed 200 OK in 13ms (Views: 11.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-30 09:44:57', '2018-04-30 09:44:57')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 7ms (Views: 11.8ms | ActiveRecord: 1.2ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (40.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/_form.html.erb (0.7ms)
  Rendered admin/director/edit.html.erb within layouts/application (5.2ms)
Completed 200 OK in 13ms (Views: 10.9ms | ActiveRecord: 0.6ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/director/_form.html.erb (5.8ms)
  Rendered admin/director/new.html.erb within layouts/application (9.2ms)
Completed 200 OK in 24ms (Views: 14.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (0.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (10.4ms)
  Rendered admin/director/index.html.erb within layouts/application (15.7ms)
Completed 200 OK in 21ms (Views: 19.6ms | ActiveRecord: 0.6ms)
  [1m[35m (1.2ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.8ms)
  Rendered admin/director/new.html.erb within layouts/application (3.0ms)
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `directors` WHERE `directors`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 15ms (ActiveRecord: 2.7ms)
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (6.1ms)
  Rendered admin/director/index.html.erb within layouts/application (9.0ms)
Completed 200 OK in 13ms (Views: 11.7ms | ActiveRecord: 0.7ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (69.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 15ms (Views: 14.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (6.4ms)
  Rendered admin/producer/index.html.erb within layouts/application (12.5ms)
Completed 200 OK in 26ms (Views: 24.6ms | ActiveRecord: 0.6ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  DELETE FROM `producers` WHERE `producers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 9ms (ActiveRecord: 2.8ms)
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.7ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (2.8ms)
  Rendered admin/producer/index.html.erb within layouts/application (6.3ms)
Completed 200 OK in 12ms (Views: 10.2ms | ActiveRecord: 0.7ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (107.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.9ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/show.html.erb within layouts/application (3.4ms)
Completed 200 OK in 12ms (Views: 9.5ms | ActiveRecord: 0.9ms)
  [1m[36mProducer Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-30 09:44:58' WHERE `producers`.`id` = 1
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 14ms (ActiveRecord: 3.2ms)
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (227.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/_form.html.erb (2.5ms)
  Rendered admin/producer/edit.html.erb within layouts/application (9.1ms)
Completed 200 OK in 18ms (Views: 15.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (0.6ms)
  Rendered admin/producer/new.html.erb within layouts/application (4.7ms)
Completed 200 OK in 12ms (Views: 10.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[36m (1.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (2.9ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-30 09:44:58', '2018-04-30 09:44:58')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 15ms (ActiveRecord: 5.2ms)
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (45.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2018-04-30 11:44:58 +0200
Processing by CatalogController#index as HTML
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 0
  [1m[36mHABTM_Directors Load (0.8ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)
  [1m[36mProducer Load (0.9ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `movies`
  Rendered catalog/_movies.html.erb (98.8ms)
  Rendered catalog/index.html.erb within layouts/application (104.4ms)
Completed 200 OK in 124ms (Views: 118.9ms | ActiveRecord: 3.8ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2018-04-30 11:44:58 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Directors Load (0.8ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (5, 4, 3, 2, 1)
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (2, 1)[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (1)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  Rendered catalog/_movies.html.erb (46.6ms)
  Rendered catalog/index.html.erb within layouts/application (48.1ms)
Completed 200 OK in 55ms (Views: 50.1ms | ActiveRecord: 3.6ms)
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pro Rails E-Commerce' LIMIT 1
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pride and Prejudice'  ORDER BY `movies`.`id` ASC LIMIT 1[0m
Started GET "/catalog/show/9" for 127.0.0.1 at 2018-04-30 11:44:58 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 9 LIMIT 1
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 2 LIMIT 1
  Rendered catalog/show.html.erb within layouts/application (12.0ms)
Completed 200 OK in 22ms (Views: 18.2ms | ActiveRecord: 2.1ms)
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------
MovieTest: test_create
----------------------
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.7ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-30 09:44:58', '12425', 'A great movie', 375, 45.5, '2018-04-30 09:44:58', '2018-04-30 09:44:58')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 36, '2018-04-30 09:44:58', '2018-04-30 09:44:58')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 36, '2018-04-30 09:44:58', '2018-04-30 09:44:58')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 36, '2018-04-30 09:44:58', '2018-04-30 09:44:58')
  [1m[36mSQL (2.0ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 36, '2018-04-30 09:44:58', '2018-04-30 09:44:58')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 36, '2018-04-30 09:44:58', '2018-04-30 09:44:58')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (74.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (1.8ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-30 09:44:59', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-30 09:44:59', '2018-04-30 09:44:59')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 37, '2018-04-30 09:44:59', '2018-04-30 09:44:59')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 37, '2018-04-30 09:44:59', '2018-04-30 09:44:59')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 37 LIMIT 1[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 37
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1
  [1m[36m (42.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-30 09:44:59', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-30 09:44:59', '2018-04-30 09:44:59')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 38, '2018-04-30 09:44:59', '2018-04-30 09:44:59')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 38, '2018-04-30 09:44:59', '2018-04-30 09:44:59')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 38 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (41.5ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.4ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.4ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateCarts (20190702175355)
  [1m[35m (267.0ms)[0m  CREATE TABLE `carts` (`id` int(11) auto_increment PRIMARY KEY, `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20190702175355')
  [1m[36m (41.8ms)[0m  [1mCOMMIT[0m
Migrating to CreateCartItems (20190702175418)
  [1m[35m (275.8ms)[0m  CREATE TABLE `cart_items` (`id` int(11) auto_increment PRIMARY KEY, `movie_id` int(11), `cart_id` int(11), `price` float, `amount` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20190702175418')
  [1m[36m (84.0ms)[0m  [1mCOMMIT[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36m (0.5ms)[0m  [1mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'eshop2_test'
  AND fk.table_name = 'cart_items'
[0m
  [1m[35m (0.4ms)[0m  SHOW CREATE TABLE `cart_items`
  [1m[36m (0.5ms)[0m  [1mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'eshop2_test'
  AND fk.table_name = 'carts'
[0m
  [1m[35m (0.3ms)[0m  SHOW CREATE TABLE `carts`
  [1m[36m (0.5ms)[0m  [1mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'eshop2_test'
  AND fk.table_name = 'directors'
[0m
  [1m[35m (0.3ms)[0m  SHOW CREATE TABLE `directors`
  [1m[36m (0.5ms)[0m  [1mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'eshop2_test'
  AND fk.table_name = 'directors_movies'
[0m
  [1m[35m (0.3ms)[0m  SHOW CREATE TABLE `directors_movies`
  [1m[36m (0.6ms)[0m  [1mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'eshop2_test'
  AND fk.table_name = 'movies'
[0m
  [1m[35m (0.4ms)[0m  SHOW CREATE TABLE `movies`
  [1m[36m (0.6ms)[0m  [1mSELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'eshop2_test'
  AND fk.table_name = 'producers'
[0m
  [1m[35m (0.3ms)[0m  SHOW CREATE TABLE `producers`
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2018-04-30 09:51:32', '2018-04-30 09:51:32', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2018-04-30 09:51:32', '2018-04-30 09:51:32', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2018-04-30 09:51:32', '2018-04-30 09:51:32', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2018-04-30 09:51:32', '2018-04-30 09:51:32', 298486374)
  [1m[36mFixture Delete (80.3ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-30', 45.0, '2018-04-30 09:51:32', '2018-04-30 09:51:32')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-30', 65.0, '2018-04-30 09:51:32', '2018-04-30 09:51:32')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-30', 85.0, '2018-04-30 09:51:32', '2018-04-30 09:51:32')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-30', 105.0, '2018-04-30 09:51:32', '2018-04-30 09:51:32')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-30', 125.0, '2018-04-30 09:51:32', '2018-04-30 09:51:32')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-30', 145.0, '2018-04-30 09:51:32', '2018-04-30 09:51:32')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-30', 165.0, '2018-04-30 09:51:32', '2018-04-30 09:51:32')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-30', 185.0, '2018-04-30 09:51:32', '2018-04-30 09:51:32')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-30', 40.0, '2018-04-30 09:51:32', '2018-04-30 09:51:32')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-30', 40.0, '2018-04-30 09:51:32', '2018-04-30 09:51:32')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-30 09:51:32', '2018-04-30 09:51:32')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-30 09:51:32', '2018-04-30 09:51:32')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-30 09:51:32', '2018-04-30 09:51:32')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-30 09:51:32', '2018-04-30 09:51:32')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-30 09:51:32', '2018-04-30 09:51:32')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-30 09:51:32', '2018-04-30 09:51:32')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-30 09:51:32', '2018-04-30 09:51:32')
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:51:32', '2018-04-30 11:51:32', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:51:32', '2018-04-30 11:51:32', 2, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:51:32', '2018-04-30 11:51:32', 2, 3)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:51:32', '2018-04-30 11:51:32', 2, 4)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:51:32', '2018-04-30 11:51:32', 2, 5)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:51:32', '2018-04-30 11:51:32', 2, 6)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:51:32', '2018-04-30 11:51:32', 2, 7)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:51:32', '2018-04-30 11:51:32', 3, 8)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:51:32', '2018-04-30 11:51:32', 4, 9)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:51:32', '2018-04-30 11:51:32', 5, 10)[0m
  [1m[35m (43.8ms)[0m  COMMIT
  [1m[36m (0.5ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2018-04-30 11:51:33 +0200
Processing by CatalogController#index as HTML
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Directors Load (1.1ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)
  [1m[36mDirector Load (1.0ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)[0m
  [1m[35mProducer Load (1.0ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  Rendered catalog/_movies.html.erb (139.3ms)
  Rendered catalog/index.html.erb within layouts/application (148.8ms)
Completed 200 OK in 822ms (Views: 797.7ms | ActiveRecord: 5.9ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2018-04-30 11:51:33 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 5
  [1m[36mHABTM_Directors Load (1.1ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (5, 4, 3, 2, 1)[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (2, 1)
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (1)[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `movies`
  Rendered catalog/_movies.html.erb (34.6ms)
  Rendered catalog/index.html.erb within layouts/application (36.1ms)
Completed 200 OK in 41ms (Views: 35.8ms | ActiveRecord: 3.7ms)
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pro Rails E-Commerce' LIMIT 1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pride and Prejudice'  ORDER BY `movies`.`id` ASC LIMIT 1
Started GET "/catalog/show/9" for 127.0.0.1 at 2018-04-30 11:51:34 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 9 LIMIT 1[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 2 LIMIT 1[0m
  Rendered catalog/show.html.erb within layouts/application (24.2ms)
Completed 200 OK in 32ms (Views: 27.6ms | ActiveRecord: 2.2ms)
  [1m[35mDirector Load (1.1ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.6ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-30 09:51:34', '2018-04-30 09:51:34')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-30 09:51:34', '2018-04-30 09:51:34')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1[0m
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-30 11:51:34 +0200
Processing by Admin::MovieController#new as HTML
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (120.5ms)
  Rendered admin/movie/new.html.erb within layouts/application (125.3ms)
Completed 200 OK in 141ms (Views: 138.4ms | ActiveRecord: 1.1ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-30 11:51:34 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"17", "director_ids"=>["27"], "produced_at"=>"2018-04-30 11:51:34 +0200", "serial_number"=>"64214", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 27 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 17 LIMIT 1
  [1m[36mMovie Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '64214' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `price`, `length`, `created_at`, `updated_at`) VALUES ('A new Movie of Ruby', 17, '2018-04-30 09:51:34', '64214', 'A new Movie of Ruby', 45.5, 325, '2018-04-30 09:51:34', '2018-04-30 09:51:34')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (27, 39, '2018-04-30 09:51:34', '2018-04-30 09:51:34')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 43ms (ActiveRecord: 4.3ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-04-30 11:51:34 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (40.9ms)
Completed 200 OK in 52ms (Views: 48.2ms | ActiveRecord: 2.0ms)
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-30 11:51:34 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (38.0ms)
Completed 200 OK in 46ms (Views: 40.9ms | ActiveRecord: 2.2ms)
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
Started GET "/admin/movie/index/?page=3" for 127.0.0.1 at 2018-04-30 11:51:34 +0200
Processing by Admin::MovieController#index as HTML
  Parameters: {"page"=>"3"}
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 10
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 17 LIMIT 1[0m
  Rendered admin/movie/index.html.erb within layouts/application (9.7ms)
Completed 200 OK in 16ms (Views: 13.3ms | ActiveRecord: 1.4ms)
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'A new Movie of Ruby' LIMIT 1
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-30 11:51:34 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (29.5ms)
Completed 200 OK in 36ms (Views: 30.2ms | ActiveRecord: 2.3ms)
Started GET "/admin/movie/show/39" for 127.0.0.1 at 2018-04-30 11:51:34 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"39"}
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 39 LIMIT 1
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 17 LIMIT 1[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 39
  Rendered admin/movie/show.html.erb within layouts/application (11.1ms)
Completed 200 OK in 18ms (Views: 14.0ms | ActiveRecord: 2.3ms)
Started GET "/admin/movie/edit?id=39" for 127.0.0.1 at 2018-04-30 11:51:34 +0200
Processing by Admin::MovieController#edit as HTML
  Parameters: {"id"=>"39"}
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 39 LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (1.1ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 39[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (20.6ms)
  Rendered admin/movie/edit.html.erb within layouts/application (24.1ms)
Completed 200 OK in 32ms (Views: 26.9ms | ActiveRecord: 2.9ms)
Started POST "/admin/movie/update?id=39" for 127.0.0.1 at 2018-04-30 11:51:34 +0200
Processing by Admin::MovieController#update as HTML
  Parameters: {"movie"=>{"title"=>"A very new Movie of Ruby", "producer_id"=>"17", "director_ids"=>["27"], "produced_at"=>"2018-04-30 11:51:34 +0200", "serial_number"=>"43214", "blurb"=>"A very new Movie of Ruby", "length"=>"350", "price"=>"50"}, "id"=>"39"}
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 39 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 27 LIMIT 1[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 39
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 17 LIMIT 1[0m
  [1m[35mMovie Exists (1.0ms)[0m  SELECT  1 AS one FROM `movies` WHERE (`movies`.`serial_number` = BINARY '43214' AND `movies`.`id` != 39) LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE `movies` SET `title` = 'A very new Movie of Ruby', `serial_number` = '43214', `blurb` = 'A very new Movie of Ruby', `price` = 50.0, `length` = 350, `updated_at` = '2018-04-30 09:51:34' WHERE `movies`.`id` = 39[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie/show/39
Completed 302 Found in 30ms (ActiveRecord: 5.4ms)
Started GET "/admin/movie/show/39" for 127.0.0.1 at 2018-04-30 11:51:34 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"39"}
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 39 LIMIT 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 17 LIMIT 1
  [1m[36mDirector Load (1.1ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 39[0m
  Rendered admin/movie/show.html.erb within layouts/application (8.7ms)
Completed 200 OK in 16ms (Views: 10.6ms | ActiveRecord: 2.4ms)
Started POST "/admin/movie/destroy?id=39" for 127.0.0.1 at 2018-04-30 11:51:34 +0200
Processing by Admin::MovieController#destroy as HTML
  Parameters: {"id"=>"39"}
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 39 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`movie_id` = 39
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `movies` WHERE `movies`.`id` = 39[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 9ms (ActiveRecord: 2.5ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-04-30 11:51:34 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (1.0ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (24.5ms)
Completed 200 OK in 30ms (Views: 25.5ms | ActiveRecord: 2.4ms)
  [1m[35m (50.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------
MovieTest: test_create
----------------------
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.9ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-30 09:51:34', '12425', 'A great movie', 375, 45.5, '2018-04-30 09:51:34', '2018-04-30 09:51:34')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 40, '2018-04-30 09:51:34', '2018-04-30 09:51:34')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 40, '2018-04-30 09:51:34', '2018-04-30 09:51:34')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 40, '2018-04-30 09:51:34', '2018-04-30 09:51:34')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 40, '2018-04-30 09:51:34', '2018-04-30 09:51:34')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 40, '2018-04-30 09:51:34', '2018-04-30 09:51:34')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (40.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-30 09:51:34', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-30 09:51:34', '2018-04-30 09:51:34')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 41, '2018-04-30 09:51:34', '2018-04-30 09:51:34')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 41, '2018-04-30 09:51:34', '2018-04-30 09:51:34')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 41 LIMIT 1
  [1m[36m (1.1ms)[0m  [1mSELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 41[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36m (1.1ms)[0m  [1mSELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35m (43.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[35mProducer Load (0.9ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-30 09:51:35', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-30 09:51:35', '2018-04-30 09:51:35')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 42, '2018-04-30 09:51:35', '2018-04-30 09:51:35')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 42, '2018-04-30 09:51:35', '2018-04-30 09:51:35')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 42 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (37.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-30 09:51:35' WHERE `directors`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 12ms (ActiveRecord: 2.3ms)
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (42.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (1.8ms)
  Rendered admin/director/new.html.erb within layouts/application (5.6ms)
Completed 200 OK in 20ms (Views: 19.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-30 09:51:35', '2018-04-30 09:51:35')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 9ms (Views: 19.0ms | ActiveRecord: 1.2ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (45.6ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/director/_form.html.erb (3.9ms)
  Rendered admin/director/new.html.erb within layouts/application (5.3ms)
Completed 200 OK in 14ms (Views: 8.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (7.6ms)
  Rendered admin/director/index.html.erb within layouts/application (11.8ms)
Completed 200 OK in 16ms (Views: 14.8ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.8ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `directors` WHERE `directors`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 10ms (ActiveRecord: 2.7ms)
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (7.0ms)
  Rendered admin/director/index.html.erb within layouts/application (9.9ms)
Completed 200 OK in 14ms (Views: 12.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (38.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (1.2ms)
  Rendered admin/director/new.html.erb within layouts/application (3.7ms)
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (1.1ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 9ms (Views: 6.6ms | ActiveRecord: 1.1ms)
  [1m[35mDirector Load (0.8ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/_form.html.erb (0.9ms)
  Rendered admin/director/edit.html.erb within layouts/application (4.8ms)
Completed 200 OK in 11ms (Views: 8.6ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 11ms (Views: 11.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/_form.html.erb (1.2ms)
  Rendered admin/producer/edit.html.erb within layouts/application (5.1ms)
Completed 200 OK in 17ms (Views: 14.8ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (4.0ms)
  Rendered admin/producer/index.html.erb within layouts/application (9.4ms)
Completed 200 OK in 14ms (Views: 12.9ms | ActiveRecord: 0.8ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (0.4ms)
  Rendered admin/producer/new.html.erb within layouts/application (2.9ms)
Completed 200 OK in 7ms (Views: 6.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.7ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-30 09:51:35' WHERE `producers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 10ms (ActiveRecord: 2.3ms)
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (47.8ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.6ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-30 09:51:35', '2018-04-30 09:51:35')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 8ms (ActiveRecord: 1.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (46.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.5ms)[0m  [1mDELETE FROM `producers` WHERE `producers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 7ms (ActiveRecord: 2.6ms)
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (1.0ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (3.3ms)
  Rendered admin/producer/index.html.erb within layouts/application (6.7ms)
Completed 200 OK in 11ms (Views: 9.8ms | ActiveRecord: 1.0ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (42.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/show.html.erb within layouts/application (2.9ms)
Completed 200 OK in 10ms (Views: 7.6ms | ActiveRecord: 0.8ms)
  [1m[35mProducer Exists (0.8ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-30 09:51:35', '2018-04-30 09:51:35')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (47.4ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2018-04-30 09:51:57', '2018-04-30 09:51:57', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2018-04-30 09:51:57', '2018-04-30 09:51:57', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2018-04-30 09:51:57', '2018-04-30 09:51:57', 980190962)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2018-04-30 09:51:57', '2018-04-30 09:51:57', 298486374)
  [1m[36mFixture Delete (91.0ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-30', 45.0, '2018-04-30 09:51:57', '2018-04-30 09:51:57')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-30', 65.0, '2018-04-30 09:51:57', '2018-04-30 09:51:57')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-30', 85.0, '2018-04-30 09:51:57', '2018-04-30 09:51:57')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-30', 105.0, '2018-04-30 09:51:57', '2018-04-30 09:51:57')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-30', 125.0, '2018-04-30 09:51:57', '2018-04-30 09:51:57')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-30', 145.0, '2018-04-30 09:51:57', '2018-04-30 09:51:57')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-30', 165.0, '2018-04-30 09:51:57', '2018-04-30 09:51:57')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-30', 185.0, '2018-04-30 09:51:57', '2018-04-30 09:51:57')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-30', 40.0, '2018-04-30 09:51:57', '2018-04-30 09:51:57')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-30', 40.0, '2018-04-30 09:51:57', '2018-04-30 09:51:57')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-30 09:51:58', '2018-04-30 09:51:58')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-30 09:51:58', '2018-04-30 09:51:58')
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-30 09:51:58', '2018-04-30 09:51:58')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-30 09:51:58', '2018-04-30 09:51:58')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-30 09:51:58', '2018-04-30 09:51:58')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-30 09:51:58', '2018-04-30 09:51:58')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-30 09:51:58', '2018-04-30 09:51:58')
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:51:57', '2018-04-30 11:51:57', 1, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:51:57', '2018-04-30 11:51:57', 2, 2)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:51:57', '2018-04-30 11:51:57', 2, 3)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:51:57', '2018-04-30 11:51:57', 2, 4)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:51:57', '2018-04-30 11:51:57', 2, 5)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:51:57', '2018-04-30 11:51:57', 2, 6)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:51:57', '2018-04-30 11:51:57', 2, 7)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:51:57', '2018-04-30 11:51:57', 3, 8)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:51:57', '2018-04-30 11:51:57', 4, 9)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:51:57', '2018-04-30 11:51:57', 5, 10)[0m
  [1m[35m (45.0ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 629ms (Views: 628.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.9ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-30 09:51:58', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-30 09:51:59', '2018-04-30 09:51:59')[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 43, '2018-04-30 09:51:59', '2018-04-30 09:51:59')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 43, '2018-04-30 09:51:59', '2018-04-30 09:51:59')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 43 LIMIT 1[0m
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 43
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1
  [1m[36m (38.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------
MovieTest: test_create
----------------------
  [1m[36mProducer Load (0.9ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT `directors`.* FROM `directors`
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-30 09:51:59', '12425', 'A great movie', 375, 45.5, '2018-04-30 09:51:59', '2018-04-30 09:51:59')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 44, '2018-04-30 09:51:59', '2018-04-30 09:51:59')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 44, '2018-04-30 09:51:59', '2018-04-30 09:51:59')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 44, '2018-04-30 09:51:59', '2018-04-30 09:51:59')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 44, '2018-04-30 09:51:59', '2018-04-30 09:51:59')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 44, '2018-04-30 09:51:59', '2018-04-30 09:51:59')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (45.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.3ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-30 09:51:59', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-30 09:51:59', '2018-04-30 09:51:59')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 45, '2018-04-30 09:51:59', '2018-04-30 09:51:59')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 45, '2018-04-30 09:51:59', '2018-04-30 09:51:59')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 45 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (49.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (12.0ms)
  Rendered admin/director/new.html.erb within layouts/application (20.0ms)
Completed 200 OK in 31ms (Views: 30.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-30 09:51:59', '2018-04-30 09:51:59')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 7ms (Views: 30.4ms | ActiveRecord: 0.9ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (47.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (1.0ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/_form.html.erb (0.6ms)
  Rendered admin/director/edit.html.erb within layouts/application (4.1ms)
Completed 200 OK in 13ms (Views: 8.4ms | ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/show.html.erb within layouts/application (1.9ms)
Completed 200 OK in 7ms (Views: 5.4ms | ActiveRecord: 0.6ms)
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/director/_form.html.erb (4.2ms)
  Rendered admin/director/new.html.erb within layouts/application (5.6ms)
Completed 200 OK in 59ms (Views: 8.4ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.5ms)
  Rendered admin/director/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 5ms (Views: 4.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `directors` WHERE `directors`.`id` = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 7ms (ActiveRecord: 1.8ms)
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (6.5ms)
  Rendered admin/director/index.html.erb within layouts/application (10.9ms)
Completed 200 OK in 15ms (Views: 13.6ms | ActiveRecord: 0.6ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (43.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.9ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (6.7ms)
  Rendered admin/director/index.html.erb within layouts/application (10.8ms)
Completed 200 OK in 15ms (Views: 13.1ms | ActiveRecord: 0.9ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-30 09:51:59' WHERE `directors`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 9ms (ActiveRecord: 1.6ms)
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (42.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2018-04-30 11:51:59 +0200
Processing by CatalogController#index as HTML
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Directors Load (0.7ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  Rendered catalog/_movies.html.erb (38.9ms)
  Rendered catalog/index.html.erb within layouts/application (41.4ms)
Completed 200 OK in 68ms (Views: 48.4ms | ActiveRecord: 3.2ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2018-04-30 11:51:59 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 5
  [1m[36mHABTM_Directors Load (0.8ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (5, 4, 3, 2, 1)[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (2, 1)
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (1)[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `movies`
  Rendered catalog/_movies.html.erb (27.6ms)
  Rendered catalog/index.html.erb within layouts/application (28.7ms)
Completed 200 OK in 33ms (Views: 28.3ms | ActiveRecord: 3.4ms)
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pro Rails E-Commerce' LIMIT 1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pride and Prejudice'  ORDER BY `movies`.`id` ASC LIMIT 1
Started GET "/catalog/show/9" for 127.0.0.1 at 2018-04-30 11:51:59 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 9 LIMIT 1[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 2 LIMIT 1[0m
  Rendered catalog/show.html.erb within layouts/application (8.8ms)
Completed 200 OK in 15ms (Views: 10.8ms | ActiveRecord: 2.4ms)
  [1m[35mDirector Load (1.1ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9
Started GET "/catalog/latest" for 127.0.0.1 at 2018-04-30 11:51:59 +0200
Processing by CatalogController#latest as HTML
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5[0m
  [1m[35mHABTM_Directors Load (0.9ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)
  [1m[36mDirector Load (1.0ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)[0m
  [1m[35mProducer Load (0.9ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)
  Rendered catalog/_movies.html.erb (32.4ms)
  Rendered catalog/latest.html.erb within layouts/application (33.4ms)
Completed 200 OK in 38ms (Views: 33.7ms | ActiveRecord: 3.6ms)
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5[0m
  [1m[35mHABTM_Directors Load (0.7ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.5ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-30 09:52:00', '2018-04-30 09:52:00')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-30 09:52:00', '2018-04-30 09:52:00')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1[0m
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-30 11:52:00 +0200
Processing by Admin::MovieController#new as HTML
  [1m[35mProducer Load (0.5ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (27.9ms)
  Rendered admin/movie/new.html.erb within layouts/application (31.5ms)
Completed 200 OK in 45ms (Views: 42.2ms | ActiveRecord: 1.1ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-30 11:52:00 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"19", "director_ids"=>["31"], "produced_at"=>"2018-04-30 11:52:00 +0200", "serial_number"=>"64214", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[35mDirector Load (0.8ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 31 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 19 LIMIT 1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '64214' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `price`, `length`, `created_at`, `updated_at`) VALUES ('A new Movie of Ruby', 19, '2018-04-30 09:52:00', '64214', 'A new Movie of Ruby', 45.5, 325, '2018-04-30 09:52:00', '2018-04-30 09:52:00')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (31, 46, '2018-04-30 09:52:00', '2018-04-30 09:52:00')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 31ms (ActiveRecord: 4.0ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-04-30 11:52:00 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (21.5ms)
Completed 200 OK in 27ms (Views: 23.6ms | ActiveRecord: 2.0ms)
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-30 11:52:00 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (19.7ms)
Completed 200 OK in 25ms (Views: 21.0ms | ActiveRecord: 2.2ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
Started GET "/admin/movie/index/?page=3" for 127.0.0.1 at 2018-04-30 11:52:00 +0200
Processing by Admin::MovieController#index as HTML
  Parameters: {"page"=>"3"}
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 10
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 19 LIMIT 1[0m
  Rendered admin/movie/index.html.erb within layouts/application (6.9ms)
Completed 200 OK in 11ms (Views: 8.7ms | ActiveRecord: 1.4ms)
  [1m[35mMovie Load (1.0ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'A new Movie of Ruby' LIMIT 1
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-30 11:52:00 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (20.3ms)
Completed 200 OK in 25ms (Views: 21.1ms | ActiveRecord: 2.5ms)
Started GET "/admin/movie/show/46" for 127.0.0.1 at 2018-04-30 11:52:00 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"46"}
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 46 LIMIT 1
  [1m[36mProducer Load (0.9ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 19 LIMIT 1[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 46
  Rendered admin/movie/show.html.erb within layouts/application (10.3ms)
Completed 200 OK in 17ms (Views: 12.7ms | ActiveRecord: 2.6ms)
Started GET "/admin/movie/edit?id=46" for 127.0.0.1 at 2018-04-30 11:52:00 +0200
Processing by Admin::MovieController#edit as HTML
  Parameters: {"id"=>"46"}
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 46 LIMIT 1[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (1.1ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 46[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (19.1ms)
  Rendered admin/movie/edit.html.erb within layouts/application (22.6ms)
Completed 200 OK in 30ms (Views: 24.5ms | ActiveRecord: 3.2ms)
Started POST "/admin/movie/update?id=46" for 127.0.0.1 at 2018-04-30 11:52:00 +0200
Processing by Admin::MovieController#update as HTML
  Parameters: {"movie"=>{"title"=>"A very new Movie of Ruby", "producer_id"=>"19", "director_ids"=>["31"], "produced_at"=>"2018-04-30 11:52:00 +0200", "serial_number"=>"43214", "blurb"=>"A very new Movie of Ruby", "length"=>"350", "price"=>"50"}, "id"=>"46"}
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 46 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 31 LIMIT 1[0m
  [1m[35mDirector Load (1.0ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 46
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 19 LIMIT 1[0m
  [1m[35mMovie Exists (1.0ms)[0m  SELECT  1 AS one FROM `movies` WHERE (`movies`.`serial_number` = BINARY '43214' AND `movies`.`id` != 46) LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `movies` SET `title` = 'A very new Movie of Ruby', `serial_number` = '43214', `blurb` = 'A very new Movie of Ruby', `price` = 50.0, `length` = 350, `updated_at` = '2018-04-30 09:52:00' WHERE `movies`.`id` = 46[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie/show/46
Completed 302 Found in 27ms (ActiveRecord: 5.5ms)
Started GET "/admin/movie/show/46" for 127.0.0.1 at 2018-04-30 11:52:00 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"46"}
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 46 LIMIT 1[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 19 LIMIT 1
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 46[0m
  Rendered admin/movie/show.html.erb within layouts/application (9.5ms)
Completed 200 OK in 17ms (Views: 11.8ms | ActiveRecord: 2.4ms)
Started POST "/admin/movie/destroy?id=46" for 127.0.0.1 at 2018-04-30 11:52:00 +0200
Processing by Admin::MovieController#destroy as HTML
  Parameters: {"id"=>"46"}
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 46 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`movie_id` = 46
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `movies` WHERE `movies`.`id` = 46[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 8ms (ActiveRecord: 2.2ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-04-30 11:52:00 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (22.0ms)
Completed 200 OK in 27ms (Views: 23.5ms | ActiveRecord: 2.0ms)
  [1m[35m (46.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-30 09:52:00', '2018-04-30 09:52:00')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (42.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/_form.html.erb (1.7ms)
  Rendered admin/producer/edit.html.erb within layouts/application (6.1ms)
Completed 200 OK in 19ms (Views: 16.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (5.5ms)
  Rendered admin/producer/index.html.erb within layouts/application (10.8ms)
Completed 200 OK in 16ms (Views: 14.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-30 09:52:00', '2018-04-30 09:52:00')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 9ms (ActiveRecord: 1.5ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (42.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/show.html.erb within layouts/application (3.0ms)
Completed 200 OK in 11ms (Views: 8.7ms | ActiveRecord: 0.7ms)
  [1m[35mProducer Exists (0.8ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (0.5ms)
  Rendered admin/producer/new.html.erb within layouts/application (3.8ms)
Completed 200 OK in 9ms (Views: 8.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.4ms)[0m  [1mDELETE FROM `producers` WHERE `producers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 6ms (ActiveRecord: 2.3ms)
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (2.3ms)
  Rendered admin/producer/index.html.erb within layouts/application (4.8ms)
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (44.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-30 09:52:00' WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 11ms (ActiveRecord: 2.6ms)
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (48.5ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.3ms)[0m  [1mDELETE FROM `carts`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2018-04-30 09:53:17', '2018-04-30 09:53:17', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`, `id`) VALUES ('2018-04-30 09:53:17', '2018-04-30 09:53:17', 298486374)[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `cart_items`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2018-04-30 09:53:17', '2018-04-30 09:53:17', 980190962)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `cart_items` (`created_at`, `updated_at`, `id`) VALUES ('2018-04-30 09:53:17', '2018-04-30 09:53:17', 298486374)
  [1m[36mFixture Delete (75.3ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.9ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-30', 45.0, '2018-04-30 09:53:17', '2018-04-30 09:53:17')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-30', 65.0, '2018-04-30 09:53:17', '2018-04-30 09:53:17')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-30', 85.0, '2018-04-30 09:53:17', '2018-04-30 09:53:17')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-30', 105.0, '2018-04-30 09:53:17', '2018-04-30 09:53:17')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-30', 125.0, '2018-04-30 09:53:17', '2018-04-30 09:53:17')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-30', 145.0, '2018-04-30 09:53:17', '2018-04-30 09:53:17')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-30', 165.0, '2018-04-30 09:53:17', '2018-04-30 09:53:17')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-30', 185.0, '2018-04-30 09:53:17', '2018-04-30 09:53:17')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-30', 40.0, '2018-04-30 09:53:17', '2018-04-30 09:53:17')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-30', 40.0, '2018-04-30 09:53:17', '2018-04-30 09:53:17')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-30 09:53:18', '2018-04-30 09:53:18')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-30 09:53:18', '2018-04-30 09:53:18')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (1.0ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-30 09:53:18', '2018-04-30 09:53:18')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-30 09:53:18', '2018-04-30 09:53:18')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-30 09:53:18', '2018-04-30 09:53:18')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-30 09:53:18', '2018-04-30 09:53:18')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-30 09:53:18', '2018-04-30 09:53:18')
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:53:17', '2018-04-30 11:53:17', 1, 1)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:53:17', '2018-04-30 11:53:17', 2, 2)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:53:17', '2018-04-30 11:53:17', 2, 3)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:53:17', '2018-04-30 11:53:17', 2, 4)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:53:17', '2018-04-30 11:53:17', 2, 5)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:53:17', '2018-04-30 11:53:17', 2, 6)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:53:17', '2018-04-30 11:53:17', 2, 7)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:53:17', '2018-04-30 11:53:17', 3, 8)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:53:17', '2018-04-30 11:53:17', 4, 9)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 11:53:17', '2018-04-30 11:53:17', 5, 10)[0m
  [1m[35m (44.9ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (8.9ms)
  Rendered admin/director/index.html.erb within layouts/application (28.2ms)
Completed 200 OK in 634ms (Views: 632.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (79.9ms)
  Rendered admin/director/new.html.erb within layouts/application (83.8ms)
Completed 200 OK in 89ms (Views: 88.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-30 09:53:19' WHERE `directors`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 22ms (ActiveRecord: 1.8ms)
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (42.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/director/_form.html.erb (5.1ms)
  Rendered admin/director/new.html.erb within layouts/application (6.9ms)
Completed 200 OK in 40ms (Views: 10.4ms | ActiveRecord: 0.7ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.8ms)
  Rendered admin/director/new.html.erb within layouts/application (2.7ms)
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-30 09:53:19', '2018-04-30 09:53:19')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 7ms (Views: 6.6ms | ActiveRecord: 0.9ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (43.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (1.0ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/_form.html.erb (0.7ms)
  Rendered admin/director/edit.html.erb within layouts/application (5.0ms)
Completed 200 OK in 14ms (Views: 11.0ms | ActiveRecord: 1.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/show.html.erb within layouts/application (3.9ms)
Completed 200 OK in 13ms (Views: 11.0ms | ActiveRecord: 0.6ms)
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `directors` WHERE `directors`.`id` = 1
  [1m[36m (1.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 78ms (ActiveRecord: 5.1ms)
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.5ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (11.4ms)
  Rendered admin/director/index.html.erb within layouts/application (14.0ms)
Completed 200 OK in 21ms (Views: 19.7ms | ActiveRecord: 0.5ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (45.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.6ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-30 09:53:19', '2018-04-30 09:53:19')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 44ms (ActiveRecord: 1.6ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (42.9ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (4.0ms)
  Rendered admin/producer/new.html.erb within layouts/application (10.1ms)
Completed 200 OK in 31ms (Views: 30.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/show.html.erb within layouts/application (3.8ms)
Completed 200 OK in 19ms (Views: 12.1ms | ActiveRecord: 0.8ms)
  [1m[36mProducer Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mProducer Load (1.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-30 09:53:19' WHERE `producers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 13ms (ActiveRecord: 2.7ms)
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (145.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (85.0ms)[0m  DELETE FROM `producers` WHERE `producers`.`id` = 1
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 92ms (ActiveRecord: 86.1ms)
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.5ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (6.6ms)
  Rendered admin/producer/index.html.erb within layouts/application (13.3ms)
Completed 200 OK in 22ms (Views: 20.4ms | ActiveRecord: 0.5ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (41.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/_form.html.erb (0.6ms)
  Rendered admin/producer/edit.html.erb within layouts/application (7.4ms)
Completed 200 OK in 17ms (Views: 14.5ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (6.6ms)
  Rendered admin/producer/index.html.erb within layouts/application (10.9ms)
Completed 200 OK in 17ms (Views: 16.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36mProducer Load (0.9ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-30 09:53:20', '2018-04-30 09:53:20')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-30 09:53:20', '2018-04-30 09:53:20')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-30 11:53:20 +0200
Processing by Admin::MovieController#new as HTML
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (37.5ms)
  Rendered admin/movie/new.html.erb within layouts/application (41.3ms)
Completed 200 OK in 88ms (Views: 51.7ms | ActiveRecord: 1.2ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-30 11:53:20 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"22", "director_ids"=>["34"], "produced_at"=>"2018-04-30 11:53:20 +0200", "serial_number"=>"64214", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 34 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 22 LIMIT 1[0m
  [1m[35mMovie Exists (0.9ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '64214' LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `price`, `length`, `created_at`, `updated_at`) VALUES ('A new Movie of Ruby', 22, '2018-04-30 09:53:20', '64214', 'A new Movie of Ruby', 45.5, 325, '2018-04-30 09:53:20', '2018-04-30 09:53:20')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (34, 47, '2018-04-30 09:53:20', '2018-04-30 09:53:20')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 50ms (ActiveRecord: 5.1ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-04-30 11:53:20 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (24.1ms)
Completed 200 OK in 30ms (Views: 26.1ms | ActiveRecord: 2.1ms)
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-30 11:53:20 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (20.8ms)
Completed 200 OK in 25ms (Views: 21.9ms | ActiveRecord: 2.1ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `movies`
Started GET "/admin/movie/index/?page=3" for 127.0.0.1 at 2018-04-30 11:53:20 +0200
Processing by Admin::MovieController#index as HTML
  Parameters: {"page"=>"3"}
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 10[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 22 LIMIT 1
  Rendered admin/movie/index.html.erb within layouts/application (6.9ms)
Completed 200 OK in 11ms (Views: 8.2ms | ActiveRecord: 1.4ms)
  [1m[36mMovie Load (1.0ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'A new Movie of Ruby' LIMIT 1[0m
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-30 11:53:20 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (20.5ms)
Completed 200 OK in 25ms (Views: 21.2ms | ActiveRecord: 2.1ms)
Started GET "/admin/movie/show/47" for 127.0.0.1 at 2018-04-30 11:53:20 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"47"}
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 47 LIMIT 1[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 22 LIMIT 1
  [1m[36mDirector Load (1.1ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 47[0m
  Rendered admin/movie/show.html.erb within layouts/application (13.0ms)
Completed 200 OK in 21ms (Views: 15.5ms | ActiveRecord: 2.4ms)
Started GET "/admin/movie/edit?id=47" for 127.0.0.1 at 2018-04-30 11:53:20 +0200
Processing by Admin::MovieController#edit as HTML
  Parameters: {"id"=>"47"}
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 47 LIMIT 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (1.1ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 47
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (18.8ms)
  Rendered admin/movie/edit.html.erb within layouts/application (22.2ms)
Completed 200 OK in 30ms (Views: 24.5ms | ActiveRecord: 3.1ms)
Started POST "/admin/movie/update?id=47" for 127.0.0.1 at 2018-04-30 11:53:20 +0200
Processing by Admin::MovieController#update as HTML
  Parameters: {"movie"=>{"title"=>"A very new Movie of Ruby", "producer_id"=>"22", "director_ids"=>["34"], "produced_at"=>"2018-04-30 11:53:20 +0200", "serial_number"=>"43214", "blurb"=>"A very new Movie of Ruby", "length"=>"350", "price"=>"50"}, "id"=>"47"}
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 47 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 34 LIMIT 1
  [1m[36mDirector Load (1.1ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 47[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 22 LIMIT 1
  [1m[36mMovie Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE (`movies`.`serial_number` = BINARY '43214' AND `movies`.`id` != 47) LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `movies` SET `title` = 'A very new Movie of Ruby', `serial_number` = '43214', `blurb` = 'A very new Movie of Ruby', `price` = 50.0, `length` = 350, `updated_at` = '2018-04-30 09:53:20' WHERE `movies`.`id` = 47
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/movie/show/47
Completed 302 Found in 25ms (ActiveRecord: 5.7ms)
Started GET "/admin/movie/show/47" for 127.0.0.1 at 2018-04-30 11:53:20 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"47"}
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 47 LIMIT 1
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 22 LIMIT 1[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 47
  Rendered admin/movie/show.html.erb within layouts/application (8.0ms)
Completed 200 OK in 14ms (Views: 9.7ms | ActiveRecord: 2.2ms)
Started POST "/admin/movie/destroy?id=47" for 127.0.0.1 at 2018-04-30 11:53:20 +0200
Processing by Admin::MovieController#destroy as HTML
  Parameters: {"id"=>"47"}
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 47 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `directors_movies` WHERE `directors_movies`.`movie_id` = 47[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `movies` WHERE `movies`.`id` = 47
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 9ms (ActiveRecord: 2.3ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-04-30 11:53:20 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (22.7ms)
Completed 200 OK in 27ms (Views: 23.8ms | ActiveRecord: 2.1ms)
  [1m[36m (130.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 13ms (Views: 12.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2018-04-30 11:53:20 +0200
Processing by CatalogController#index as HTML
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Directors Load (0.8ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  Rendered catalog/_movies.html.erb (45.8ms)
  Rendered catalog/index.html.erb within layouts/application (48.9ms)
Completed 200 OK in 63ms (Views: 57.8ms | ActiveRecord: 3.3ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2018-04-30 11:53:20 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 5
  [1m[36mHABTM_Directors Load (0.8ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (5, 4, 3, 2, 1)[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (2, 1)
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (1)[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `movies`
  Rendered catalog/_movies.html.erb (30.1ms)
  Rendered catalog/index.html.erb within layouts/application (31.5ms)
Completed 200 OK in 36ms (Views: 31.2ms | ActiveRecord: 3.7ms)
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pro Rails E-Commerce' LIMIT 1[0m
  [1m[35mMovie Load (1.0ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pride and Prejudice'  ORDER BY `movies`.`id` ASC LIMIT 1
Started GET "/catalog/show/9" for 127.0.0.1 at 2018-04-30 11:53:20 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 9 LIMIT 1[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 2 LIMIT 1[0m
  Rendered catalog/show.html.erb within layouts/application (8.4ms)
Completed 200 OK in 15ms (Views: 11.2ms | ActiveRecord: 2.1ms)
  [1m[35mDirector Load (1.0ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9
Started GET "/catalog/latest" for 127.0.0.1 at 2018-04-30 11:53:20 +0200
Processing by CatalogController#latest as HTML
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5[0m
  [1m[35mHABTM_Directors Load (0.9ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)
  Rendered catalog/_movies.html.erb (29.3ms)
  Rendered catalog/latest.html.erb within layouts/application (30.4ms)
Completed 200 OK in 35ms (Views: 30.9ms | ActiveRecord: 3.5ms)
  [1m[36mMovie Load (1.0ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5[0m
  [1m[35mHABTM_Directors Load (0.8ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)
  [1m[36mDirector Load (1.0ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-30 09:53:21', '2018-04-30 09:53:21')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (78.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-30 09:53:21', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-30 09:53:21', '2018-04-30 09:53:21')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 48, '2018-04-30 09:53:21', '2018-04-30 09:53:21')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 48, '2018-04-30 09:53:21', '2018-04-30 09:53:21')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 48 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (40.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------
MovieTest: test_create
----------------------
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT `directors`.* FROM `directors`
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-30 09:53:21', '12425', 'A great movie', 375, 45.5, '2018-04-30 09:53:21', '2018-04-30 09:53:21')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 49, '2018-04-30 09:53:21', '2018-04-30 09:53:21')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 49, '2018-04-30 09:53:21', '2018-04-30 09:53:21')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 49, '2018-04-30 09:53:21', '2018-04-30 09:53:21')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 49, '2018-04-30 09:53:21', '2018-04-30 09:53:21')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 49, '2018-04-30 09:53:21', '2018-04-30 09:53:21')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (51.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.7ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-30 09:53:21', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-30 09:53:21', '2018-04-30 09:53:21')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 50, '2018-04-30 09:53:21', '2018-04-30 09:53:21')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 50, '2018-04-30 09:53:21', '2018-04-30 09:53:21')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 50 LIMIT 1[0m
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 50
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1
  [1m[36m (45.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (85.0ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-30', 45.0, '2018-04-30 11:21:19', '2018-04-30 11:21:19')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-30', 65.0, '2018-04-30 11:21:19', '2018-04-30 11:21:19')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-30', 85.0, '2018-04-30 11:21:19', '2018-04-30 11:21:19')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-30', 105.0, '2018-04-30 11:21:19', '2018-04-30 11:21:19')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-30', 125.0, '2018-04-30 11:21:19', '2018-04-30 11:21:19')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-30', 145.0, '2018-04-30 11:21:19', '2018-04-30 11:21:19')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-30', 165.0, '2018-04-30 11:21:19', '2018-04-30 11:21:19')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-30', 185.0, '2018-04-30 11:21:19', '2018-04-30 11:21:19')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-30', 40.0, '2018-04-30 11:21:19', '2018-04-30 11:21:19')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-30', 40.0, '2018-04-30 11:21:19', '2018-04-30 11:21:19')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-30 11:21:19', '2018-04-30 11:21:19')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-30 11:21:19', '2018-04-30 11:21:19')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-30 11:21:19', '2018-04-30 11:21:19')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-30 11:21:19', '2018-04-30 11:21:19')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-30 11:21:19', '2018-04-30 11:21:19')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-30 11:21:19', '2018-04-30 11:21:19')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-30 11:21:19', '2018-04-30 11:21:19')
  [1m[36mFixture Delete (84.2ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:21:19', '2018-04-30 13:21:19', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:21:19', '2018-04-30 13:21:19', 2, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:21:19', '2018-04-30 13:21:19', 2, 3)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:21:19', '2018-04-30 13:21:19', 2, 4)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:21:19', '2018-04-30 13:21:19', 2, 5)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:21:19', '2018-04-30 13:21:19', 2, 6)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:21:19', '2018-04-30 13:21:19', 2, 7)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:21:19', '2018-04-30 13:21:19', 3, 8)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:21:19', '2018-04-30 13:21:19', 4, 9)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:21:19', '2018-04-30 13:21:19', 5, 10)[0m
  [1m[35m (41.7ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------
MovieTest: test_create
----------------------
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors`
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-30 11:21:19', '12425', 'A great movie', 375, 45.5, '2018-04-30 11:21:19', '2018-04-30 11:21:19')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 51, '2018-04-30 11:21:19', '2018-04-30 11:21:19')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 51, '2018-04-30 11:21:19', '2018-04-30 11:21:19')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 51, '2018-04-30 11:21:19', '2018-04-30 11:21:19')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 51, '2018-04-30 11:21:19', '2018-04-30 11:21:19')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 51, '2018-04-30 11:21:19', '2018-04-30 11:21:19')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (35.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-30 11:21:19', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-30 11:21:19', '2018-04-30 11:21:19')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 52, '2018-04-30 11:21:19', '2018-04-30 11:21:19')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 52, '2018-04-30 11:21:19', '2018-04-30 11:21:19')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 52 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (37.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35mProducer Load (0.3ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (1.3ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (1.2ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1[0m
  [1m[35mSQL (1.1ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-30 11:21:19', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-30 11:21:19', '2018-04-30 11:21:19')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 53, '2018-04-30 11:21:19', '2018-04-30 11:21:19')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 53, '2018-04-30 11:21:19', '2018-04-30 11:21:19')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 53 LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 53[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35m (39.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2018-04-30 13:21:19 +0200
Processing by CatalogController#index as HTML
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:21:19', '2018-04-30 11:21:19')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Directors Load (0.8ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  Rendered catalog/_movies.html.erb (47.3ms)
  Rendered catalog/index.html.erb within layouts/application (56.4ms)
  [1m[35mCartItem Load (0.8ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190963
  Rendered cart/_cart.html.erb (13.0ms)
Completed 200 OK in 640ms (Views: 599.0ms | ActiveRecord: 8.1ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2018-04-30 13:21:20 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mCart Load (0.9ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190963 LIMIT 1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 5
  [1m[36mHABTM_Directors Load (0.9ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (5, 4, 3, 2, 1)[0m
  [1m[35mDirector Load (1.4ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (2, 1)
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (1)[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies`
  Rendered catalog/_movies.html.erb (34.3ms)
  Rendered catalog/index.html.erb within layouts/application (35.8ms)
  [1m[36mCartItem Load (0.7ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190963[0m
  Rendered cart/_cart.html.erb (2.8ms)
Completed 200 OK in 47ms (Views: 37.7ms | ActiveRecord: 6.2ms)
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pro Rails E-Commerce' LIMIT 1
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pride and Prejudice'  ORDER BY `movies`.`id` ASC LIMIT 1[0m
Started GET "/catalog/show/9" for 127.0.0.1 at 2018-04-30 13:21:20 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[35mMovie Load (1.0ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 9 LIMIT 1
  [1m[36mDirector Load (1.1ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 2 LIMIT 1
  Rendered catalog/show.html.erb within layouts/application (9.3ms)
Completed 200 OK in 17ms (Views: 11.3ms | ActiveRecord: 2.7ms)
  [1m[36mDirector Load (1.0ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9[0m
Started GET "/catalog/latest" for 127.0.0.1 at 2018-04-30 13:21:20 +0200
Processing by CatalogController#latest as HTML
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190963 LIMIT 1
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5[0m
  [1m[35mHABTM_Directors Load (1.0ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)
  Rendered catalog/_movies.html.erb (30.9ms)
  Rendered catalog/latest.html.erb within layouts/application (32.1ms)
  [1m[36mCartItem Load (0.6ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190963[0m
  Rendered cart/_cart.html.erb (3.0ms)
Completed 200 OK in 43ms (Views: 35.7ms | ActiveRecord: 4.6ms)
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5
  [1m[36mHABTM_Directors Load (0.7ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)[0m
  [1m[35m (44.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `cart_items`
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:21:20', '2018-04-30 11:21:20')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.5ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190964 AND `cart_items`.`movie_id` = 4
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190964, '2018-04-30 11:21:20', '2018-04-30 11:21:20')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 122ms (ActiveRecord: 82.6ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190964 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190964[0m
  [1m[35m (39.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:21:20', '2018-04-30 11:21:20')[0m
  [1m[35m (1.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190965 AND `cart_items`.`movie_id` = 4[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190965, '2018-04-30 11:21:20', '2018-04-30 11:21:20')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 27ms (ActiveRecord: 6.1ms)
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.7ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190965 LIMIT 1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190965
Processing by CartController#clear as HTML
  [1m[36mCart Load (0.7ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190965 LIMIT 1[0m
  [1m[35mCartItem Load (0.7ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190965
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190964
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 9ms (ActiveRecord: 2.4ms)
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190965 LIMIT 1
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190965[0m
  [1m[35m (96.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:21:21', '2018-04-30 11:21:21')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190966 AND `cart_items`.`movie_id` = 4[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190966, '2018-04-30 11:21:21', '2018-04-30 11:21:21')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 23ms (ActiveRecord: 4.8ms)
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.7ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190966 LIMIT 1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190966
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.8ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190966 LIMIT 1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mCartItem Load (0.8ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190966 AND `cart_items`.`movie_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1[0m
  [1m[35mCartItem Load (0.7ms)[0m  SELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 980190965 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190965
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 17ms (ActiveRecord: 4.6ms)
  [1m[36mCart Load (0.7ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190966 LIMIT 1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190966
  [1m[36m (38.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 13ms (Views: 12.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/show.html.erb within layouts/application (2.0ms)
Completed 200 OK in 15ms (Views: 12.9ms | ActiveRecord: 0.6ms)
  [1m[35mProducer Exists (0.8ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.9ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-30 11:21:21' WHERE `producers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 16ms (ActiveRecord: 3.0ms)
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (39.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.7ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (4.7ms)
  Rendered admin/producer/index.html.erb within layouts/application (10.4ms)
Completed 200 OK in 17ms (Views: 15.1ms | ActiveRecord: 0.7ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (15.5ms)
  Rendered admin/producer/new.html.erb within layouts/application (20.5ms)
Completed 200 OK in 28ms (Views: 26.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  DELETE FROM `producers` WHERE `producers`.`id` = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 6ms (ActiveRecord: 2.0ms)
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (2.3ms)
  Rendered admin/producer/index.html.erb within layouts/application (4.9ms)
Completed 200 OK in 9ms (Views: 7.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (40.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.6ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-30 11:21:21', '2018-04-30 11:21:21')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 9ms (ActiveRecord: 1.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (124.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/_form.html.erb (0.5ms)
  Rendered admin/producer/edit.html.erb within layouts/application (4.9ms)
Completed 200 OK in 12ms (Views: 9.5ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.6ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-30 11:21:21', '2018-04-30 11:21:21')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-30 11:21:21', '2018-04-30 11:21:21')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1[0m
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-30 13:21:21 +0200
Processing by Admin::MovieController#new as HTML
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (28.1ms)
  Rendered admin/movie/new.html.erb within layouts/application (31.9ms)
Completed 200 OK in 45ms (Views: 42.8ms | ActiveRecord: 1.3ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-30 13:21:21 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"24", "director_ids"=>["36"], "produced_at"=>"2018-04-30 13:21:21 +0200", "serial_number"=>"64214", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[35mDirector Load (0.9ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 36 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 24 LIMIT 1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '64214' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `price`, `length`, `created_at`, `updated_at`) VALUES ('A new Movie of Ruby', 24, '2018-04-30 11:21:21', '64214', 'A new Movie of Ruby', 45.5, 325, '2018-04-30 11:21:21', '2018-04-30 11:21:21')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (36, 54, '2018-04-30 11:21:21', '2018-04-30 11:21:21')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 32ms (ActiveRecord: 4.0ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-04-30 13:21:21 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (24.7ms)
Completed 200 OK in 31ms (Views: 27.0ms | ActiveRecord: 2.2ms)
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-30 13:21:21 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (20.9ms)
Completed 200 OK in 26ms (Views: 22.2ms | ActiveRecord: 2.2ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
Started GET "/admin/movie/index/?page=3" for 127.0.0.1 at 2018-04-30 13:21:21 +0200
Processing by Admin::MovieController#index as HTML
  Parameters: {"page"=>"3"}
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 10
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 24 LIMIT 1[0m
  Rendered admin/movie/index.html.erb within layouts/application (7.7ms)
Completed 200 OK in 12ms (Views: 9.6ms | ActiveRecord: 1.4ms)
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'A new Movie of Ruby' LIMIT 1
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-30 13:21:21 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (22.0ms)
Completed 200 OK in 26ms (Views: 22.5ms | ActiveRecord: 2.4ms)
Started GET "/admin/movie/show/54" for 127.0.0.1 at 2018-04-30 13:21:21 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"54"}
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 54 LIMIT 1
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 24 LIMIT 1[0m
  [1m[35mDirector Load (1.1ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 54
  Rendered admin/movie/show.html.erb within layouts/application (11.0ms)
Completed 200 OK in 19ms (Views: 14.2ms | ActiveRecord: 2.6ms)
Started GET "/admin/movie/edit?id=54" for 127.0.0.1 at 2018-04-30 13:21:21 +0200
Processing by Admin::MovieController#edit as HTML
  Parameters: {"id"=>"54"}
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 54 LIMIT 1[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (1.1ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 54[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (20.7ms)
  Rendered admin/movie/edit.html.erb within layouts/application (24.2ms)
Completed 200 OK in 32ms (Views: 26.5ms | ActiveRecord: 3.3ms)
Started POST "/admin/movie/update?id=54" for 127.0.0.1 at 2018-04-30 13:21:21 +0200
Processing by Admin::MovieController#update as HTML
  Parameters: {"movie"=>{"title"=>"A very new Movie of Ruby", "producer_id"=>"24", "director_ids"=>["36"], "produced_at"=>"2018-04-30 13:21:21 +0200", "serial_number"=>"43214", "blurb"=>"A very new Movie of Ruby", "length"=>"350", "price"=>"50"}, "id"=>"54"}
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 54 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 36 LIMIT 1[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 54
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 24 LIMIT 1[0m
  [1m[35mMovie Exists (1.1ms)[0m  SELECT  1 AS one FROM `movies` WHERE (`movies`.`serial_number` = BINARY '43214' AND `movies`.`id` != 54) LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `movies` SET `title` = 'A very new Movie of Ruby', `serial_number` = '43214', `blurb` = 'A very new Movie of Ruby', `price` = 50.0, `length` = 350, `updated_at` = '2018-04-30 11:21:21' WHERE `movies`.`id` = 54[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie/show/54
Completed 302 Found in 26ms (ActiveRecord: 5.4ms)
Started GET "/admin/movie/show/54" for 127.0.0.1 at 2018-04-30 13:21:22 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"54"}
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 54 LIMIT 1[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 24 LIMIT 1
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 54[0m
  Rendered admin/movie/show.html.erb within layouts/application (9.3ms)
Completed 200 OK in 17ms (Views: 11.7ms | ActiveRecord: 2.4ms)
Started POST "/admin/movie/destroy?id=54" for 127.0.0.1 at 2018-04-30 13:21:22 +0200
Processing by Admin::MovieController#destroy as HTML
  Parameters: {"id"=>"54"}
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 54 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`movie_id` = 54
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM `movies` WHERE `movies`.`id` = 54[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 9ms (ActiveRecord: 2.6ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-04-30 13:21:22 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (20.8ms)
Completed 200 OK in 26ms (Views: 22.3ms | ActiveRecord: 2.0ms)
  [1m[35m (73.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/show.html.erb within layouts/application (3.0ms)
Completed 200 OK in 19ms (Views: 15.4ms | ActiveRecord: 0.6ms)
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (2.2ms)
  Rendered admin/director/new.html.erb within layouts/application (69.5ms)
Completed 200 OK in 75ms (Views: 74.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-30 11:21:22', '2018-04-30 11:21:22')
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 9ms (Views: 74.1ms | ActiveRecord: 1.3ms)
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (97.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/_form.html.erb (0.9ms)
  Rendered admin/director/edit.html.erb within layouts/application (5.3ms)
Completed 200 OK in 14ms (Views: 10.7ms | ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.5ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (10.2ms)
  Rendered admin/director/index.html.erb within layouts/application (15.0ms)
Completed 200 OK in 20ms (Views: 19.1ms | ActiveRecord: 0.5ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.6ms)
  Rendered admin/director/new.html.erb within layouts/application (2.5ms)
Completed 200 OK in 6ms (Views: 5.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.9ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `directors` WHERE `directors`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 9ms (ActiveRecord: 2.5ms)
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (8.5ms)
  Rendered admin/director/index.html.erb within layouts/application (12.2ms)
Completed 200 OK in 16ms (Views: 14.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (39.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-30 11:21:22' WHERE `directors`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 9ms (ActiveRecord: 1.9ms)
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (34.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/director/_form.html.erb (7.4ms)
  Rendered admin/director/new.html.erb within layouts/application (9.4ms)
Completed 200 OK in 25ms (Views: 14.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-30 11:21:22', '2018-04-30 11:21:22')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (39.5ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (86.1ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-30', 45.0, '2018-04-30 11:24:04', '2018-04-30 11:24:04')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-30', 65.0, '2018-04-30 11:24:04', '2018-04-30 11:24:04')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-30', 85.0, '2018-04-30 11:24:04', '2018-04-30 11:24:04')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-30', 105.0, '2018-04-30 11:24:04', '2018-04-30 11:24:04')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-30', 125.0, '2018-04-30 11:24:04', '2018-04-30 11:24:04')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-30', 145.0, '2018-04-30 11:24:04', '2018-04-30 11:24:04')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-30', 165.0, '2018-04-30 11:24:04', '2018-04-30 11:24:04')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-30', 185.0, '2018-04-30 11:24:04', '2018-04-30 11:24:04')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-30', 40.0, '2018-04-30 11:24:04', '2018-04-30 11:24:04')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-30', 40.0, '2018-04-30 11:24:04', '2018-04-30 11:24:04')[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-30 11:24:04', '2018-04-30 11:24:04')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-30 11:24:04', '2018-04-30 11:24:04')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-30 11:24:04', '2018-04-30 11:24:04')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-30 11:24:04', '2018-04-30 11:24:04')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-30 11:24:04', '2018-04-30 11:24:04')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-30 11:24:04', '2018-04-30 11:24:04')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-30 11:24:04', '2018-04-30 11:24:04')
  [1m[36mFixture Delete (88.0ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:24:04', '2018-04-30 13:24:04', 1, 1)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:24:04', '2018-04-30 13:24:04', 2, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:24:04', '2018-04-30 13:24:04', 2, 3)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:24:04', '2018-04-30 13:24:04', 2, 4)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:24:04', '2018-04-30 13:24:04', 2, 5)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:24:04', '2018-04-30 13:24:04', 2, 6)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:24:04', '2018-04-30 13:24:04', 2, 7)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:24:04', '2018-04-30 13:24:04', 3, 8)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:24:04', '2018-04-30 13:24:04', 4, 9)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:24:04', '2018-04-30 13:24:04', 5, 10)[0m
  [1m[35m (43.8ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-30 11:24:04', '2018-04-30 11:24:04')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 37ms (ActiveRecord: 1.7ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (38.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/_form.html.erb (14.3ms)
  Rendered admin/producer/edit.html.erb within layouts/application (26.5ms)
Completed 200 OK in 707ms (Views: 692.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.9ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-30 11:24:05' WHERE `producers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 14ms (ActiveRecord: 2.6ms)
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (82.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.8ms)[0m  [1mDELETE FROM `producers` WHERE `producers`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 8ms (ActiveRecord: 3.2ms)
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (4.7ms)
  Rendered admin/producer/index.html.erb within layouts/application (10.2ms)
Completed 200 OK in 16ms (Views: 14.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (104.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/show.html.erb within layouts/application (2.4ms)
Completed 200 OK in 11ms (Views: 7.9ms | ActiveRecord: 0.8ms)
  [1m[35mProducer Exists (0.8ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (3.8ms)
  Rendered admin/producer/index.html.erb within layouts/application (6.7ms)
Completed 200 OK in 11ms (Views: 9.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (0.6ms)
  Rendered admin/producer/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 9ms (Views: 8.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2018-04-30 13:24:05 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:24:05', '2018-04-30 11:24:05')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 0
  [1m[36mHABTM_Directors Load (0.7ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies`
  Rendered catalog/_movies.html.erb (232.0ms)
  Rendered catalog/index.html.erb within layouts/application (237.3ms)
  [1m[36mCartItem Load (0.6ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190967[0m
  Rendered cart/_cart.html.erb (25.0ms)
Completed 200 OK in 318ms (Views: 271.1ms | ActiveRecord: 9.8ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2018-04-30 13:24:06 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.8ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190967 LIMIT 1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Directors Load (0.8ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (5, 4, 3, 2, 1)
  [1m[36mDirector Load (1.0ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (2, 1)[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (1)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  Rendered catalog/_movies.html.erb (48.9ms)
  Rendered catalog/index.html.erb within layouts/application (52.4ms)
  [1m[35mCartItem Load (0.6ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190967
  Rendered cart/_cart.html.erb (2.8ms)
Completed 200 OK in 97ms (Views: 55.1ms | ActiveRecord: 5.3ms)
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pro Rails E-Commerce' LIMIT 1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pride and Prejudice'  ORDER BY `movies`.`id` ASC LIMIT 1
Started GET "/catalog/show/9" for 127.0.0.1 at 2018-04-30 13:24:06 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 9 LIMIT 1[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 2 LIMIT 1[0m
  Rendered catalog/show.html.erb within layouts/application (13.0ms)
Completed 200 OK in 21ms (Views: 16.0ms | ActiveRecord: 2.5ms)
  [1m[35mDirector Load (0.9ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9
Started GET "/catalog/latest" for 127.0.0.1 at 2018-04-30 13:24:06 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.7ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190967 LIMIT 1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5
  [1m[36mHABTM_Directors Load (0.8ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)[0m
  Rendered catalog/_movies.html.erb (42.1ms)
  Rendered catalog/latest.html.erb within layouts/application (43.5ms)
  [1m[35mCartItem Load (0.8ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190967
  Rendered cart/_cart.html.erb (2.7ms)
Completed 200 OK in 54ms (Views: 47.3ms | ActiveRecord: 4.3ms)
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5[0m
  [1m[35mHABTM_Directors Load (0.9ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)[0m
  [1m[35mProducer Load (0.9ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)
  [1m[36m (47.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.7ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-30 11:24:06', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-30 11:24:06', '2018-04-30 11:24:06')[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 55, '2018-04-30 11:24:06', '2018-04-30 11:24:06')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 55, '2018-04-30 11:24:06', '2018-04-30 11:24:06')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.5ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 55 LIMIT 1[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 55
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1
  [1m[36m (44.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------
MovieTest: test_create
----------------------
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-30 11:24:06', '12425', 'A great movie', 375, 45.5, '2018-04-30 11:24:06', '2018-04-30 11:24:06')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 56, '2018-04-30 11:24:06', '2018-04-30 11:24:06')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 56, '2018-04-30 11:24:06', '2018-04-30 11:24:06')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 56, '2018-04-30 11:24:06', '2018-04-30 11:24:06')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 56, '2018-04-30 11:24:06', '2018-04-30 11:24:06')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 56, '2018-04-30 11:24:06', '2018-04-30 11:24:06')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (43.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-30 11:24:06', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-30 11:24:06', '2018-04-30 11:24:06')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 57, '2018-04-30 11:24:06', '2018-04-30 11:24:06')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 57, '2018-04-30 11:24:06', '2018-04-30 11:24:06')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 57 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (42.7ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 14ms (Views: 13.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/director/_form.html.erb (6.0ms)
  Rendered admin/director/new.html.erb within layouts/application (9.9ms)
Completed 200 OK in 28ms (Views: 21.4ms | ActiveRecord: 0.7ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/show.html.erb within layouts/application (2.9ms)
Completed 200 OK in 11ms (Views: 7.3ms | ActiveRecord: 0.6ms)
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-30 11:24:07' WHERE `directors`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 9ms (ActiveRecord: 1.6ms)
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.3ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (42.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.5ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (8.7ms)
  Rendered admin/director/index.html.erb within layouts/application (14.7ms)
Completed 200 OK in 21ms (Views: 19.7ms | ActiveRecord: 0.5ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35mDirector Load (1.0ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (1.3ms)
  Rendered admin/director/new.html.erb within layouts/application (3.1ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.5ms)
  Rendered admin/director/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 5ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-30 11:24:07', '2018-04-30 11:24:07')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 6ms (Views: 4.9ms | ActiveRecord: 0.9ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (47.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.9ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/_form.html.erb (0.6ms)
  Rendered admin/director/edit.html.erb within layouts/application (5.1ms)
Completed 200 OK in 14ms (Views: 10.7ms | ActiveRecord: 0.9ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.8ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM `directors` WHERE `directors`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 11ms (ActiveRecord: 2.9ms)
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (7.1ms)
  Rendered admin/director/index.html.erb within layouts/application (10.0ms)
Completed 200 OK in 14ms (Views: 12.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (111.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-30 11:24:07', '2018-04-30 11:24:07')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (43.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `cart_items`
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:24:07', '2018-04-30 11:24:07')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190968 AND `cart_items`.`movie_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190968, '2018-04-30 11:24:07', '2018-04-30 11:24:07')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 38ms (ActiveRecord: 4.4ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190968 LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190968[0m
  [1m[35m (48.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:24:07', '2018-04-30 11:24:07')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.5ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190969 AND `cart_items`.`movie_id` = 4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190969, '2018-04-30 11:24:07', '2018-04-30 11:24:07')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 23ms (ActiveRecord: 4.4ms)
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 1 LIMIT 1[0m
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190969 LIMIT 1
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190969[0m
  [1m[35m (53.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:24:07', '2018-04-30 11:24:07')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.5ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190970 AND `cart_items`.`movie_id` = 4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190970, '2018-04-30 11:24:07', '2018-04-30 11:24:07')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 23ms (ActiveRecord: 4.4ms)
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190970 LIMIT 1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190970
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190970 LIMIT 1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mCartItem Load (0.8ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190970 AND `cart_items`.`movie_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1[0m
  [1m[35mCartItem Load (0.7ms)[0m  SELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 980190968 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190968
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.5ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 16ms (ActiveRecord: 4.1ms)
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190970 LIMIT 1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190970
  [1m[36m (49.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.7ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-30 11:24:07', '2018-04-30 11:24:07')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-30 11:24:07', '2018-04-30 11:24:07')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1[0m
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-30 13:24:07 +0200
Processing by Admin::MovieController#new as HTML
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (28.9ms)
  Rendered admin/movie/new.html.erb within layouts/application (32.7ms)
Completed 200 OK in 46ms (Views: 43.4ms | ActiveRecord: 1.2ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-30 13:24:07 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"26", "director_ids"=>["41"], "produced_at"=>"2018-04-30 13:24:07 +0200", "serial_number"=>"64214", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[35mDirector Load (0.9ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 41 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 26 LIMIT 1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '64214' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `price`, `length`, `created_at`, `updated_at`) VALUES ('A new Movie of Ruby', 26, '2018-04-30 11:24:07', '64214', 'A new Movie of Ruby', 45.5, 325, '2018-04-30 11:24:07', '2018-04-30 11:24:07')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (41, 58, '2018-04-30 11:24:07', '2018-04-30 11:24:07')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 36ms (ActiveRecord: 3.9ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-04-30 13:24:07 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (24.2ms)
Completed 200 OK in 30ms (Views: 26.6ms | ActiveRecord: 2.0ms)
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-30 13:24:07 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (19.4ms)
Completed 200 OK in 24ms (Views: 20.5ms | ActiveRecord: 1.8ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
Started GET "/admin/movie/index/?page=3" for 127.0.0.1 at 2018-04-30 13:24:07 +0200
Processing by Admin::MovieController#index as HTML
  Parameters: {"page"=>"3"}
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 10
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 26 LIMIT 1[0m
  Rendered admin/movie/index.html.erb within layouts/application (6.9ms)
Completed 200 OK in 11ms (Views: 8.7ms | ActiveRecord: 1.2ms)
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'A new Movie of Ruby' LIMIT 1
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-30 13:24:08 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (18.9ms)
Completed 200 OK in 23ms (Views: 20.1ms | ActiveRecord: 1.9ms)
Started GET "/admin/movie/show/58" for 127.0.0.1 at 2018-04-30 13:24:08 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"58"}
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 58 LIMIT 1
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 26 LIMIT 1[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 58
  Rendered admin/movie/show.html.erb within layouts/application (10.7ms)
Completed 200 OK in 18ms (Views: 13.2ms | ActiveRecord: 2.5ms)
Started GET "/admin/movie/edit?id=58" for 127.0.0.1 at 2018-04-30 13:24:08 +0200
Processing by Admin::MovieController#edit as HTML
  Parameters: {"id"=>"58"}
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 58 LIMIT 1[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (1.3ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 58[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (20.4ms)
  Rendered admin/movie/edit.html.erb within layouts/application (23.9ms)
Completed 200 OK in 32ms (Views: 26.0ms | ActiveRecord: 3.6ms)
Started POST "/admin/movie/update?id=58" for 127.0.0.1 at 2018-04-30 13:24:08 +0200
Processing by Admin::MovieController#update as HTML
  Parameters: {"movie"=>{"title"=>"A very new Movie of Ruby", "producer_id"=>"26", "director_ids"=>["41"], "produced_at"=>"2018-04-30 13:24:08 +0200", "serial_number"=>"43214", "blurb"=>"A very new Movie of Ruby", "length"=>"350", "price"=>"50"}, "id"=>"58"}
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 58 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 41 LIMIT 1[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 58
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 26 LIMIT 1[0m
  [1m[35mMovie Exists (1.0ms)[0m  SELECT  1 AS one FROM `movies` WHERE (`movies`.`serial_number` = BINARY '43214' AND `movies`.`id` != 58) LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `movies` SET `title` = 'A very new Movie of Ruby', `produced_at` = '2018-04-30 11:24:08', `serial_number` = '43214', `blurb` = 'A very new Movie of Ruby', `price` = 50.0, `length` = 350, `updated_at` = '2018-04-30 11:24:08' WHERE `movies`.`id` = 58[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie/show/58
Completed 302 Found in 27ms (ActiveRecord: 5.6ms)
Started GET "/admin/movie/show/58" for 127.0.0.1 at 2018-04-30 13:24:08 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"58"}
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 58 LIMIT 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 26 LIMIT 1
  [1m[36mDirector Load (1.1ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 58[0m
  Rendered admin/movie/show.html.erb within layouts/application (9.2ms)
Completed 200 OK in 16ms (Views: 11.0ms | ActiveRecord: 2.5ms)
Started POST "/admin/movie/destroy?id=58" for 127.0.0.1 at 2018-04-30 13:24:08 +0200
Processing by Admin::MovieController#destroy as HTML
  Parameters: {"id"=>"58"}
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 58 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`movie_id` = 58
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `movies` WHERE `movies`.`id` = 58[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 9ms (ActiveRecord: 2.7ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-04-30 13:24:08 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (21.0ms)
Completed 200 OK in 26ms (Views: 22.7ms | ActiveRecord: 2.0ms)
  [1m[35m (74.6ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.1ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (95.0ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-30', 45.0, '2018-04-30 11:24:39', '2018-04-30 11:24:39')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-30', 65.0, '2018-04-30 11:24:39', '2018-04-30 11:24:39')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-30', 85.0, '2018-04-30 11:24:39', '2018-04-30 11:24:39')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-30', 105.0, '2018-04-30 11:24:39', '2018-04-30 11:24:39')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-30', 125.0, '2018-04-30 11:24:39', '2018-04-30 11:24:39')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-30', 145.0, '2018-04-30 11:24:39', '2018-04-30 11:24:39')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-30', 165.0, '2018-04-30 11:24:39', '2018-04-30 11:24:39')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-30', 185.0, '2018-04-30 11:24:39', '2018-04-30 11:24:39')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-30', 40.0, '2018-04-30 11:24:39', '2018-04-30 11:24:39')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-30', 40.0, '2018-04-30 11:24:39', '2018-04-30 11:24:39')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-30 11:24:39', '2018-04-30 11:24:39')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-30 11:24:39', '2018-04-30 11:24:39')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-30 11:24:39', '2018-04-30 11:24:39')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-30 11:24:39', '2018-04-30 11:24:39')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-30 11:24:39', '2018-04-30 11:24:39')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-30 11:24:39', '2018-04-30 11:24:39')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-30 11:24:39', '2018-04-30 11:24:39')
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.9ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:24:39', '2018-04-30 13:24:39', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:24:39', '2018-04-30 13:24:39', 2, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:24:39', '2018-04-30 13:24:39', 2, 3)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:24:39', '2018-04-30 13:24:39', 2, 4)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:24:39', '2018-04-30 13:24:39', 2, 5)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:24:39', '2018-04-30 13:24:39', 2, 6)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:24:39', '2018-04-30 13:24:39', 2, 7)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:24:39', '2018-04-30 13:24:39', 3, 8)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:24:39', '2018-04-30 13:24:39', 4, 9)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:24:39', '2018-04-30 13:24:39', 5, 10)[0m
  [1m[35m (65.6ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------
MovieTest: test_create
----------------------
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-30 11:24:39', '12425', 'A great movie', 375, 45.5, '2018-04-30 11:24:40', '2018-04-30 11:24:40')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 59, '2018-04-30 11:24:40', '2018-04-30 11:24:40')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 59, '2018-04-30 11:24:40', '2018-04-30 11:24:40')
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 59, '2018-04-30 11:24:40', '2018-04-30 11:24:40')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 59, '2018-04-30 11:24:40', '2018-04-30 11:24:40')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 59, '2018-04-30 11:24:40', '2018-04-30 11:24:40')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (38.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.7ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-30 11:24:40', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-30 11:24:40', '2018-04-30 11:24:40')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 60, '2018-04-30 11:24:40', '2018-04-30 11:24:40')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 60, '2018-04-30 11:24:40', '2018-04-30 11:24:40')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 60 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (33.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36mProducer Load (0.4ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-30 11:24:40', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-30 11:24:40', '2018-04-30 11:24:40')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 61, '2018-04-30 11:24:40', '2018-04-30 11:24:40')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 61, '2018-04-30 11:24:40', '2018-04-30 11:24:40')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 61 LIMIT 1[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 61
  [1m[36mDirector Load (1.0ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1
  [1m[36m (34.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.8ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-30 11:24:40', '2018-04-30 11:24:40')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (42.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:24:40', '2018-04-30 11:24:40')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190971 AND `cart_items`.`movie_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190971, '2018-04-30 11:24:40', '2018-04-30 11:24:40')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 63ms (ActiveRecord: 7.7ms)
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190971 LIMIT 1
  [1m[36mMovie Load (1.0ms)[0m  [1mSELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190971[0m
Processing by CartController#clear as HTML
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190971 LIMIT 1
  [1m[36mCartItem Load (0.8ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190971[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190969[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 10ms (ActiveRecord: 2.7ms)
  [1m[36mCart Load (0.7ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190971 LIMIT 1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190971
  [1m[36m (90.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:24:40', '2018-04-30 11:24:40')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190972 AND `cart_items`.`movie_id` = 4[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190972, '2018-04-30 11:24:40', '2018-04-30 11:24:40')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 29ms (ActiveRecord: 5.9ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `cart_items`
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190972 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190972
  [1m[36m (41.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:24:40', '2018-04-30 11:24:40')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190973 AND `cart_items`.`movie_id` = 4
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190973, '2018-04-30 11:24:40', '2018-04-30 11:24:40')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 24ms (ActiveRecord: 4.6ms)
  [1m[36mMovie Load (1.0ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190973 LIMIT 1
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190973[0m
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190973 LIMIT 1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.8ms)[0m  SELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190973 AND `cart_items`.`movie_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1
  [1m[36mCartItem Load (0.8ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 980190971 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190971[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 16ms (ActiveRecord: 4.2ms)
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190973 LIMIT 1
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190973[0m
  [1m[35m (36.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.2ms)[0m  [1mDELETE FROM `producers` WHERE `producers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 7ms (ActiveRecord: 2.2ms)
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (3.9ms)
  Rendered admin/producer/index.html.erb within layouts/application (16.3ms)
Completed 200 OK in 628ms (Views: 626.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (35.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.9ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 11ms (Views: 7.3ms | ActiveRecord: 0.9ms)
  [1m[35mProducer Exists (0.8ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/_form.html.erb (14.3ms)
  Rendered admin/producer/edit.html.erb within layouts/application (19.9ms)
Completed 200 OK in 28ms (Views: 25.5ms | ActiveRecord: 0.8ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-30 11:24:41', '2018-04-30 11:24:41')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 9ms (ActiveRecord: 1.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (38.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[36mProducer Load (0.9ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-30 11:24:41' WHERE `producers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 16ms (ActiveRecord: 3.2ms)
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (42.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.9ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (4.3ms)
  Rendered admin/producer/index.html.erb within layouts/application (8.2ms)
Completed 200 OK in 13ms (Views: 10.8ms | ActiveRecord: 0.9ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (0.5ms)
  Rendered admin/producer/new.html.erb within layouts/application (3.3ms)
Completed 200 OK in 8ms (Views: 7.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 13ms (Views: 12.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-30 11:24:41', '2018-04-30 11:24:41')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-30 11:24:41', '2018-04-30 11:24:41')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-30 13:24:41 +0200
Processing by Admin::MovieController#new as HTML
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (28.0ms)
  Rendered admin/movie/new.html.erb within layouts/application (31.5ms)
Completed 200 OK in 61ms (Views: 42.0ms | ActiveRecord: 1.1ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-30 13:24:42 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"28", "director_ids"=>["43"], "produced_at"=>"2018-04-30 13:24:41 +0200", "serial_number"=>"64214", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 43 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 28 LIMIT 1[0m
  [1m[35mMovie Exists (0.8ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '64214' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `price`, `length`, `created_at`, `updated_at`) VALUES ('A new Movie of Ruby', 28, '2018-04-30 11:24:41', '64214', 'A new Movie of Ruby', 45.5, 325, '2018-04-30 11:24:42', '2018-04-30 11:24:42')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (43, 62, '2018-04-30 11:24:42', '2018-04-30 11:24:42')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 32ms (ActiveRecord: 4.1ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-04-30 13:24:42 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (23.8ms)
Completed 200 OK in 29ms (Views: 26.2ms | ActiveRecord: 1.8ms)
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-30 13:24:42 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.4ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (20.7ms)
Completed 200 OK in 25ms (Views: 21.9ms | ActiveRecord: 2.1ms)
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies`
Started GET "/admin/movie/index/?page=3" for 127.0.0.1 at 2018-04-30 13:24:42 +0200
Processing by Admin::MovieController#index as HTML
  Parameters: {"page"=>"3"}
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 10[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 28 LIMIT 1
  Rendered admin/movie/index.html.erb within layouts/application (7.1ms)
Completed 200 OK in 11ms (Views: 8.6ms | ActiveRecord: 1.4ms)
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'A new Movie of Ruby' LIMIT 1[0m
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-30 13:24:42 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (21.4ms)
Completed 200 OK in 26ms (Views: 22.0ms | ActiveRecord: 2.4ms)
Started GET "/admin/movie/show/62" for 127.0.0.1 at 2018-04-30 13:24:42 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"62"}
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 62 LIMIT 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 28 LIMIT 1
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 62[0m
  Rendered admin/movie/show.html.erb within layouts/application (11.6ms)
Completed 200 OK in 19ms (Views: 14.3ms | ActiveRecord: 2.3ms)
Started GET "/admin/movie/edit?id=62" for 127.0.0.1 at 2018-04-30 13:24:42 +0200
Processing by Admin::MovieController#edit as HTML
  Parameters: {"id"=>"62"}
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 62 LIMIT 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (1.1ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 62
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (18.5ms)
  Rendered admin/movie/edit.html.erb within layouts/application (21.7ms)
Completed 200 OK in 29ms (Views: 23.7ms | ActiveRecord: 3.1ms)
Started POST "/admin/movie/update?id=62" for 127.0.0.1 at 2018-04-30 13:24:42 +0200
Processing by Admin::MovieController#update as HTML
  Parameters: {"movie"=>{"title"=>"A very new Movie of Ruby", "producer_id"=>"28", "director_ids"=>["43"], "produced_at"=>"2018-04-30 13:24:42 +0200", "serial_number"=>"43214", "blurb"=>"A very new Movie of Ruby", "length"=>"350", "price"=>"50"}, "id"=>"62"}
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 62 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 43 LIMIT 1
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 62[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 28 LIMIT 1
  [1m[36mMovie Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE (`movies`.`serial_number` = BINARY '43214' AND `movies`.`id` != 62) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `movies` SET `title` = 'A very new Movie of Ruby', `produced_at` = '2018-04-30 11:24:42', `serial_number` = '43214', `blurb` = 'A very new Movie of Ruby', `price` = 50.0, `length` = 350, `updated_at` = '2018-04-30 11:24:42' WHERE `movies`.`id` = 62
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/movie/show/62
Completed 302 Found in 28ms (ActiveRecord: 5.4ms)
Started GET "/admin/movie/show/62" for 127.0.0.1 at 2018-04-30 13:24:42 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"62"}
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 62 LIMIT 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 28 LIMIT 1[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 62
  Rendered admin/movie/show.html.erb within layouts/application (8.1ms)
Completed 200 OK in 14ms (Views: 10.0ms | ActiveRecord: 2.2ms)
Started POST "/admin/movie/destroy?id=62" for 127.0.0.1 at 2018-04-30 13:24:42 +0200
Processing by Admin::MovieController#destroy as HTML
  Parameters: {"id"=>"62"}
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 62 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `directors_movies` WHERE `directors_movies`.`movie_id` = 62[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `movies` WHERE `movies`.`id` = 62
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 9ms (ActiveRecord: 2.4ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-04-30 13:24:42 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (20.3ms)
Completed 200 OK in 26ms (Views: 22.0ms | ActiveRecord: 2.1ms)
  [1m[36m (60.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (2.1ms)
  Rendered admin/director/new.html.erb within layouts/application (6.3ms)
Completed 200 OK in 19ms (Views: 18.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-30 11:24:42', '2018-04-30 11:24:42')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 7ms (Views: 18.0ms | ActiveRecord: 1.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (122.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-30 11:24:42' WHERE `directors`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 11ms (ActiveRecord: 1.9ms)
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (44.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (8.6ms)
  Rendered admin/director/index.html.erb within layouts/application (13.7ms)
Completed 200 OK in 20ms (Views: 18.9ms | ActiveRecord: 0.6ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/director/_form.html.erb (4.9ms)
  Rendered admin/director/new.html.erb within layouts/application (6.4ms)
Completed 200 OK in 15ms (Views: 9.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.6ms)
  Rendered admin/director/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 5ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/_form.html.erb (0.7ms)
  Rendered admin/director/edit.html.erb within layouts/application (4.2ms)
Completed 200 OK in 10ms (Views: 8.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `directors` WHERE `directors`.`id` = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 8ms (ActiveRecord: 2.3ms)
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (8.0ms)
  Rendered admin/director/index.html.erb within layouts/application (11.1ms)
Completed 200 OK in 16ms (Views: 14.3ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (43.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.9ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/show.html.erb within layouts/application (2.4ms)
Completed 200 OK in 11ms (Views: 8.0ms | ActiveRecord: 0.9ms)
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2018-04-30 13:24:42 +0200
Processing by CatalogController#index as HTML
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:24:42', '2018-04-30 11:24:42')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Directors Load (0.8ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  Rendered catalog/_movies.html.erb (47.9ms)
  Rendered catalog/index.html.erb within layouts/application (51.3ms)
  [1m[35mCartItem Load (0.6ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190974
  Rendered cart/_cart.html.erb (4.3ms)
Completed 200 OK in 76ms (Views: 64.9ms | ActiveRecord: 4.9ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2018-04-30 13:24:42 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190974 LIMIT 1[0m
  [1m[35mMovie Load (1.0ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 5
  [1m[36mHABTM_Directors Load (1.1ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (5, 4, 3, 2, 1)[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (2, 1)
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (1)[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `movies`
  Rendered catalog/_movies.html.erb (36.8ms)
  Rendered catalog/index.html.erb within layouts/application (38.1ms)
  [1m[36mCartItem Load (0.8ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190974[0m
  Rendered cart/_cart.html.erb (2.9ms)
Completed 200 OK in 48ms (Views: 40.1ms | ActiveRecord: 5.6ms)
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pro Rails E-Commerce' LIMIT 1
  [1m[36mMovie Load (1.0ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pride and Prejudice'  ORDER BY `movies`.`id` ASC LIMIT 1[0m
Started GET "/catalog/show/9" for 127.0.0.1 at 2018-04-30 13:24:43 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 9 LIMIT 1
  [1m[36mDirector Load (1.1ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 2 LIMIT 1
  Rendered catalog/show.html.erb within layouts/application (9.6ms)
Completed 200 OK in 17ms (Views: 12.8ms | ActiveRecord: 2.4ms)
  [1m[36mDirector Load (1.3ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9[0m
Started GET "/catalog/latest" for 127.0.0.1 at 2018-04-30 13:24:43 +0200
Processing by CatalogController#latest as HTML
  [1m[35mCart Load (0.8ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190974 LIMIT 1
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5[0m
  [1m[35mHABTM_Directors Load (1.0ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)
  [1m[36mDirector Load (1.2ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)[0m
  [1m[35mProducer Load (0.9ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)
  Rendered catalog/_movies.html.erb (37.1ms)
  Rendered catalog/latest.html.erb within layouts/application (39.0ms)
  [1m[36mCartItem Load (0.9ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190974[0m
  Rendered cart/_cart.html.erb (3.1ms)
Completed 200 OK in 52ms (Views: 43.8ms | ActiveRecord: 5.6ms)
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5
  [1m[36mHABTM_Directors Load (1.1ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)
  [1m[36mProducer Load (0.9ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)[0m
  [1m[35m (40.0ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (83.2ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-30', 45.0, '2018-04-30 11:25:13', '2018-04-30 11:25:13')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-30', 65.0, '2018-04-30 11:25:13', '2018-04-30 11:25:13')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-30', 85.0, '2018-04-30 11:25:13', '2018-04-30 11:25:13')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-30', 105.0, '2018-04-30 11:25:13', '2018-04-30 11:25:13')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-30', 125.0, '2018-04-30 11:25:13', '2018-04-30 11:25:13')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-30', 145.0, '2018-04-30 11:25:13', '2018-04-30 11:25:13')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-30', 165.0, '2018-04-30 11:25:13', '2018-04-30 11:25:13')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-30', 185.0, '2018-04-30 11:25:13', '2018-04-30 11:25:13')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-30', 40.0, '2018-04-30 11:25:13', '2018-04-30 11:25:13')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-30', 40.0, '2018-04-30 11:25:13', '2018-04-30 11:25:13')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-30 11:25:13', '2018-04-30 11:25:13')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-30 11:25:13', '2018-04-30 11:25:13')
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-30 11:25:13', '2018-04-30 11:25:13')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-30 11:25:13', '2018-04-30 11:25:13')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-30 11:25:13', '2018-04-30 11:25:13')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-30 11:25:13', '2018-04-30 11:25:13')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-30 11:25:13', '2018-04-30 11:25:13')
  [1m[36mFixture Delete (82.3ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:25:13', '2018-04-30 13:25:13', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:25:13', '2018-04-30 13:25:13', 2, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:25:13', '2018-04-30 13:25:13', 2, 3)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:25:13', '2018-04-30 13:25:13', 2, 4)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:25:13', '2018-04-30 13:25:13', 2, 5)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:25:13', '2018-04-30 13:25:13', 2, 6)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:25:13', '2018-04-30 13:25:13', 2, 7)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:25:13', '2018-04-30 13:25:13', 3, 8)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:25:13', '2018-04-30 13:25:13', 4, 9)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:25:13', '2018-04-30 13:25:13', 5, 10)[0m
  [1m[35m (42.5ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.6ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-30 11:25:13', '2018-04-30 11:25:13')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-30 11:25:14', '2018-04-30 11:25:14')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1[0m
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-30 13:25:14 +0200
Processing by Admin::MovieController#new as HTML
  [1m[35mProducer Load (0.5ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (112.9ms)
  Rendered admin/movie/new.html.erb within layouts/application (124.4ms)
Completed 200 OK in 789ms (Views: 751.1ms | ActiveRecord: 2.8ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-30 13:25:14 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"29", "director_ids"=>["45"], "produced_at"=>"2018-04-30 13:25:14 +0200", "serial_number"=>"64214", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 45 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 29 LIMIT 1
  [1m[36mMovie Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '64214' LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `price`, `length`, `created_at`, `updated_at`) VALUES ('A new Movie of Ruby', 29, '2018-04-30 11:25:14', '64214', 'A new Movie of Ruby', 45.5, 325, '2018-04-30 11:25:14', '2018-04-30 11:25:14')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (45, 63, '2018-04-30 11:25:14', '2018-04-30 11:25:14')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 64ms (ActiveRecord: 4.7ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-04-30 13:25:15 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (27.7ms)
Completed 200 OK in 34ms (Views: 30.5ms | ActiveRecord: 2.1ms)
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-30 13:25:15 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (21.5ms)
Completed 200 OK in 27ms (Views: 23.0ms | ActiveRecord: 2.0ms)
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
Started GET "/admin/movie/index/?page=3" for 127.0.0.1 at 2018-04-30 13:25:15 +0200
Processing by Admin::MovieController#index as HTML
  Parameters: {"page"=>"3"}
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 10
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 29 LIMIT 1[0m
  Rendered admin/movie/index.html.erb within layouts/application (7.5ms)
Completed 200 OK in 12ms (Views: 9.7ms | ActiveRecord: 1.3ms)
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'A new Movie of Ruby' LIMIT 1
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-30 13:25:15 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (23.4ms)
Completed 200 OK in 28ms (Views: 24.4ms | ActiveRecord: 2.3ms)
Started GET "/admin/movie/show/63" for 127.0.0.1 at 2018-04-30 13:25:15 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"63"}
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 63 LIMIT 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 29 LIMIT 1[0m
  [1m[35mDirector Load (1.1ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 63
  Rendered admin/movie/show.html.erb within layouts/application (40.9ms)
Completed 200 OK in 54ms (Views: 46.8ms | ActiveRecord: 2.7ms)
Started GET "/admin/movie/edit?id=63" for 127.0.0.1 at 2018-04-30 13:25:15 +0200
Processing by Admin::MovieController#edit as HTML
  Parameters: {"id"=>"63"}
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 63 LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (1.1ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 63[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (32.7ms)
  Rendered admin/movie/edit.html.erb within layouts/application (38.5ms)
Completed 200 OK in 48ms (Views: 43.1ms | ActiveRecord: 3.0ms)
Started POST "/admin/movie/update?id=63" for 127.0.0.1 at 2018-04-30 13:25:15 +0200
Processing by Admin::MovieController#update as HTML
  Parameters: {"movie"=>{"title"=>"A very new Movie of Ruby", "producer_id"=>"29", "director_ids"=>["45"], "produced_at"=>"2018-04-30 13:25:15 +0200", "serial_number"=>"43214", "blurb"=>"A very new Movie of Ruby", "length"=>"350", "price"=>"50"}, "id"=>"63"}
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 63 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 45 LIMIT 1[0m
  [1m[35mDirector Load (1.7ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 63
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 29 LIMIT 1[0m
  [1m[35mMovie Exists (1.8ms)[0m  SELECT  1 AS one FROM `movies` WHERE (`movies`.`serial_number` = BINARY '43214' AND `movies`.`id` != 63) LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `movies` SET `title` = 'A very new Movie of Ruby', `produced_at` = '2018-04-30 11:25:15', `serial_number` = '43214', `blurb` = 'A very new Movie of Ruby', `price` = 50.0, `length` = 350, `updated_at` = '2018-04-30 11:25:15' WHERE `movies`.`id` = 63[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie/show/63
Completed 302 Found in 42ms (ActiveRecord: 7.3ms)
Started GET "/admin/movie/show/63" for 127.0.0.1 at 2018-04-30 13:25:15 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"63"}
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 63 LIMIT 1[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 29 LIMIT 1
  [1m[36mDirector Load (1.0ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 63[0m
  Rendered admin/movie/show.html.erb within layouts/application (13.9ms)
Completed 200 OK in 25ms (Views: 18.6ms | ActiveRecord: 2.4ms)
Started POST "/admin/movie/destroy?id=63" for 127.0.0.1 at 2018-04-30 13:25:15 +0200
Processing by Admin::MovieController#destroy as HTML
  Parameters: {"id"=>"63"}
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 63 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`movie_id` = 63
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `movies` WHERE `movies`.`id` = 63[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 11ms (ActiveRecord: 2.3ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-04-30 13:25:15 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (34.1ms)
Completed 200 OK in 41ms (Views: 37.7ms | ActiveRecord: 1.9ms)
  [1m[35m (90.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2018-04-30 13:25:15 +0200
Processing by CatalogController#index as HTML
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:25:15', '2018-04-30 11:25:15')[0m
  [1m[35m (0.7ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Directors Load (0.8ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  Rendered catalog/_movies.html.erb (57.6ms)
  Rendered catalog/index.html.erb within layouts/application (62.8ms)
  [1m[35mCartItem Load (0.7ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190975
  Rendered cart/_cart.html.erb (21.4ms)
Completed 200 OK in 139ms (Views: 94.2ms | ActiveRecord: 9.1ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2018-04-30 13:25:15 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190975 LIMIT 1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 5
  [1m[36mHABTM_Directors Load (0.8ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (5, 4, 3, 2, 1)[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (2, 1)
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (1)[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `movies`
  Rendered catalog/_movies.html.erb (40.0ms)
  Rendered catalog/index.html.erb within layouts/application (41.3ms)
  [1m[36mCartItem Load (0.6ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190975[0m
  Rendered cart/_cart.html.erb (2.7ms)
Completed 200 OK in 67ms (Views: 58.1ms | ActiveRecord: 4.8ms)
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pro Rails E-Commerce' LIMIT 1
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pride and Prejudice'  ORDER BY `movies`.`id` ASC LIMIT 1[0m
Started GET "/catalog/show/9" for 127.0.0.1 at 2018-04-30 13:25:15 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 9 LIMIT 1
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 2 LIMIT 1
  Rendered catalog/show.html.erb within layouts/application (9.7ms)
Completed 200 OK in 18ms (Views: 13.3ms | ActiveRecord: 2.4ms)
  [1m[36mDirector Load (1.0ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9[0m
Started GET "/catalog/latest" for 127.0.0.1 at 2018-04-30 13:25:15 +0200
Processing by CatalogController#latest as HTML
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190975 LIMIT 1
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5[0m
  [1m[35mHABTM_Directors Load (0.8ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)
  Rendered catalog/_movies.html.erb (29.5ms)
  Rendered catalog/latest.html.erb within layouts/application (30.8ms)
  [1m[36mCartItem Load (0.6ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190975[0m
  Rendered cart/_cart.html.erb (2.7ms)
Completed 200 OK in 42ms (Views: 34.7ms | ActiveRecord: 4.3ms)
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5
  [1m[36mHABTM_Directors Load (0.8ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)[0m
  [1m[35m (43.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 13ms (Views: 12.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:25:16', '2018-04-30 11:25:16')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190976 AND `cart_items`.`movie_id` = 4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190976, '2018-04-30 11:25:16', '2018-04-30 11:25:16')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 107ms (ActiveRecord: 67.6ms)
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mMovie Load (0.4ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 1 LIMIT 1[0m
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190976 LIMIT 1
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190976[0m
  [1m[35m (42.0ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:25:16', '2018-04-30 11:25:16')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.5ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190977 AND `cart_items`.`movie_id` = 4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190977, '2018-04-30 11:25:16', '2018-04-30 11:25:16')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 23ms (ActiveRecord: 4.4ms)
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.8ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190977 LIMIT 1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190977
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190977 LIMIT 1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mCartItem Load (0.8ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190977 AND `cart_items`.`movie_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1[0m
  [1m[35mCartItem Load (0.7ms)[0m  SELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 980190973 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190973
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 18ms (ActiveRecord: 4.7ms)
  [1m[36mCart Load (0.9ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190977 LIMIT 1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190977
  [1m[36m (35.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:25:16', '2018-04-30 11:25:16')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.5ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190978 AND `cart_items`.`movie_id` = 4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190978, '2018-04-30 11:25:16', '2018-04-30 11:25:16')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 24ms (ActiveRecord: 4.5ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `cart_items`
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190978 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190978
  [1m[36m (36.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `directors` WHERE `directors`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 15ms (ActiveRecord: 2.3ms)
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (7.2ms)
  Rendered admin/director/index.html.erb within layouts/application (11.9ms)
Completed 200 OK in 24ms (Views: 22.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (35.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-30 11:25:16' WHERE `directors`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 9ms (ActiveRecord: 2.0ms)
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (37.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/_form.html.erb (1.9ms)
  Rendered admin/director/edit.html.erb within layouts/application (6.4ms)
Completed 200 OK in 14ms (Views: 10.9ms | ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.7ms)
  Rendered admin/director/new.html.erb within layouts/application (3.7ms)
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.6ms)
  Rendered admin/director/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-30 11:25:16', '2018-04-30 11:25:16')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 7ms (Views: 4.7ms | ActiveRecord: 1.0ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (33.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/director/_form.html.erb (5.3ms)
  Rendered admin/director/new.html.erb within layouts/application (6.9ms)
Completed 200 OK in 18ms (Views: 10.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (7.4ms)
  Rendered admin/director/index.html.erb within layouts/application (10.6ms)
Completed 200 OK in 14ms (Views: 12.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/show.html.erb within layouts/application (2.5ms)
Completed 200 OK in 9ms (Views: 7.3ms | ActiveRecord: 0.6ms)
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-30 11:25:16', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-30 11:25:16', '2018-04-30 11:25:16')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 64, '2018-04-30 11:25:16', '2018-04-30 11:25:16')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 64, '2018-04-30 11:25:16', '2018-04-30 11:25:16')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 64 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 64
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1
  [1m[36m (36.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (1.1ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-30 11:25:16', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-30 11:25:16', '2018-04-30 11:25:16')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 65, '2018-04-30 11:25:16', '2018-04-30 11:25:16')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 65, '2018-04-30 11:25:16', '2018-04-30 11:25:16')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 65 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mProducer Load (0.4ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (35.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------
MovieTest: test_create
----------------------
  [1m[36mProducer Load (0.9ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT `directors`.* FROM `directors`
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-30 11:25:16', '12425', 'A great movie', 375, 45.5, '2018-04-30 11:25:16', '2018-04-30 11:25:16')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 66, '2018-04-30 11:25:16', '2018-04-30 11:25:16')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 66, '2018-04-30 11:25:16', '2018-04-30 11:25:16')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 66, '2018-04-30 11:25:16', '2018-04-30 11:25:16')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 66, '2018-04-30 11:25:16', '2018-04-30 11:25:16')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 66, '2018-04-30 11:25:16', '2018-04-30 11:25:16')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (37.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-30 11:25:17', '2018-04-30 11:25:17')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 9ms (ActiveRecord: 1.9ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (35.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (1.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/_form.html.erb (1.6ms)
  Rendered admin/producer/edit.html.erb within layouts/application (6.5ms)
Completed 200 OK in 22ms (Views: 18.9ms | ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (4.6ms)
  Rendered admin/producer/index.html.erb within layouts/application (9.0ms)
Completed 200 OK in 14ms (Views: 12.4ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (0.5ms)
  Rendered admin/producer/new.html.erb within layouts/application (3.2ms)
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  DELETE FROM `producers` WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 6ms (ActiveRecord: 2.4ms)
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.5ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (1.9ms)
  Rendered admin/producer/index.html.erb within layouts/application (4.0ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.5ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (36.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/show.html.erb within layouts/application (2.5ms)
Completed 200 OK in 11ms (Views: 7.7ms | ActiveRecord: 0.8ms)
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[36mProducer Load (0.9ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-30 11:25:17' WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 13ms (ActiveRecord: 3.1ms)
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (34.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-30 11:25:17', '2018-04-30 11:25:17')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (44.4ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (117.1ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-30', 45.0, '2018-04-30 11:25:51', '2018-04-30 11:25:51')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-30', 65.0, '2018-04-30 11:25:51', '2018-04-30 11:25:51')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-30', 85.0, '2018-04-30 11:25:51', '2018-04-30 11:25:51')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-30', 105.0, '2018-04-30 11:25:51', '2018-04-30 11:25:51')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-30', 125.0, '2018-04-30 11:25:51', '2018-04-30 11:25:51')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-30', 145.0, '2018-04-30 11:25:51', '2018-04-30 11:25:51')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-30', 165.0, '2018-04-30 11:25:51', '2018-04-30 11:25:51')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-30', 185.0, '2018-04-30 11:25:51', '2018-04-30 11:25:51')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-30', 40.0, '2018-04-30 11:25:51', '2018-04-30 11:25:51')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-30', 40.0, '2018-04-30 11:25:51', '2018-04-30 11:25:51')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-30 11:25:51', '2018-04-30 11:25:51')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-30 11:25:51', '2018-04-30 11:25:51')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-30 11:25:51', '2018-04-30 11:25:51')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-30 11:25:51', '2018-04-30 11:25:51')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-30 11:25:51', '2018-04-30 11:25:51')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-30 11:25:51', '2018-04-30 11:25:51')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-30 11:25:51', '2018-04-30 11:25:51')
  [1m[36mFixture Delete (83.2ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:25:51', '2018-04-30 13:25:51', 1, 1)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:25:51', '2018-04-30 13:25:51', 2, 2)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:25:51', '2018-04-30 13:25:51', 2, 3)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:25:51', '2018-04-30 13:25:51', 2, 4)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:25:51', '2018-04-30 13:25:51', 2, 5)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:25:51', '2018-04-30 13:25:51', 2, 6)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:25:51', '2018-04-30 13:25:51', 2, 7)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:25:51', '2018-04-30 13:25:51', 3, 8)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:25:51', '2018-04-30 13:25:51', 4, 9)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:25:51', '2018-04-30 13:25:51', 5, 10)[0m
  [1m[35m (43.2ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-30 11:25:51', '2018-04-30 11:25:51')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (41.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.6ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-30 11:25:51', '2018-04-30 11:25:51')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 31ms (ActiveRecord: 1.5ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (37.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.8ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-30 11:25:51' WHERE `producers`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 24ms (ActiveRecord: 2.6ms)
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (46.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.9ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/_form.html.erb (12.4ms)
  Rendered admin/producer/edit.html.erb within layouts/application (23.4ms)
Completed 200 OK in 582ms (Views: 578.9ms | ActiveRecord: 0.9ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/show.html.erb within layouts/application (2.4ms)
Completed 200 OK in 9ms (Views: 6.7ms | ActiveRecord: 0.6ms)
  [1m[35mProducer Exists (0.8ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (5.0ms)
  Rendered admin/producer/index.html.erb within layouts/application (9.6ms)
Completed 200 OK in 14ms (Views: 12.9ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (0.5ms)
  Rendered admin/producer/new.html.erb within layouts/application (3.2ms)
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  DELETE FROM `producers` WHERE `producers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 8ms (ActiveRecord: 2.8ms)
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.7ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (2.4ms)
  Rendered admin/producer/index.html.erb within layouts/application (5.6ms)
Completed 200 OK in 10ms (Views: 8.6ms | ActiveRecord: 0.7ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (140.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[35mDirector Load (1.1ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35mProducer Load (0.9ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-30 11:25:52', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-30 11:25:52', '2018-04-30 11:25:52')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 67, '2018-04-30 11:25:52', '2018-04-30 11:25:52')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 67, '2018-04-30 11:25:52', '2018-04-30 11:25:52')
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 67 LIMIT 1
  [1m[36m (1.1ms)[0m  [1mSELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 67[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36m (1.2ms)[0m  [1mSELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35m (97.0ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-30 11:25:52', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-30 11:25:52', '2018-04-30 11:25:52')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 68, '2018-04-30 11:25:52', '2018-04-30 11:25:52')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 68, '2018-04-30 11:25:52', '2018-04-30 11:25:52')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 68 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (38.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------
MovieTest: test_create
----------------------
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (2.4ms)[0m  SELECT `directors`.* FROM `directors`
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (2.2ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-30 11:25:52', '12425', 'A great movie', 375, 45.5, '2018-04-30 11:25:52', '2018-04-30 11:25:52')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 69, '2018-04-30 11:25:52', '2018-04-30 11:25:52')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 69, '2018-04-30 11:25:52', '2018-04-30 11:25:52')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 69, '2018-04-30 11:25:52', '2018-04-30 11:25:52')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 69, '2018-04-30 11:25:52', '2018-04-30 11:25:52')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 69, '2018-04-30 11:25:52', '2018-04-30 11:25:52')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (45.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.6ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-30 11:25:53', '2018-04-30 11:25:53')[0m
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-30 11:25:53', '2018-04-30 11:25:53')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1
  [1m[36mProducer Load (0.9ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1[0m
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-30 13:25:53 +0200
Processing by Admin::MovieController#new as HTML
  [1m[35mProducer Load (0.5ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (46.8ms)
  Rendered admin/movie/new.html.erb within layouts/application (51.9ms)
Completed 200 OK in 86ms (Views: 64.6ms | ActiveRecord: 1.4ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-30 13:25:53 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"32", "director_ids"=>["49"], "produced_at"=>"2018-04-30 13:25:53 +0200", "serial_number"=>"64214", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 49 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 32 LIMIT 1
  [1m[36mMovie Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '64214' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `price`, `length`, `created_at`, `updated_at`) VALUES ('A new Movie of Ruby', 32, '2018-04-30 11:25:53', '64214', 'A new Movie of Ruby', 45.5, 325, '2018-04-30 11:25:53', '2018-04-30 11:25:53')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (49, 70, '2018-04-30 11:25:53', '2018-04-30 11:25:53')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 32ms (ActiveRecord: 4.2ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-04-30 13:25:53 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (24.1ms)
Completed 200 OK in 30ms (Views: 26.9ms | ActiveRecord: 1.9ms)
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-30 13:25:53 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (19.5ms)
Completed 200 OK in 24ms (Views: 20.4ms | ActiveRecord: 2.2ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
Started GET "/admin/movie/index/?page=3" for 127.0.0.1 at 2018-04-30 13:25:53 +0200
Processing by Admin::MovieController#index as HTML
  Parameters: {"page"=>"3"}
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 10
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 32 LIMIT 1[0m
  Rendered admin/movie/index.html.erb within layouts/application (7.0ms)
Completed 200 OK in 11ms (Views: 8.5ms | ActiveRecord: 1.4ms)
  [1m[35mMovie Load (1.0ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'A new Movie of Ruby' LIMIT 1
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-30 13:25:53 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.4ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (18.8ms)
Completed 200 OK in 23ms (Views: 19.7ms | ActiveRecord: 1.9ms)
Started GET "/admin/movie/show/70" for 127.0.0.1 at 2018-04-30 13:25:53 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"70"}
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 70 LIMIT 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 32 LIMIT 1[0m
  [1m[35mDirector Load (1.0ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 70
  Rendered admin/movie/show.html.erb within layouts/application (11.5ms)
Completed 200 OK in 19ms (Views: 14.2ms | ActiveRecord: 2.3ms)
Started GET "/admin/movie/edit?id=70" for 127.0.0.1 at 2018-04-30 13:25:53 +0200
Processing by Admin::MovieController#edit as HTML
  Parameters: {"id"=>"70"}
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 70 LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (1.1ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 70[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (18.9ms)
  Rendered admin/movie/edit.html.erb within layouts/application (22.3ms)
Completed 200 OK in 30ms (Views: 24.7ms | ActiveRecord: 3.1ms)
Started POST "/admin/movie/update?id=70" for 127.0.0.1 at 2018-04-30 13:25:53 +0200
Processing by Admin::MovieController#update as HTML
  Parameters: {"movie"=>{"title"=>"A very new Movie of Ruby", "producer_id"=>"32", "director_ids"=>["49"], "produced_at"=>"2018-04-30 13:25:53 +0200", "serial_number"=>"43214", "blurb"=>"A very new Movie of Ruby", "length"=>"350", "price"=>"50"}, "id"=>"70"}
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 70 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 49 LIMIT 1[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 70
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 32 LIMIT 1[0m
  [1m[35mMovie Exists (0.9ms)[0m  SELECT  1 AS one FROM `movies` WHERE (`movies`.`serial_number` = BINARY '43214' AND `movies`.`id` != 70) LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `movies` SET `title` = 'A very new Movie of Ruby', `serial_number` = '43214', `blurb` = 'A very new Movie of Ruby', `price` = 50.0, `length` = 350, `updated_at` = '2018-04-30 11:25:53' WHERE `movies`.`id` = 70[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie/show/70
Completed 302 Found in 25ms (ActiveRecord: 5.3ms)
Started GET "/admin/movie/show/70" for 127.0.0.1 at 2018-04-30 13:25:53 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"70"}
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 70 LIMIT 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 32 LIMIT 1
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 70[0m
  Rendered admin/movie/show.html.erb within layouts/application (8.1ms)
Completed 200 OK in 14ms (Views: 9.8ms | ActiveRecord: 2.1ms)
Started POST "/admin/movie/destroy?id=70" for 127.0.0.1 at 2018-04-30 13:25:53 +0200
Processing by Admin::MovieController#destroy as HTML
  Parameters: {"id"=>"70"}
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 70 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`movie_id` = 70
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM `movies` WHERE `movies`.`id` = 70[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 9ms (ActiveRecord: 2.4ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-04-30 13:25:53 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (22.5ms)
Completed 200 OK in 27ms (Views: 23.7ms | ActiveRecord: 2.1ms)
  [1m[35m (123.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items`
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:25:53', '2018-04-30 11:25:53')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190979 AND `cart_items`.`movie_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190979, '2018-04-30 11:25:53', '2018-04-30 11:25:53')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 57ms (ActiveRecord: 7.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190979 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190979[0m
  [1m[35m (41.7ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:25:53', '2018-04-30 11:25:53')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.5ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190980 AND `cart_items`.`movie_id` = 4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190980, '2018-04-30 11:25:53', '2018-04-30 11:25:53')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 24ms (ActiveRecord: 4.6ms)
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 2 LIMIT 1[0m
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190980 LIMIT 1
  [1m[36mMovie Load (1.0ms)[0m  [1mSELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190980[0m
  [1m[35m (49.8ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:25:53', '2018-04-30 11:25:53')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190981 AND `cart_items`.`movie_id` = 4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190981, '2018-04-30 11:25:53', '2018-04-30 11:25:53')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 24ms (ActiveRecord: 4.7ms)
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.9ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190981 LIMIT 1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190981
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.7ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190981 LIMIT 1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mCartItem Load (0.9ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190981 AND `cart_items`.`movie_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1[0m
  [1m[35mCartItem Load (0.7ms)[0m  SELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 980190977 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190977
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 16ms (ActiveRecord: 4.6ms)
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190981 LIMIT 1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190981
  [1m[36m (49.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2018-04-30 13:25:54 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:25:54', '2018-04-30 11:25:54')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 0
  [1m[36mHABTM_Directors Load (0.8ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `movies`
  Rendered catalog/_movies.html.erb (42.2ms)
  Rendered catalog/index.html.erb within layouts/application (45.2ms)
  [1m[36mCartItem Load (0.6ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190982[0m
  Rendered cart/_cart.html.erb (4.5ms)
Completed 200 OK in 69ms (Views: 58.1ms | ActiveRecord: 4.8ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2018-04-30 13:25:54 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.8ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190982 LIMIT 1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Directors Load (1.0ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (5, 4, 3, 2, 1)
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (2, 1)[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (1)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  Rendered catalog/_movies.html.erb (28.2ms)
  Rendered catalog/index.html.erb within layouts/application (29.3ms)
  [1m[35mCartItem Load (0.7ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190982
  Rendered cart/_cart.html.erb (2.5ms)
Completed 200 OK in 38ms (Views: 30.6ms | ActiveRecord: 5.4ms)
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pro Rails E-Commerce' LIMIT 1[0m
  [1m[35mMovie Load (1.0ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pride and Prejudice'  ORDER BY `movies`.`id` ASC LIMIT 1
Started GET "/catalog/show/9" for 127.0.0.1 at 2018-04-30 13:25:54 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 9 LIMIT 1[0m
  [1m[35mDirector Load (1.1ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 2 LIMIT 1[0m
  Rendered catalog/show.html.erb within layouts/application (8.6ms)
Completed 200 OK in 15ms (Views: 10.7ms | ActiveRecord: 2.5ms)
  [1m[35mDirector Load (1.1ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9
Started GET "/catalog/latest" for 127.0.0.1 at 2018-04-30 13:25:54 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190982 LIMIT 1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5
  [1m[36mHABTM_Directors Load (0.9ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)[0m
  Rendered catalog/_movies.html.erb (28.8ms)
  Rendered catalog/latest.html.erb within layouts/application (29.9ms)
  [1m[35mCartItem Load (0.8ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190982
  Rendered cart/_cart.html.erb (2.7ms)
Completed 200 OK in 39ms (Views: 32.3ms | ActiveRecord: 4.9ms)
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5[0m
  [1m[35mHABTM_Directors Load (1.0ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)
  [1m[36m (58.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 12ms (Views: 11.1ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/director/_form.html.erb (5.2ms)
  Rendered admin/director/new.html.erb within layouts/application (9.0ms)
Completed 200 OK in 25ms (Views: 19.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.6ms)
  Rendered admin/director/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 5ms (Views: 4.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (18.3ms)[0m  [1mUPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-30 11:25:54' WHERE `directors`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 31ms (ActiveRecord: 19.8ms)
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (48.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/_form.html.erb (0.9ms)
  Rendered admin/director/edit.html.erb within layouts/application (5.3ms)
Completed 200 OK in 14ms (Views: 10.7ms | ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 9ms (Views: 6.6ms | ActiveRecord: 0.6ms)
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.7ms)
  Rendered admin/director/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[36m (0.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-30 11:25:54', '2018-04-30 11:25:54')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 8ms (Views: 5.3ms | ActiveRecord: 1.5ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (33.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (9.1ms)
  Rendered admin/director/index.html.erb within layouts/application (15.3ms)
Completed 200 OK in 21ms (Views: 19.5ms | ActiveRecord: 0.7ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `directors` WHERE `directors`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 8ms (ActiveRecord: 2.0ms)
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (7.8ms)
  Rendered admin/director/index.html.erb within layouts/application (10.8ms)
Completed 200 OK in 15ms (Views: 13.9ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (40.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (88.7ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-30', 45.0, '2018-04-30 11:27:04', '2018-04-30 11:27:04')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-30', 65.0, '2018-04-30 11:27:04', '2018-04-30 11:27:04')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-30', 85.0, '2018-04-30 11:27:04', '2018-04-30 11:27:04')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-30', 105.0, '2018-04-30 11:27:04', '2018-04-30 11:27:04')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-30', 125.0, '2018-04-30 11:27:04', '2018-04-30 11:27:04')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-30', 145.0, '2018-04-30 11:27:04', '2018-04-30 11:27:04')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-30', 165.0, '2018-04-30 11:27:04', '2018-04-30 11:27:04')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-30', 185.0, '2018-04-30 11:27:04', '2018-04-30 11:27:04')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-30', 40.0, '2018-04-30 11:27:04', '2018-04-30 11:27:04')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-30', 40.0, '2018-04-30 11:27:04', '2018-04-30 11:27:04')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-30 11:27:04', '2018-04-30 11:27:04')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-30 11:27:04', '2018-04-30 11:27:04')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-30 11:27:04', '2018-04-30 11:27:04')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-30 11:27:04', '2018-04-30 11:27:04')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-30 11:27:04', '2018-04-30 11:27:04')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-30 11:27:04', '2018-04-30 11:27:04')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-30 11:27:04', '2018-04-30 11:27:04')
  [1m[36mFixture Delete (83.9ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:27:04', '2018-04-30 13:27:04', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:27:04', '2018-04-30 13:27:04', 2, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:27:04', '2018-04-30 13:27:04', 2, 3)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:27:04', '2018-04-30 13:27:04', 2, 4)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:27:04', '2018-04-30 13:27:04', 2, 5)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:27:04', '2018-04-30 13:27:04', 2, 6)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:27:04', '2018-04-30 13:27:04', 2, 7)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:27:04', '2018-04-30 13:27:04', 3, 8)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:27:04', '2018-04-30 13:27:04', 4, 9)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:27:04', '2018-04-30 13:27:04', 5, 10)[0m
  [1m[35m (42.8ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.7ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-30 11:27:05', '2018-04-30 11:27:05')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-30 11:27:05', '2018-04-30 11:27:05')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1[0m
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-30 13:27:05 +0200
Processing by Admin::MovieController#new as HTML
  [1m[35mProducer Load (0.7ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (112.9ms)
  Rendered admin/movie/new.html.erb within layouts/application (125.2ms)
Completed 200 OK in 801ms (Views: 762.7ms | ActiveRecord: 2.7ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-30 13:27:06 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"33", "director_ids"=>["51"], "produced_at"=>"2018-04-30 13:27:05 +0200", "serial_number"=>"64214", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[35mDirector Load (0.9ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 51 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 33 LIMIT 1
  [1m[36mMovie Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '64214' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `price`, `length`, `created_at`, `updated_at`) VALUES ('A new Movie of Ruby', 33, '2018-04-30 11:27:05', '64214', 'A new Movie of Ruby', 45.5, 325, '2018-04-30 11:27:06', '2018-04-30 11:27:06')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (51, 71, '2018-04-30 11:27:06', '2018-04-30 11:27:06')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 64ms (ActiveRecord: 5.1ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-04-30 13:27:06 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (29.0ms)
Completed 200 OK in 36ms (Views: 31.7ms | ActiveRecord: 2.3ms)
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-30 13:27:06 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (24.5ms)
Completed 200 OK in 30ms (Views: 26.1ms | ActiveRecord: 2.2ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
Started GET "/admin/movie/index/?page=3" for 127.0.0.1 at 2018-04-30 13:27:06 +0200
Processing by Admin::MovieController#index as HTML
  Parameters: {"page"=>"3"}
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 10
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 33 LIMIT 1[0m
  Rendered admin/movie/index.html.erb within layouts/application (7.1ms)
Completed 200 OK in 11ms (Views: 8.6ms | ActiveRecord: 1.4ms)
  [1m[35mMovie Load (1.0ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'A new Movie of Ruby' LIMIT 1
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-30 13:27:06 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (53.1ms)
Completed 200 OK in 60ms (Views: 56.4ms | ActiveRecord: 2.0ms)
Started GET "/admin/movie/show/71" for 127.0.0.1 at 2018-04-30 13:27:06 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"71"}
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 71 LIMIT 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 33 LIMIT 1[0m
  [1m[35mDirector Load (1.1ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 71
  Rendered admin/movie/show.html.erb within layouts/application (18.4ms)
Completed 200 OK in 31ms (Views: 24.4ms | ActiveRecord: 2.5ms)
Started GET "/admin/movie/edit?id=71" for 127.0.0.1 at 2018-04-30 13:27:06 +0200
Processing by Admin::MovieController#edit as HTML
  Parameters: {"id"=>"71"}
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 71 LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (1.1ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 71[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (34.2ms)
  Rendered admin/movie/edit.html.erb within layouts/application (40.5ms)
Completed 200 OK in 51ms (Views: 44.0ms | ActiveRecord: 3.3ms)
Started POST "/admin/movie/update?id=71" for 127.0.0.1 at 2018-04-30 13:27:06 +0200
Processing by Admin::MovieController#update as HTML
  Parameters: {"movie"=>{"title"=>"A very new Movie of Ruby", "producer_id"=>"33", "director_ids"=>["51"], "produced_at"=>"2018-04-30 13:27:06 +0200", "serial_number"=>"43214", "blurb"=>"A very new Movie of Ruby", "length"=>"350", "price"=>"50"}, "id"=>"71"}
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 71 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 51 LIMIT 1[0m
  [1m[35mDirector Load (1.0ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 71
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 33 LIMIT 1[0m
  [1m[35mMovie Exists (1.0ms)[0m  SELECT  1 AS one FROM `movies` WHERE (`movies`.`serial_number` = BINARY '43214' AND `movies`.`id` != 71) LIMIT 1
  [1m[36mSQL (267.5ms)[0m  [1mUPDATE `movies` SET `title` = 'A very new Movie of Ruby', `produced_at` = '2018-04-30 11:27:06', `serial_number` = '43214', `blurb` = 'A very new Movie of Ruby', `price` = 50.0, `length` = 350, `updated_at` = '2018-04-30 11:27:06' WHERE `movies`.`id` = 71[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie/show/71
Completed 302 Found in 313ms (ActiveRecord: 272.5ms)
Started GET "/admin/movie/show/71" for 127.0.0.1 at 2018-04-30 13:27:06 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"71"}
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 71 LIMIT 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 33 LIMIT 1
  [1m[36mDirector Load (1.1ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 71[0m
  Rendered admin/movie/show.html.erb within layouts/application (11.9ms)
Completed 200 OK in 21ms (Views: 14.2ms | ActiveRecord: 2.4ms)
Started POST "/admin/movie/destroy?id=71" for 127.0.0.1 at 2018-04-30 13:27:06 +0200
Processing by Admin::MovieController#destroy as HTML
  Parameters: {"id"=>"71"}
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 71 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`movie_id` = 71
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM `movies` WHERE `movies`.`id` = 71[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 10ms (ActiveRecord: 2.5ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-04-30 13:27:06 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.9ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (38.4ms)
Completed 200 OK in 45ms (Views: 41.2ms | ActiveRecord: 2.2ms)
  [1m[35m (36.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `cart_items`
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:27:06', '2018-04-30 11:27:06')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190983 AND `cart_items`.`movie_id` = 4
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190983, '2018-04-30 11:27:06', '2018-04-30 11:27:06')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 80ms (ActiveRecord: 7.2ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
  [1m[35mCart Load (0.8ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190983 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190983[0m
  [1m[35m (40.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:27:07', '2018-04-30 11:27:07')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190984 AND `cart_items`.`movie_id` = 4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190984, '2018-04-30 11:27:07', '2018-04-30 11:27:07')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 24ms (ActiveRecord: 4.8ms)
  [1m[35mMovie Load (1.0ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190984 LIMIT 1[0m
  [1m[35mMovie Load (1.0ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190984
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.7ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190984 LIMIT 1[0m
  [1m[35mMovie Load (0.5ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mCartItem Load (0.7ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190984 AND `cart_items`.`movie_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1[0m
  [1m[35mCartItem Load (0.5ms)[0m  SELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 980190979 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190979
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 14ms (ActiveRecord: 3.8ms)
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190984 LIMIT 1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190984
  [1m[36m (81.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:27:07', '2018-04-30 11:27:07')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.5ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mMovie Load (0.5ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190985 AND `cart_items`.`movie_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190985, '2018-04-30 11:27:07', '2018-04-30 11:27:07')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 22ms (ActiveRecord: 4.1ms)
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.7ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190985 LIMIT 1
  [1m[36mMovie Load (1.1ms)[0m  [1mSELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190985[0m
  [1m[35mMovie Load (0.5ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 1 LIMIT 1
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190985 LIMIT 1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190985
  [1m[36m (49.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 13ms (Views: 12.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2018-04-30 13:27:07 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:27:07', '2018-04-30 11:27:07')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 0
  [1m[36mHABTM_Directors Load (0.8ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `movies`
  Rendered catalog/_movies.html.erb (48.0ms)
  Rendered catalog/index.html.erb within layouts/application (51.3ms)
  [1m[36mCartItem Load (0.8ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190986[0m
  Rendered cart/_cart.html.erb (5.2ms)
Completed 200 OK in 77ms (Views: 65.4ms | ActiveRecord: 5.1ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2018-04-30 13:27:07 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.8ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190986 LIMIT 1
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Directors Load (0.8ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (5, 4, 3, 2, 1)
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (2, 1)[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (1)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  Rendered catalog/_movies.html.erb (31.8ms)
  Rendered catalog/index.html.erb within layouts/application (33.2ms)
  [1m[35mCartItem Load (0.8ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190986
  Rendered cart/_cart.html.erb (2.9ms)
Completed 200 OK in 45ms (Views: 36.4ms | ActiveRecord: 5.5ms)
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pro Rails E-Commerce' LIMIT 1[0m
  [1m[35mMovie Load (1.0ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pride and Prejudice'  ORDER BY `movies`.`id` ASC LIMIT 1
Started GET "/catalog/show/9" for 127.0.0.1 at 2018-04-30 13:27:07 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 9 LIMIT 1[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 2 LIMIT 1[0m
  Rendered catalog/show.html.erb within layouts/application (8.8ms)
Completed 200 OK in 16ms (Views: 11.4ms | ActiveRecord: 2.2ms)
  [1m[35mDirector Load (1.0ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9
Started GET "/catalog/latest" for 127.0.0.1 at 2018-04-30 13:27:07 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190986 LIMIT 1[0m
  [1m[35mMovie Load (1.0ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5
  [1m[36mHABTM_Directors Load (1.1ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mDirector Load (1.0ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)[0m
  Rendered catalog/_movies.html.erb (31.2ms)
  Rendered catalog/latest.html.erb within layouts/application (32.4ms)
  [1m[35mCartItem Load (0.9ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190986
  Rendered cart/_cart.html.erb (2.9ms)
Completed 200 OK in 43ms (Views: 35.4ms | ActiveRecord: 5.3ms)
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5[0m
  [1m[35mHABTM_Directors Load (1.0ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)[0m
  [1m[35mProducer Load (0.9ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)
  [1m[36m (42.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------
MovieTest: test_create
----------------------
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT `directors`.* FROM `directors`
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-30 11:27:07', '12425', 'A great movie', 375, 45.5, '2018-04-30 11:27:07', '2018-04-30 11:27:07')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 72, '2018-04-30 11:27:07', '2018-04-30 11:27:07')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 72, '2018-04-30 11:27:07', '2018-04-30 11:27:07')
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 72, '2018-04-30 11:27:07', '2018-04-30 11:27:07')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 72, '2018-04-30 11:27:07', '2018-04-30 11:27:07')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 72, '2018-04-30 11:27:07', '2018-04-30 11:27:07')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (42.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[35mDirector Load (0.9ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35mProducer Load (0.9ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-30 11:27:07', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-30 11:27:07', '2018-04-30 11:27:07')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 73, '2018-04-30 11:27:07', '2018-04-30 11:27:07')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 73, '2018-04-30 11:27:07', '2018-04-30 11:27:07')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 73 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 73[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35m (51.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-30 11:27:07', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-30 11:27:07', '2018-04-30 11:27:07')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 74, '2018-04-30 11:27:07', '2018-04-30 11:27:07')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 74, '2018-04-30 11:27:07', '2018-04-30 11:27:07')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 74 LIMIT 1[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (49.7ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (4.9ms)
  Rendered admin/producer/index.html.erb within layouts/application (10.1ms)
Completed 200 OK in 22ms (Views: 20.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-30 11:27:08', '2018-04-30 11:27:08')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 10ms (ActiveRecord: 1.7ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (120.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (2.2ms)
  Rendered admin/producer/new.html.erb within layouts/application (7.1ms)
Completed 200 OK in 13ms (Views: 12.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/show.html.erb within layouts/application (2.5ms)
Completed 200 OK in 9ms (Views: 7.0ms | ActiveRecord: 0.6ms)
  [1m[35mProducer Exists (0.8ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.3ms)[0m  [1mDELETE FROM `producers` WHERE `producers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 6ms (ActiveRecord: 2.2ms)
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (2.2ms)
  Rendered admin/producer/index.html.erb within layouts/application (4.9ms)
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (34.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/_form.html.erb (0.4ms)
  Rendered admin/producer/edit.html.erb within layouts/application (3.8ms)
Completed 200 OK in 10ms (Views: 8.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.8ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-30 11:27:08' WHERE `producers`.`id` = 1[0m
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 12ms (ActiveRecord: 2.8ms)
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (39.8ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `directors` WHERE `directors`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 9ms (ActiveRecord: 2.5ms)
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (6.8ms)
  Rendered admin/director/index.html.erb within layouts/application (12.0ms)
Completed 200 OK in 25ms (Views: 23.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (157.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[35mDirector Load (1.0ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-30 11:27:08' WHERE `directors`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 11ms (ActiveRecord: 2.3ms)
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (34.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.9ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/show.html.erb within layouts/application (2.9ms)
Completed 200 OK in 11ms (Views: 8.4ms | ActiveRecord: 0.9ms)
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (7.1ms)
  Rendered admin/director/index.html.erb within layouts/application (9.9ms)
Completed 200 OK in 14ms (Views: 12.4ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (1.9ms)
  Rendered admin/director/new.html.erb within layouts/application (5.8ms)
Completed 200 OK in 10ms (Views: 9.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/director/_form.html.erb (4.6ms)
  Rendered admin/director/new.html.erb within layouts/application (6.1ms)
Completed 200 OK in 16ms (Views: 9.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.6ms)
  Rendered admin/director/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-30 11:27:08', '2018-04-30 11:27:08')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 9ms (Views: 5.0ms | ActiveRecord: 1.4ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (103.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (1.0ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/_form.html.erb (0.8ms)
  Rendered admin/director/edit.html.erb within layouts/application (5.1ms)
Completed 200 OK in 13ms (Views: 10.1ms | ActiveRecord: 1.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-30 11:27:08', '2018-04-30 11:27:08')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (39.4ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-30', 45.0, '2018-04-30 11:27:47', '2018-04-30 11:27:47')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-30', 65.0, '2018-04-30 11:27:47', '2018-04-30 11:27:47')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-30', 85.0, '2018-04-30 11:27:47', '2018-04-30 11:27:47')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-30', 105.0, '2018-04-30 11:27:47', '2018-04-30 11:27:47')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-30', 125.0, '2018-04-30 11:27:47', '2018-04-30 11:27:47')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-30', 145.0, '2018-04-30 11:27:47', '2018-04-30 11:27:47')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-30', 165.0, '2018-04-30 11:27:47', '2018-04-30 11:27:47')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-30', 185.0, '2018-04-30 11:27:47', '2018-04-30 11:27:47')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-30', 40.0, '2018-04-30 11:27:47', '2018-04-30 11:27:47')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-30', 40.0, '2018-04-30 11:27:47', '2018-04-30 11:27:47')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-30 11:27:47', '2018-04-30 11:27:47')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-30 11:27:47', '2018-04-30 11:27:47')
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-30 11:27:47', '2018-04-30 11:27:47')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-30 11:27:47', '2018-04-30 11:27:47')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-30 11:27:47', '2018-04-30 11:27:47')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-30 11:27:47', '2018-04-30 11:27:47')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-30 11:27:47', '2018-04-30 11:27:47')
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.9ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:27:47', '2018-04-30 13:27:47', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:27:47', '2018-04-30 13:27:47', 2, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:27:47', '2018-04-30 13:27:47', 2, 3)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:27:47', '2018-04-30 13:27:47', 2, 4)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:27:47', '2018-04-30 13:27:47', 2, 5)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:27:47', '2018-04-30 13:27:47', 2, 6)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:27:47', '2018-04-30 13:27:47', 2, 7)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:27:47', '2018-04-30 13:27:47', 3, 8)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:27:47', '2018-04-30 13:27:47', 4, 9)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:27:47', '2018-04-30 13:27:47', 5, 10)[0m
  [1m[35m (42.7ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-30 11:27:47' WHERE `directors`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 32ms (ActiveRecord: 1.9ms)
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.3ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (41.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM `directors` WHERE `directors`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 45ms (ActiveRecord: 3.5ms)
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (7.5ms)
  Rendered admin/director/index.html.erb within layouts/application (19.1ms)
Completed 200 OK in 683ms (Views: 681.4ms | ActiveRecord: 0.6ms)
  [1m[35m (1.3ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (54.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (8.5ms)
  Rendered admin/director/index.html.erb within layouts/application (11.7ms)
Completed 200 OK in 17ms (Views: 15.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (14.6ms)
  Rendered admin/director/new.html.erb within layouts/application (18.9ms)
Completed 200 OK in 25ms (Views: 23.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-30 11:27:48', '2018-04-30 11:27:48')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 9ms (Views: 23.9ms | ActiveRecord: 1.3ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (126.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/director/_form.html.erb (4.3ms)
  Rendered admin/director/new.html.erb within layouts/application (5.9ms)
Completed 200 OK in 41ms (Views: 9.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.8ms)
  Rendered admin/director/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 7ms (Views: 6.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/_form.html.erb (0.7ms)
  Rendered admin/director/edit.html.erb within layouts/application (4.5ms)
Completed 200 OK in 11ms (Views: 8.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (1.0ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 1.0ms)
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-30 11:27:48', '2018-04-30 11:27:48')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-30 11:27:48', '2018-04-30 11:27:48')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-30 13:27:48 +0200
Processing by Admin::MovieController#new as HTML
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (61.1ms)
  Rendered admin/movie/new.html.erb within layouts/application (65.8ms)
Completed 200 OK in 132ms (Views: 81.5ms | ActiveRecord: 1.1ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-30 13:27:48 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"35", "director_ids"=>["55"], "produced_at"=>"2018-04-30 13:27:48 +0200", "serial_number"=>"64214", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 55 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 35 LIMIT 1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '64214' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `price`, `length`, `created_at`, `updated_at`) VALUES ('A new Movie of Ruby', 35, '2018-04-30 11:27:48', '64214', 'A new Movie of Ruby', 45.5, 325, '2018-04-30 11:27:48', '2018-04-30 11:27:48')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (55, 75, '2018-04-30 11:27:48', '2018-04-30 11:27:48')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 65ms (ActiveRecord: 4.2ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-04-30 13:27:48 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (23.2ms)
Completed 200 OK in 29ms (Views: 25.1ms | ActiveRecord: 2.1ms)
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-30 13:27:48 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (20.3ms)
Completed 200 OK in 25ms (Views: 21.5ms | ActiveRecord: 2.2ms)
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies`
Started GET "/admin/movie/index/?page=3" for 127.0.0.1 at 2018-04-30 13:27:49 +0200
Processing by Admin::MovieController#index as HTML
  Parameters: {"page"=>"3"}
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 10[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 35 LIMIT 1
  Rendered admin/movie/index.html.erb within layouts/application (6.5ms)
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 1.6ms)
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'A new Movie of Ruby' LIMIT 1[0m
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-30 13:27:49 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (18.9ms)
Completed 200 OK in 23ms (Views: 19.5ms | ActiveRecord: 2.1ms)
Started GET "/admin/movie/show/75" for 127.0.0.1 at 2018-04-30 13:27:49 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"75"}
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 75 LIMIT 1[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 35 LIMIT 1
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 75[0m
  Rendered admin/movie/show.html.erb within layouts/application (12.0ms)
Completed 200 OK in 19ms (Views: 13.9ms | ActiveRecord: 2.3ms)
Started GET "/admin/movie/edit?id=75" for 127.0.0.1 at 2018-04-30 13:27:49 +0200
Processing by Admin::MovieController#edit as HTML
  Parameters: {"id"=>"75"}
  [1m[35mMovie Load (1.0ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 75 LIMIT 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (1.1ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 75
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (17.7ms)
  Rendered admin/movie/edit.html.erb within layouts/application (21.1ms)
Completed 200 OK in 29ms (Views: 23.0ms | ActiveRecord: 3.2ms)
Started POST "/admin/movie/update?id=75" for 127.0.0.1 at 2018-04-30 13:27:49 +0200
Processing by Admin::MovieController#update as HTML
  Parameters: {"movie"=>{"title"=>"A very new Movie of Ruby", "producer_id"=>"35", "director_ids"=>["55"], "produced_at"=>"2018-04-30 13:27:49 +0200", "serial_number"=>"43214", "blurb"=>"A very new Movie of Ruby", "length"=>"350", "price"=>"50"}, "id"=>"75"}
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 75 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 55 LIMIT 1
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 75[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 35 LIMIT 1
  [1m[36mMovie Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE (`movies`.`serial_number` = BINARY '43214' AND `movies`.`id` != 75) LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `movies` SET `title` = 'A very new Movie of Ruby', `produced_at` = '2018-04-30 11:27:49', `serial_number` = '43214', `blurb` = 'A very new Movie of Ruby', `price` = 50.0, `length` = 350, `updated_at` = '2018-04-30 11:27:49' WHERE `movies`.`id` = 75
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/movie/show/75
Completed 302 Found in 25ms (ActiveRecord: 5.0ms)
Started GET "/admin/movie/show/75" for 127.0.0.1 at 2018-04-30 13:27:49 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"75"}
  [1m[35mMovie Load (1.2ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 75 LIMIT 1
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 35 LIMIT 1[0m
  [1m[35mDirector Load (1.0ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 75
  Rendered admin/movie/show.html.erb within layouts/application (8.5ms)
Completed 200 OK in 15ms (Views: 10.3ms | ActiveRecord: 2.9ms)
Started POST "/admin/movie/destroy?id=75" for 127.0.0.1 at 2018-04-30 13:27:49 +0200
Processing by Admin::MovieController#destroy as HTML
  Parameters: {"id"=>"75"}
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 75 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `directors_movies` WHERE `directors_movies`.`movie_id` = 75[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `movies` WHERE `movies`.`id` = 75
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 8ms (ActiveRecord: 2.1ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-04-30 13:27:49 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (18.3ms)
Completed 200 OK in 23ms (Views: 19.1ms | ActiveRecord: 2.2ms)
  [1m[36m (77.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 13ms (Views: 12.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------
MovieTest: test_create
----------------------
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT `directors`.* FROM `directors`
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-30 11:27:49', '12425', 'A great movie', 375, 45.5, '2018-04-30 11:27:49', '2018-04-30 11:27:49')
  [1m[36mSQL (84.4ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 76, '2018-04-30 11:27:49', '2018-04-30 11:27:49')[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 76, '2018-04-30 11:27:49', '2018-04-30 11:27:49')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 76, '2018-04-30 11:27:49', '2018-04-30 11:27:49')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 76, '2018-04-30 11:27:49', '2018-04-30 11:27:49')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 76, '2018-04-30 11:27:49', '2018-04-30 11:27:49')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (71.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[36mDirector Load (1.0ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.7ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-30 11:27:49', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-30 11:27:49', '2018-04-30 11:27:49')[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 77, '2018-04-30 11:27:49', '2018-04-30 11:27:49')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 77, '2018-04-30 11:27:49', '2018-04-30 11:27:49')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 77 LIMIT 1[0m
  [1m[35m (1.1ms)[0m  SELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 77
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1
  [1m[36m (47.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-30 11:27:49', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-30 11:27:49', '2018-04-30 11:27:49')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 78, '2018-04-30 11:27:49', '2018-04-30 11:27:49')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 78, '2018-04-30 11:27:49', '2018-04-30 11:27:49')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 78 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (48.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2018-04-30 13:27:49 +0200
Processing by CatalogController#index as HTML
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:27:49', '2018-04-30 11:27:49')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Directors Load (0.8ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  Rendered catalog/_movies.html.erb (46.8ms)
  Rendered catalog/index.html.erb within layouts/application (50.0ms)
  [1m[35mCartItem Load (0.9ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190987
  Rendered cart/_cart.html.erb (15.0ms)
Completed 200 OK in 102ms (Views: 73.7ms | ActiveRecord: 8.3ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2018-04-30 13:27:49 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mCart Load (1.1ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190987 LIMIT 1[0m
  [1m[35mMovie Load (1.0ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 5
  [1m[36mHABTM_Directors Load (0.8ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (5, 4, 3, 2, 1)[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (2, 1)
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (1)[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `movies`
  Rendered catalog/_movies.html.erb (32.1ms)
  Rendered catalog/index.html.erb within layouts/application (33.5ms)
  [1m[36mCartItem Load (0.6ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190987[0m
  Rendered cart/_cart.html.erb (2.6ms)
Completed 200 OK in 44ms (Views: 35.2ms | ActiveRecord: 5.6ms)
  [1m[35mMovie Load (1.0ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pro Rails E-Commerce' LIMIT 1
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pride and Prejudice'  ORDER BY `movies`.`id` ASC LIMIT 1[0m
Started GET "/catalog/show/9" for 127.0.0.1 at 2018-04-30 13:27:50 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 9 LIMIT 1
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 2 LIMIT 1
  Rendered catalog/show.html.erb within layouts/application (8.7ms)
Completed 200 OK in 16ms (Views: 11.5ms | ActiveRecord: 2.3ms)
  [1m[36mDirector Load (1.0ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9[0m
Started GET "/catalog/latest" for 127.0.0.1 at 2018-04-30 13:27:50 +0200
Processing by CatalogController#latest as HTML
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190987 LIMIT 1
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5[0m
  [1m[35mHABTM_Directors Load (0.9ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)[0m
  [1m[35mProducer Load (0.9ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)
  Rendered catalog/_movies.html.erb (29.9ms)
  Rendered catalog/latest.html.erb within layouts/application (31.1ms)
  [1m[36mCartItem Load (1.0ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190987[0m
  Rendered cart/_cart.html.erb (2.9ms)
Completed 200 OK in 42ms (Views: 34.2ms | ActiveRecord: 5.0ms)
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5
  [1m[36mHABTM_Directors Load (0.9ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)[0m
  [1m[35m (103.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:27:50', '2018-04-30 11:27:50')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190988 AND `cart_items`.`movie_id` = 4[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190988, '2018-04-30 11:27:50', '2018-04-30 11:27:50')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 39ms (ActiveRecord: 5.3ms)
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190988 LIMIT 1[0m
  [1m[35mMovie Load (1.0ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190988
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.7ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190988 LIMIT 1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mCartItem Load (0.8ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190988 AND `cart_items`.`movie_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1[0m
  [1m[35mCartItem Load (0.7ms)[0m  SELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 980190981 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190981
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 16ms (ActiveRecord: 4.5ms)
  [1m[36mCart Load (0.8ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190988 LIMIT 1[0m
  [1m[35mMovie Load (1.0ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190988
  [1m[36m (46.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:27:50', '2018-04-30 11:27:50')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mMovie Load (0.5ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190989 AND `cart_items`.`movie_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190989, '2018-04-30 11:27:50', '2018-04-30 11:27:50')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 23ms (ActiveRecord: 4.4ms)
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.9ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190989 LIMIT 1
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190989[0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"1"}
  [1m[35mCart Load (0.7ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190989 LIMIT 1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 1 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190989 AND `cart_items`.`movie_id` = 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (1, 1, 45.0, 980190989, '2018-04-30 11:27:50', '2018-04-30 11:27:50')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 1 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 19ms (ActiveRecord: 4.5ms)
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 1 LIMIT 1
  [1m[36mCart Load (0.7ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190989 LIMIT 1[0m
  [1m[35mMovie Load (1.1ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190989
  [1m[36m (46.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:27:50', '2018-04-30 11:27:50')[0m
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190990 AND `cart_items`.`movie_id` = 4[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190990, '2018-04-30 11:27:50', '2018-04-30 11:27:50')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 29ms (ActiveRecord: 6.0ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `cart_items`
  [1m[36mCart Load (0.7ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190990 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190990
  [1m[36m (78.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-30 11:27:50', '2018-04-30 11:27:50')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (43.4ms)[0m  ROLLBACK
  [1m[36m (0.7ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/_form.html.erb (1.8ms)
  Rendered admin/producer/edit.html.erb within layouts/application (6.8ms)
Completed 200 OK in 20ms (Views: 18.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (4.8ms)
  Rendered admin/producer/index.html.erb within layouts/application (9.5ms)
Completed 200 OK in 14ms (Views: 13.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (0.5ms)
  Rendered admin/producer/new.html.erb within layouts/application (3.6ms)
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.6ms)[0m  [1mDELETE FROM `producers` WHERE `producers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 7ms (ActiveRecord: 2.6ms)
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (1.0ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (2.0ms)
  Rendered admin/producer/index.html.erb within layouts/application (4.9ms)
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 1.0ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (41.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-30 11:27:50', '2018-04-30 11:27:50')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 13ms (ActiveRecord: 2.0ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (41.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/show.html.erb within layouts/application (3.4ms)
Completed 200 OK in 11ms (Views: 8.6ms | ActiveRecord: 0.8ms)
  [1m[35mProducer Exists (0.8ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.7ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-30 11:27:50' WHERE `producers`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 12ms (ActiveRecord: 2.7ms)
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (45.5ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (117.2ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-30', 45.0, '2018-04-30 11:28:25', '2018-04-30 11:28:25')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-30', 65.0, '2018-04-30 11:28:25', '2018-04-30 11:28:25')[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-30', 85.0, '2018-04-30 11:28:25', '2018-04-30 11:28:25')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-30', 105.0, '2018-04-30 11:28:25', '2018-04-30 11:28:25')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-30', 125.0, '2018-04-30 11:28:25', '2018-04-30 11:28:25')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-30', 145.0, '2018-04-30 11:28:25', '2018-04-30 11:28:25')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-30', 165.0, '2018-04-30 11:28:25', '2018-04-30 11:28:25')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-30', 185.0, '2018-04-30 11:28:25', '2018-04-30 11:28:25')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-30', 40.0, '2018-04-30 11:28:25', '2018-04-30 11:28:25')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-30', 40.0, '2018-04-30 11:28:25', '2018-04-30 11:28:25')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-30 11:28:25', '2018-04-30 11:28:25')[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-30 11:28:25', '2018-04-30 11:28:25')
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-30 11:28:25', '2018-04-30 11:28:25')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-30 11:28:25', '2018-04-30 11:28:25')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-30 11:28:25', '2018-04-30 11:28:25')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-30 11:28:25', '2018-04-30 11:28:25')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-30 11:28:25', '2018-04-30 11:28:25')
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:28:25', '2018-04-30 13:28:25', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:28:25', '2018-04-30 13:28:25', 2, 2)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:28:25', '2018-04-30 13:28:25', 2, 3)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:28:25', '2018-04-30 13:28:25', 2, 4)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:28:25', '2018-04-30 13:28:25', 2, 5)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:28:25', '2018-04-30 13:28:25', 2, 6)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:28:25', '2018-04-30 13:28:25', 2, 7)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:28:25', '2018-04-30 13:28:25', 3, 8)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:28:25', '2018-04-30 13:28:25', 4, 9)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:28:25', '2018-04-30 13:28:25', 5, 10)[0m
  [1m[35m (34.5ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.6ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-30 11:28:26', '2018-04-30 11:28:26')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-30 11:28:26', '2018-04-30 11:28:26')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1[0m
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-30 13:28:26 +0200
Processing by Admin::MovieController#new as HTML
  [1m[35mProducer Load (0.5ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (132.3ms)
  Rendered admin/movie/new.html.erb within layouts/application (147.8ms)
Completed 200 OK in 850ms (Views: 811.1ms | ActiveRecord: 2.9ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-30 13:28:27 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"37", "director_ids"=>["57"], "produced_at"=>"2018-04-30 13:28:26 +0200", "serial_number"=>"64214", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[35mDirector Load (0.8ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 57 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 37 LIMIT 1
  [1m[36mMovie Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '64214' LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `price`, `length`, `created_at`, `updated_at`) VALUES ('A new Movie of Ruby', 37, '2018-04-30 11:28:26', '64214', 'A new Movie of Ruby', 45.5, 325, '2018-04-30 11:28:27', '2018-04-30 11:28:27')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (57, 79, '2018-04-30 11:28:27', '2018-04-30 11:28:27')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 65ms (ActiveRecord: 5.3ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-04-30 13:28:27 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (27.6ms)
Completed 200 OK in 34ms (Views: 30.3ms | ActiveRecord: 2.2ms)
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-30 13:28:27 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (23.5ms)
Completed 200 OK in 29ms (Views: 24.9ms | ActiveRecord: 2.4ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
Started GET "/admin/movie/index/?page=3" for 127.0.0.1 at 2018-04-30 13:28:27 +0200
Processing by Admin::MovieController#index as HTML
  Parameters: {"page"=>"3"}
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 10
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 37 LIMIT 1[0m
  Rendered admin/movie/index.html.erb within layouts/application (7.0ms)
Completed 200 OK in 11ms (Views: 8.7ms | ActiveRecord: 1.3ms)
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'A new Movie of Ruby' LIMIT 1
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-30 13:28:27 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (54.3ms)
Completed 200 OK in 61ms (Views: 57.3ms | ActiveRecord: 2.4ms)
Started GET "/admin/movie/show/79" for 127.0.0.1 at 2018-04-30 13:28:27 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"79"}
  [1m[35mMovie Load (1.0ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 79 LIMIT 1
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 37 LIMIT 1[0m
  [1m[35mDirector Load (1.1ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 79
  Rendered admin/movie/show.html.erb within layouts/application (19.7ms)
Completed 200 OK in 31ms (Views: 24.5ms | ActiveRecord: 2.8ms)
Started GET "/admin/movie/edit?id=79" for 127.0.0.1 at 2018-04-30 13:28:27 +0200
Processing by Admin::MovieController#edit as HTML
  Parameters: {"id"=>"79"}
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 79 LIMIT 1[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (1.1ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 79[0m
  [1m[35mDirector Load (1.8ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (35.7ms)
  Rendered admin/movie/edit.html.erb within layouts/application (41.8ms)
Completed 200 OK in 54ms (Views: 46.3ms | ActiveRecord: 4.3ms)
Started POST "/admin/movie/update?id=79" for 127.0.0.1 at 2018-04-30 13:28:27 +0200
Processing by Admin::MovieController#update as HTML
  Parameters: {"movie"=>{"title"=>"A very new Movie of Ruby", "producer_id"=>"37", "director_ids"=>["57"], "produced_at"=>"2018-04-30 13:28:27 +0200", "serial_number"=>"43214", "blurb"=>"A very new Movie of Ruby", "length"=>"350", "price"=>"50"}, "id"=>"79"}
  [1m[36mMovie Load (1.0ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 79 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 57 LIMIT 1[0m
  [1m[35mDirector Load (1.0ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 79
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 37 LIMIT 1[0m
  [1m[35mMovie Exists (1.0ms)[0m  SELECT  1 AS one FROM `movies` WHERE (`movies`.`serial_number` = BINARY '43214' AND `movies`.`id` != 79) LIMIT 1
  [1m[36mSQL (94.2ms)[0m  [1mUPDATE `movies` SET `title` = 'A very new Movie of Ruby', `produced_at` = '2018-04-30 11:28:27', `serial_number` = '43214', `blurb` = 'A very new Movie of Ruby', `price` = 50.0, `length` = 350, `updated_at` = '2018-04-30 11:28:27' WHERE `movies`.`id` = 79[0m
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie/show/79
Completed 302 Found in 139ms (ActiveRecord: 99.6ms)
Started GET "/admin/movie/show/79" for 127.0.0.1 at 2018-04-30 13:28:27 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"79"}
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 79 LIMIT 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 37 LIMIT 1
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 79[0m
  Rendered admin/movie/show.html.erb within layouts/application (12.1ms)
Completed 200 OK in 22ms (Views: 17.1ms | ActiveRecord: 2.3ms)
Started POST "/admin/movie/destroy?id=79" for 127.0.0.1 at 2018-04-30 13:28:27 +0200
Processing by Admin::MovieController#destroy as HTML
  Parameters: {"id"=>"79"}
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 79 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`movie_id` = 79
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM `movies` WHERE `movies`.`id` = 79[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 14ms (ActiveRecord: 2.9ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-04-30 13:28:27 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (36.0ms)
Completed 200 OK in 47ms (Views: 42.5ms | ActiveRecord: 1.8ms)
  [1m[35m (86.7ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[35mDirector Load (0.9ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35mProducer Load (0.9ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-30 11:28:27', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-30 11:28:27', '2018-04-30 11:28:27')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 80, '2018-04-30 11:28:27', '2018-04-30 11:28:27')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 80, '2018-04-30 11:28:27', '2018-04-30 11:28:27')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 80 LIMIT 1
  [1m[36m (1.2ms)[0m  [1mSELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 80[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35m (58.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------
MovieTest: test_create
----------------------
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.8ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-30 11:28:27', '12425', 'A great movie', 375, 45.5, '2018-04-30 11:28:27', '2018-04-30 11:28:27')[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 81, '2018-04-30 11:28:27', '2018-04-30 11:28:27')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 81, '2018-04-30 11:28:27', '2018-04-30 11:28:27')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 81, '2018-04-30 11:28:27', '2018-04-30 11:28:27')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 81, '2018-04-30 11:28:27', '2018-04-30 11:28:27')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 81, '2018-04-30 11:28:27', '2018-04-30 11:28:27')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (117.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-30 11:28:28', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-30 11:28:28', '2018-04-30 11:28:28')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 82, '2018-04-30 11:28:28', '2018-04-30 11:28:28')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 82, '2018-04-30 11:28:28', '2018-04-30 11:28:28')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 82 LIMIT 1[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (30.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 14ms (Views: 14.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (2.5ms)
  Rendered admin/producer/new.html.erb within layouts/application (6.8ms)
Completed 200 OK in 20ms (Views: 19.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-30 11:28:28', '2018-04-30 11:28:28')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 11ms (ActiveRecord: 1.7ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (119.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (1.2ms)[0m  UPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-30 11:28:28' WHERE `producers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 15ms (ActiveRecord: 3.3ms)
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (79.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.9ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/_form.html.erb (0.6ms)
  Rendered admin/producer/edit.html.erb within layouts/application (4.3ms)
Completed 200 OK in 12ms (Views: 9.1ms | ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (4.9ms)
  Rendered admin/producer/index.html.erb within layouts/application (9.4ms)
Completed 200 OK in 14ms (Views: 12.8ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  DELETE FROM `producers` WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 6ms (ActiveRecord: 2.3ms)
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (2.5ms)
  Rendered admin/producer/index.html.erb within layouts/application (5.2ms)
Completed 200 OK in 9ms (Views: 8.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (44.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/show.html.erb within layouts/application (3.3ms)
Completed 200 OK in 11ms (Views: 8.7ms | ActiveRecord: 0.8ms)
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:28:28', '2018-04-30 11:28:28')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.5ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190991 AND `cart_items`.`movie_id` = 4
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190991, '2018-04-30 11:28:28', '2018-04-30 11:28:28')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 67ms (ActiveRecord: 7.4ms)
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.7ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190991 LIMIT 1
  [1m[36mMovie Load (1.0ms)[0m  [1mSELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190991[0m
Processing by CartController#clear as HTML
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190991 LIMIT 1
  [1m[36mCartItem Load (0.8ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190991[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190985[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 9ms (ActiveRecord: 2.5ms)
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190991 LIMIT 1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190991
  [1m[36m (119.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:28:28', '2018-04-30 11:28:28')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190992 AND `cart_items`.`movie_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190992, '2018-04-30 11:28:28', '2018-04-30 11:28:28')
  [1m[36m (0.7ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 30ms (ActiveRecord: 6.1ms)
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (1.1ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190992 LIMIT 1
  [1m[36mMovie Load (1.1ms)[0m  [1mSELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190992[0m
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[35mCart Load (0.7ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190992 LIMIT 1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.7ms)[0m  SELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190992 AND `cart_items`.`movie_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1
  [1m[36mCartItem Load (0.7ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 980190986 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190986[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.5ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 16ms (ActiveRecord: 4.2ms)
  [1m[35mCart Load (0.7ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190992 LIMIT 1
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190992[0m
  [1m[35m (42.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `cart_items`
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:28:29', '2018-04-30 11:28:29')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.5ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190993 AND `cart_items`.`movie_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190993, '2018-04-30 11:28:29', '2018-04-30 11:28:29')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (1.1ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 25ms (ActiveRecord: 5.0ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190993 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190993[0m
  [1m[35m (92.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2018-04-30 13:28:29 +0200
Processing by CatalogController#index as HTML
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:28:29', '2018-04-30 11:28:29')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Directors Load (0.9ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  Rendered catalog/_movies.html.erb (58.3ms)
  Rendered catalog/index.html.erb within layouts/application (61.7ms)
  [1m[35mCartItem Load (0.7ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190994
  Rendered cart/_cart.html.erb (4.8ms)
Completed 200 OK in 90ms (Views: 78.4ms | ActiveRecord: 5.5ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2018-04-30 13:28:29 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mCart Load (0.7ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190994 LIMIT 1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 5
  [1m[36mHABTM_Directors Load (0.9ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (5, 4, 3, 2, 1)[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (2, 1)
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (1)[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `movies`
  Rendered catalog/_movies.html.erb (35.4ms)
  Rendered catalog/index.html.erb within layouts/application (36.6ms)
  [1m[36mCartItem Load (0.7ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190994[0m
  Rendered cart/_cart.html.erb (3.0ms)
Completed 200 OK in 48ms (Views: 39.4ms | ActiveRecord: 5.0ms)
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pro Rails E-Commerce' LIMIT 1
  [1m[36mMovie Load (1.1ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pride and Prejudice'  ORDER BY `movies`.`id` ASC LIMIT 1[0m
Started GET "/catalog/show/9" for 127.0.0.1 at 2018-04-30 13:28:29 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 9 LIMIT 1
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 2 LIMIT 1
  Rendered catalog/show.html.erb within layouts/application (8.8ms)
Completed 200 OK in 16ms (Views: 12.0ms | ActiveRecord: 2.0ms)
  [1m[36mDirector Load (1.0ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9[0m
Started GET "/catalog/latest" for 127.0.0.1 at 2018-04-30 13:28:29 +0200
Processing by CatalogController#latest as HTML
  [1m[35mCart Load (0.8ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190994 LIMIT 1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5[0m
  [1m[35mHABTM_Directors Load (1.1ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)
  Rendered catalog/_movies.html.erb (32.7ms)
  Rendered catalog/latest.html.erb within layouts/application (33.9ms)
  [1m[36mCartItem Load (0.8ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190994[0m
  Rendered cart/_cart.html.erb (2.9ms)
Completed 200 OK in 45ms (Views: 37.3ms | ActiveRecord: 5.1ms)
  [1m[35mMovie Load (1.0ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5
  [1m[36mHABTM_Directors Load (1.0ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)[0m
  [1m[35m (98.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-30 11:28:29', '2018-04-30 11:28:29')[0m
  [1m[35m (1.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (43.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (1.9ms)
  Rendered admin/director/new.html.erb within layouts/application (5.7ms)
Completed 200 OK in 17ms (Views: 16.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/show.html.erb within layouts/application (2.3ms)
Completed 200 OK in 10ms (Views: 6.7ms | ActiveRecord: 0.7ms)
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.7ms)
  Rendered admin/director/new.html.erb within layouts/application (2.2ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-30 11:28:29', '2018-04-30 11:28:29')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 7ms (Views: 5.0ms | ActiveRecord: 1.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (49.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/director/_form.html.erb (4.8ms)
  Rendered admin/director/new.html.erb within layouts/application (6.3ms)
Completed 200 OK in 16ms (Views: 9.2ms | ActiveRecord: 0.6ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `directors` WHERE `directors`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 7ms (ActiveRecord: 2.0ms)
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (8.7ms)
  Rendered admin/director/index.html.erb within layouts/application (13.9ms)
Completed 200 OK in 19ms (Views: 18.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (41.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[35mDirector Load (0.8ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-30 11:28:29' WHERE `directors`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 10ms (ActiveRecord: 2.2ms)
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (46.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/_form.html.erb (1.0ms)
  Rendered admin/director/edit.html.erb within layouts/application (6.0ms)
Completed 200 OK in 13ms (Views: 10.8ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (8.3ms)
  Rendered admin/director/index.html.erb within layouts/application (11.5ms)
Completed 200 OK in 15ms (Views: 14.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (110.2ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-30', 45.0, '2018-04-30 11:29:07', '2018-04-30 11:29:07')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-30', 65.0, '2018-04-30 11:29:07', '2018-04-30 11:29:07')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-30', 85.0, '2018-04-30 11:29:07', '2018-04-30 11:29:07')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-30', 105.0, '2018-04-30 11:29:07', '2018-04-30 11:29:07')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-30', 125.0, '2018-04-30 11:29:07', '2018-04-30 11:29:07')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-30', 145.0, '2018-04-30 11:29:07', '2018-04-30 11:29:07')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-30', 165.0, '2018-04-30 11:29:07', '2018-04-30 11:29:07')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-30', 185.0, '2018-04-30 11:29:07', '2018-04-30 11:29:07')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-30', 40.0, '2018-04-30 11:29:07', '2018-04-30 11:29:07')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-30', 40.0, '2018-04-30 11:29:07', '2018-04-30 11:29:07')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-30 11:29:07', '2018-04-30 11:29:07')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-30 11:29:07', '2018-04-30 11:29:07')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-30 11:29:07', '2018-04-30 11:29:07')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-30 11:29:07', '2018-04-30 11:29:07')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-30 11:29:07', '2018-04-30 11:29:07')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-30 11:29:07', '2018-04-30 11:29:07')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-30 11:29:07', '2018-04-30 11:29:07')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:29:07', '2018-04-30 13:29:07', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:29:07', '2018-04-30 13:29:07', 2, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:29:07', '2018-04-30 13:29:07', 2, 3)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:29:07', '2018-04-30 13:29:07', 2, 4)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:29:07', '2018-04-30 13:29:07', 2, 5)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:29:07', '2018-04-30 13:29:07', 2, 6)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:29:07', '2018-04-30 13:29:07', 2, 7)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:29:07', '2018-04-30 13:29:07', 3, 8)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:29:07', '2018-04-30 13:29:07', 4, 9)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:29:07', '2018-04-30 13:29:07', 5, 10)[0m
  [1m[35m (42.8ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.7ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-30 11:29:07', '2018-04-30 11:29:07')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-30 11:29:07', '2018-04-30 11:29:07')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1[0m
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-30 13:29:07 +0200
Processing by Admin::MovieController#new as HTML
  [1m[35mProducer Load (0.5ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (110.1ms)
  Rendered admin/movie/new.html.erb within layouts/application (121.7ms)
Completed 200 OK in 801ms (Views: 763.1ms | ActiveRecord: 2.4ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-30 13:29:08 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"39", "director_ids"=>["60"], "produced_at"=>"2018-04-30 13:29:07 +0200", "serial_number"=>"64214", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[35mDirector Load (0.9ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 60 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 39 LIMIT 1
  [1m[36mMovie Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '64214' LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `price`, `length`, `created_at`, `updated_at`) VALUES ('A new Movie of Ruby', 39, '2018-04-30 11:29:07', '64214', 'A new Movie of Ruby', 45.5, 325, '2018-04-30 11:29:08', '2018-04-30 11:29:08')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (60, 83, '2018-04-30 11:29:08', '2018-04-30 11:29:08')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 65ms (ActiveRecord: 5.5ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-04-30 13:29:08 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (27.7ms)
Completed 200 OK in 35ms (Views: 30.4ms | ActiveRecord: 2.5ms)
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-30 13:29:08 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (23.6ms)
Completed 200 OK in 29ms (Views: 24.9ms | ActiveRecord: 2.2ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
Started GET "/admin/movie/index/?page=3" for 127.0.0.1 at 2018-04-30 13:29:08 +0200
Processing by Admin::MovieController#index as HTML
  Parameters: {"page"=>"3"}
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 10
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 39 LIMIT 1[0m
  Rendered admin/movie/index.html.erb within layouts/application (7.8ms)
Completed 200 OK in 12ms (Views: 9.5ms | ActiveRecord: 1.4ms)
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'A new Movie of Ruby' LIMIT 1
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-30 13:29:08 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (24.1ms)
Completed 200 OK in 32ms (Views: 29.0ms | ActiveRecord: 1.9ms)
Started GET "/admin/movie/show/83" for 127.0.0.1 at 2018-04-30 13:29:08 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"83"}
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 83 LIMIT 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 39 LIMIT 1[0m
  [1m[35mDirector Load (1.1ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 83
  Rendered admin/movie/show.html.erb within layouts/application (19.8ms)
Completed 200 OK in 32ms (Views: 24.8ms | ActiveRecord: 2.7ms)
Started GET "/admin/movie/edit?id=83" for 127.0.0.1 at 2018-04-30 13:29:08 +0200
Processing by Admin::MovieController#edit as HTML
  Parameters: {"id"=>"83"}
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 83 LIMIT 1[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (1.0ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 83[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (36.8ms)
  Rendered admin/movie/edit.html.erb within layouts/application (42.7ms)
Completed 200 OK in 54ms (Views: 48.3ms | ActiveRecord: 3.1ms)
Started POST "/admin/movie/update?id=83" for 127.0.0.1 at 2018-04-30 13:29:08 +0200
Processing by Admin::MovieController#update as HTML
  Parameters: {"movie"=>{"title"=>"A very new Movie of Ruby", "producer_id"=>"39", "director_ids"=>["60"], "produced_at"=>"2018-04-30 13:29:08 +0200", "serial_number"=>"43214", "blurb"=>"A very new Movie of Ruby", "length"=>"350", "price"=>"50"}, "id"=>"83"}
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 83 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 60 LIMIT 1[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 83
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 39 LIMIT 1[0m
  [1m[35mMovie Exists (0.9ms)[0m  SELECT  1 AS one FROM `movies` WHERE (`movies`.`serial_number` = BINARY '43214' AND `movies`.`id` != 83) LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mUPDATE `movies` SET `title` = 'A very new Movie of Ruby', `produced_at` = '2018-04-30 11:29:08', `serial_number` = '43214', `blurb` = 'A very new Movie of Ruby', `price` = 50.0, `length` = 350, `updated_at` = '2018-04-30 11:29:08' WHERE `movies`.`id` = 83[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie/show/83
Completed 302 Found in 38ms (ActiveRecord: 5.4ms)
Started GET "/admin/movie/show/83" for 127.0.0.1 at 2018-04-30 13:29:08 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"83"}
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 83 LIMIT 1[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 39 LIMIT 1
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 83[0m
  Rendered admin/movie/show.html.erb within layouts/application (11.6ms)
Completed 200 OK in 22ms (Views: 17.9ms | ActiveRecord: 2.3ms)
Started POST "/admin/movie/destroy?id=83" for 127.0.0.1 at 2018-04-30 13:29:08 +0200
Processing by Admin::MovieController#destroy as HTML
  Parameters: {"id"=>"83"}
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 83 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`movie_id` = 83
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM `movies` WHERE `movies`.`id` = 83[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 12ms (ActiveRecord: 2.6ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-04-30 13:29:08 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (36.3ms)
Completed 200 OK in 44ms (Views: 39.8ms | ActiveRecord: 2.1ms)
  [1m[35m (51.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:29:08', '2018-04-30 11:29:08')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.5ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190995 AND `cart_items`.`movie_id` = 4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190995, '2018-04-30 11:29:09', '2018-04-30 11:29:09')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 82ms (ActiveRecord: 7.7ms)
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190995 LIMIT 1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190995
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.7ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190995 LIMIT 1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mCartItem Load (0.9ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190995 AND `cart_items`.`movie_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1[0m
  [1m[35mCartItem Load (0.7ms)[0m  SELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 980190988 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190988
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 18ms (ActiveRecord: 4.8ms)
  [1m[36mCart Load (1.0ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190995 LIMIT 1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190995
  [1m[36m (116.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:29:09', '2018-04-30 11:29:09')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190996 AND `cart_items`.`movie_id` = 4[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190996, '2018-04-30 11:29:09', '2018-04-30 11:29:09')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 45ms (ActiveRecord: 5.9ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items`
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190996 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190996
  [1m[36m (48.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:29:09', '2018-04-30 11:29:09')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.5ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190997 AND `cart_items`.`movie_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190997, '2018-04-30 11:29:09', '2018-04-30 11:29:09')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 23ms (ActiveRecord: 4.3ms)
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.7ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190997 LIMIT 1
  [1m[36mMovie Load (1.0ms)[0m  [1mSELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190997[0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"3"}
  [1m[35mCart Load (0.8ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190997 LIMIT 1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190997 AND `cart_items`.`movie_id` = 3[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 1, 85.0, 980190997, '2018-04-30 11:29:09', '2018-04-30 11:29:09')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 19ms (ActiveRecord: 4.5ms)
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190997 LIMIT 1[0m
  [1m[35mMovie Load (1.1ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190997
  [1m[36m (38.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 13ms (Views: 12.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-30 11:29:09', '2018-04-30 11:29:09')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (33.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.6ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-30 11:29:09', '2018-04-30 11:29:09')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 9ms (ActiveRecord: 1.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (98.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (1.6ms)
  Rendered admin/producer/new.html.erb within layouts/application (5.1ms)
Completed 200 OK in 19ms (Views: 17.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/_form.html.erb (0.4ms)
  Rendered admin/producer/edit.html.erb within layouts/application (4.1ms)
Completed 200 OK in 12ms (Views: 8.4ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/show.html.erb within layouts/application (2.1ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.6ms)
  [1m[35mProducer Exists (0.7ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.5ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (4.5ms)
  Rendered admin/producer/index.html.erb within layouts/application (8.9ms)
Completed 200 OK in 13ms (Views: 12.3ms | ActiveRecord: 0.5ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.7ms)[0m  BEGIN
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (76.2ms)[0m  DELETE FROM `producers` WHERE `producers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 83ms (ActiveRecord: 77.4ms)
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.5ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (1.8ms)
  Rendered admin/producer/index.html.erb within layouts/application (4.6ms)
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.5ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (35.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.8ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-30 11:29:09' WHERE `producers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 13ms (ActiveRecord: 2.9ms)
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (33.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------
MovieTest: test_create
----------------------
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-30 11:29:09', '12425', 'A great movie', 375, 45.5, '2018-04-30 11:29:09', '2018-04-30 11:29:09')[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 84, '2018-04-30 11:29:09', '2018-04-30 11:29:09')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 84, '2018-04-30 11:29:09', '2018-04-30 11:29:09')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 84, '2018-04-30 11:29:09', '2018-04-30 11:29:09')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 84, '2018-04-30 11:29:09', '2018-04-30 11:29:09')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 84, '2018-04-30 11:29:09', '2018-04-30 11:29:09')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (41.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (1.6ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mDirector Load (1.4ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-30 11:29:10', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-30 11:29:10', '2018-04-30 11:29:10')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 85, '2018-04-30 11:29:10', '2018-04-30 11:29:10')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 85, '2018-04-30 11:29:10', '2018-04-30 11:29:10')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 85 LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (36.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36mProducer Load (0.4ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.7ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-30 11:29:10', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-30 11:29:10', '2018-04-30 11:29:10')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 86, '2018-04-30 11:29:10', '2018-04-30 11:29:10')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 86, '2018-04-30 11:29:10', '2018-04-30 11:29:10')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 86 LIMIT 1[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 86
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1
  [1m[36m (41.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2018-04-30 13:29:10 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:29:10', '2018-04-30 11:29:10')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 0
  [1m[36mHABTM_Directors Load (0.8ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `movies`
  Rendered catalog/_movies.html.erb (46.6ms)
  Rendered catalog/index.html.erb within layouts/application (49.9ms)
  [1m[36mCartItem Load (0.7ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190998[0m
  Rendered cart/_cart.html.erb (5.0ms)
Completed 200 OK in 78ms (Views: 65.4ms | ActiveRecord: 5.2ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2018-04-30 13:29:10 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.9ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190998 LIMIT 1
  [1m[36mMovie Load (1.0ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Directors Load (1.0ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (5, 4, 3, 2, 1)
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (2, 1)[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (1)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  Rendered catalog/_movies.html.erb (31.1ms)
  Rendered catalog/index.html.erb within layouts/application (32.3ms)
  [1m[35mCartItem Load (0.8ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190998
  Rendered cart/_cart.html.erb (2.9ms)
Completed 200 OK in 43ms (Views: 33.9ms | ActiveRecord: 6.0ms)
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pro Rails E-Commerce' LIMIT 1[0m
  [1m[35mMovie Load (1.0ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pride and Prejudice'  ORDER BY `movies`.`id` ASC LIMIT 1
Started GET "/catalog/show/9" for 127.0.0.1 at 2018-04-30 13:29:10 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 9 LIMIT 1[0m
  [1m[35mDirector Load (1.1ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 2 LIMIT 1[0m
  Rendered catalog/show.html.erb within layouts/application (8.9ms)
Completed 200 OK in 16ms (Views: 11.3ms | ActiveRecord: 2.4ms)
  [1m[35mDirector Load (1.0ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9
Started GET "/catalog/latest" for 127.0.0.1 at 2018-04-30 13:29:10 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190998 LIMIT 1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5
  [1m[36mHABTM_Directors Load (0.7ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)[0m
  Rendered catalog/_movies.html.erb (29.5ms)
  Rendered catalog/latest.html.erb within layouts/application (30.7ms)
  [1m[35mCartItem Load (0.7ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190998
  Rendered cart/_cart.html.erb (2.9ms)
Completed 200 OK in 42ms (Views: 34.7ms | ActiveRecord: 4.5ms)
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5[0m
  [1m[35mHABTM_Directors Load (0.7ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)
  [1m[36m (66.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/show.html.erb within layouts/application (2.4ms)
Completed 200 OK in 18ms (Views: 14.3ms | ActiveRecord: 0.6ms)
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `directors` WHERE `directors`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 8ms (ActiveRecord: 2.1ms)
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (10.6ms)
  Rendered admin/director/index.html.erb within layouts/application (16.3ms)
Completed 200 OK in 22ms (Views: 20.9ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (36.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/director/_form.html.erb (6.0ms)
  Rendered admin/director/new.html.erb within layouts/application (9.9ms)
Completed 200 OK in 22ms (Views: 14.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-30 11:29:10' WHERE `directors`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 8ms (ActiveRecord: 1.7ms)
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (36.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (7.2ms)
  Rendered admin/director/index.html.erb within layouts/application (10.8ms)
Completed 200 OK in 15ms (Views: 13.5ms | ActiveRecord: 0.7ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/_form.html.erb (0.8ms)
  Rendered admin/director/edit.html.erb within layouts/application (4.9ms)
Completed 200 OK in 11ms (Views: 9.2ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.6ms)
  Rendered admin/director/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 5ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.7ms)
  Rendered admin/director/new.html.erb within layouts/application (2.5ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-30 11:29:10', '2018-04-30 11:29:10')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 6ms (Views: 6.0ms | ActiveRecord: 1.1ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (45.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (76.1ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-30', 45.0, '2018-04-30 11:30:42', '2018-04-30 11:30:42')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-30', 65.0, '2018-04-30 11:30:42', '2018-04-30 11:30:42')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-30', 85.0, '2018-04-30 11:30:42', '2018-04-30 11:30:42')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-30', 105.0, '2018-04-30 11:30:42', '2018-04-30 11:30:42')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-30', 125.0, '2018-04-30 11:30:42', '2018-04-30 11:30:42')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-30', 145.0, '2018-04-30 11:30:42', '2018-04-30 11:30:42')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-30', 165.0, '2018-04-30 11:30:42', '2018-04-30 11:30:42')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-30', 185.0, '2018-04-30 11:30:42', '2018-04-30 11:30:42')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-30', 40.0, '2018-04-30 11:30:42', '2018-04-30 11:30:42')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-30', 40.0, '2018-04-30 11:30:42', '2018-04-30 11:30:42')[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-30 11:30:42', '2018-04-30 11:30:42')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-30 11:30:42', '2018-04-30 11:30:42')
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-30 11:30:42', '2018-04-30 11:30:42')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-30 11:30:42', '2018-04-30 11:30:42')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-30 11:30:42', '2018-04-30 11:30:42')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-30 11:30:42', '2018-04-30 11:30:42')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-30 11:30:42', '2018-04-30 11:30:42')
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:30:42', '2018-04-30 13:30:42', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:30:42', '2018-04-30 13:30:42', 2, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:30:42', '2018-04-30 13:30:42', 2, 3)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:30:42', '2018-04-30 13:30:42', 2, 4)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:30:42', '2018-04-30 13:30:42', 2, 5)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:30:42', '2018-04-30 13:30:42', 2, 6)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:30:42', '2018-04-30 13:30:42', 2, 7)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:30:42', '2018-04-30 13:30:42', 3, 8)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:30:42', '2018-04-30 13:30:42', 4, 9)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:30:42', '2018-04-30 13:30:42', 5, 10)[0m
  [1m[35m (34.5ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------
MovieTest: test_create
----------------------
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-30 11:30:42', '12425', 'A great movie', 375, 45.5, '2018-04-30 11:30:42', '2018-04-30 11:30:42')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 87, '2018-04-30 11:30:42', '2018-04-30 11:30:42')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 87, '2018-04-30 11:30:42', '2018-04-30 11:30:42')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 87, '2018-04-30 11:30:42', '2018-04-30 11:30:42')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 87, '2018-04-30 11:30:42', '2018-04-30 11:30:42')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 87, '2018-04-30 11:30:42', '2018-04-30 11:30:42')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (37.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[36mDirector Load (1.0ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.9ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-30 11:30:42', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-30 11:30:42', '2018-04-30 11:30:42')[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 88, '2018-04-30 11:30:42', '2018-04-30 11:30:42')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 88, '2018-04-30 11:30:42', '2018-04-30 11:30:42')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 88 LIMIT 1[0m
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 88
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35m (1.2ms)[0m  SELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1
  [1m[36m (37.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-30 11:30:42', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-30 11:30:42', '2018-04-30 11:30:42')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 89, '2018-04-30 11:30:42', '2018-04-30 11:30:42')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 89, '2018-04-30 11:30:42', '2018-04-30 11:30:42')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 89 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (34.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2018-04-30 13:30:43 +0200
Processing by CatalogController#index as HTML
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:30:43', '2018-04-30 11:30:43')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Directors Load (0.7ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  Rendered catalog/_movies.html.erb (52.6ms)
  Rendered catalog/index.html.erb within layouts/application (63.7ms)
  [1m[35mCartItem Load (0.8ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190999
  Rendered cart/_cart.html.erb (14.9ms)
Completed 200 OK in 740ms (Views: 696.4ms | ActiveRecord: 7.9ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2018-04-30 13:30:43 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mCart Load (0.8ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190999 LIMIT 1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 5
  [1m[36mHABTM_Directors Load (1.2ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (5, 4, 3, 2, 1)[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (2, 1)
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (1)[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `movies`
  Rendered catalog/_movies.html.erb (32.6ms)
  Rendered catalog/index.html.erb within layouts/application (34.1ms)
  [1m[36mCartItem Load (0.8ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190999[0m
  Rendered cart/_cart.html.erb (2.9ms)
Completed 200 OK in 46ms (Views: 36.5ms | ActiveRecord: 5.5ms)
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pro Rails E-Commerce' LIMIT 1
  [1m[36mMovie Load (1.0ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pride and Prejudice'  ORDER BY `movies`.`id` ASC LIMIT 1[0m
Started GET "/catalog/show/9" for 127.0.0.1 at 2018-04-30 13:30:44 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 9 LIMIT 1
  [1m[36mDirector Load (1.1ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 2 LIMIT 1
  Rendered catalog/show.html.erb within layouts/application (10.0ms)
Completed 200 OK in 18ms (Views: 12.7ms | ActiveRecord: 2.5ms)
  [1m[36mDirector Load (1.0ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9[0m
Started GET "/catalog/latest" for 127.0.0.1 at 2018-04-30 13:30:44 +0200
Processing by CatalogController#latest as HTML
  [1m[35mCart Load (0.7ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190999 LIMIT 1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5[0m
  [1m[35mHABTM_Directors Load (1.0ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)
  [1m[36mDirector Load (1.0ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)
  Rendered catalog/_movies.html.erb (29.5ms)
  Rendered catalog/latest.html.erb within layouts/application (30.7ms)
  [1m[36mCartItem Load (0.8ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190999[0m
  Rendered cart/_cart.html.erb (2.8ms)
Completed 200 OK in 41ms (Views: 34.0ms | ActiveRecord: 4.9ms)
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5
  [1m[36mHABTM_Directors Load (0.9ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)[0m
  [1m[35m (82.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 12ms (Views: 11.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-30 11:30:44', '2018-04-30 11:30:44')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-30 11:30:44', '2018-04-30 11:30:44')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-30 13:30:44 +0200
Processing by Admin::MovieController#new as HTML
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (34.1ms)
  Rendered admin/movie/new.html.erb within layouts/application (37.4ms)
Completed 200 OK in 49ms (Views: 46.7ms | ActiveRecord: 1.1ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-30 13:30:44 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"41", "director_ids"=>["63"], "produced_at"=>"2018-04-30 13:30:44 +0200", "serial_number"=>"64214", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 63 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 41 LIMIT 1[0m
  [1m[35mMovie Exists (0.9ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '64214' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `price`, `length`, `created_at`, `updated_at`) VALUES ('A new Movie of Ruby', 41, '2018-04-30 11:30:44', '64214', 'A new Movie of Ruby', 45.5, 325, '2018-04-30 11:30:44', '2018-04-30 11:30:44')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (63, 90, '2018-04-30 11:30:44', '2018-04-30 11:30:44')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 29ms (ActiveRecord: 3.9ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-04-30 13:30:44 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (19.6ms)
Completed 200 OK in 25ms (Views: 21.4ms | ActiveRecord: 1.9ms)
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-30 13:30:44 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (17.7ms)
Completed 200 OK in 22ms (Views: 18.3ms | ActiveRecord: 2.1ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `movies`
Started GET "/admin/movie/index/?page=3" for 127.0.0.1 at 2018-04-30 13:30:44 +0200
Processing by Admin::MovieController#index as HTML
  Parameters: {"page"=>"3"}
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 10[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 41 LIMIT 1
  Rendered admin/movie/index.html.erb within layouts/application (9.9ms)
Completed 200 OK in 15ms (Views: 12.2ms | ActiveRecord: 1.4ms)
  [1m[36mMovie Load (1.0ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'A new Movie of Ruby' LIMIT 1[0m
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-30 13:30:44 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (18.6ms)
Completed 200 OK in 23ms (Views: 19.6ms | ActiveRecord: 2.0ms)
Started GET "/admin/movie/show/90" for 127.0.0.1 at 2018-04-30 13:30:44 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"90"}
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 90 LIMIT 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 41 LIMIT 1
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 90[0m
  Rendered admin/movie/show.html.erb within layouts/application (10.1ms)
Completed 200 OK in 17ms (Views: 13.0ms | ActiveRecord: 1.9ms)
Started GET "/admin/movie/edit?id=90" for 127.0.0.1 at 2018-04-30 13:30:44 +0200
Processing by Admin::MovieController#edit as HTML
  Parameters: {"id"=>"90"}
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 90 LIMIT 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (1.0ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 90
  [1m[36mDirector Load (1.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (21.5ms)
  Rendered admin/movie/edit.html.erb within layouts/application (24.9ms)
Completed 200 OK in 32ms (Views: 26.4ms | ActiveRecord: 3.7ms)
Started POST "/admin/movie/update?id=90" for 127.0.0.1 at 2018-04-30 13:30:44 +0200
Processing by Admin::MovieController#update as HTML
  Parameters: {"movie"=>{"title"=>"A very new Movie of Ruby", "producer_id"=>"41", "director_ids"=>["63"], "produced_at"=>"2018-04-30 13:30:44 +0200", "serial_number"=>"43214", "blurb"=>"A very new Movie of Ruby", "length"=>"350", "price"=>"50"}, "id"=>"90"}
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 90 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 63 LIMIT 1
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 90[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 41 LIMIT 1
  [1m[36mMovie Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE (`movies`.`serial_number` = BINARY '43214' AND `movies`.`id` != 90) LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE `movies` SET `title` = 'A very new Movie of Ruby', `serial_number` = '43214', `blurb` = 'A very new Movie of Ruby', `price` = 50.0, `length` = 350, `updated_at` = '2018-04-30 11:30:44' WHERE `movies`.`id` = 90
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/movie/show/90
Completed 302 Found in 32ms (ActiveRecord: 5.4ms)
Started GET "/admin/movie/show/90" for 127.0.0.1 at 2018-04-30 13:30:44 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"90"}
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 90 LIMIT 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 41 LIMIT 1[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 90
  Rendered admin/movie/show.html.erb within layouts/application (8.1ms)
Completed 200 OK in 14ms (Views: 10.3ms | ActiveRecord: 2.1ms)
Started POST "/admin/movie/destroy?id=90" for 127.0.0.1 at 2018-04-30 13:30:44 +0200
Processing by Admin::MovieController#destroy as HTML
  Parameters: {"id"=>"90"}
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 90 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `directors_movies` WHERE `directors_movies`.`movie_id` = 90[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `movies` WHERE `movies`.`id` = 90
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 9ms (ActiveRecord: 2.4ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-04-30 13:30:44 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (19.4ms)
Completed 200 OK in 24ms (Views: 20.5ms | ActiveRecord: 1.9ms)
  [1m[36m (62.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/show.html.erb within layouts/application (2.4ms)
Completed 200 OK in 17ms (Views: 14.1ms | ActiveRecord: 0.6ms)
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (1.9ms)
  Rendered admin/director/new.html.erb within layouts/application (5.6ms)
Completed 200 OK in 10ms (Views: 9.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-30 11:30:44', '2018-04-30 11:30:44')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 7ms (Views: 9.7ms | ActiveRecord: 1.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (37.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.7ms)
  Rendered admin/director/new.html.erb within layouts/application (2.9ms)
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/_form.html.erb (0.9ms)
  Rendered admin/director/edit.html.erb within layouts/application (4.6ms)
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/director/_form.html.erb (5.0ms)
  Rendered admin/director/new.html.erb within layouts/application (6.6ms)
Completed 200 OK in 16ms (Views: 10.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-30 11:30:44' WHERE `directors`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 11ms (ActiveRecord: 1.9ms)
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.3ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (44.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (9.0ms)
  Rendered admin/director/index.html.erb within layouts/application (15.0ms)
Completed 200 OK in 20ms (Views: 18.6ms | ActiveRecord: 0.7ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `directors` WHERE `directors`.`id` = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 7ms (ActiveRecord: 1.9ms)
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (6.7ms)
  Rendered admin/director/index.html.erb within layouts/application (9.5ms)
Completed 200 OK in 14ms (Views: 12.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (43.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.9ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/_form.html.erb (1.7ms)
  Rendered admin/producer/edit.html.erb within layouts/application (6.0ms)
Completed 200 OK in 19ms (Views: 16.0ms | ActiveRecord: 0.9ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (0.5ms)
  Rendered admin/producer/new.html.erb within layouts/application (3.4ms)
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-30 11:30:45', '2018-04-30 11:30:45')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 8ms (ActiveRecord: 1.4ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (42.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-30 11:30:45' WHERE `producers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 14ms (ActiveRecord: 3.0ms)
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (43.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (5.3ms)
  Rendered admin/producer/index.html.erb within layouts/application (11.0ms)
Completed 200 OK in 16ms (Views: 14.8ms | ActiveRecord: 0.7ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.7ms)[0m  [1mDELETE FROM `producers` WHERE `producers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 7ms (ActiveRecord: 2.6ms)
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (1.0ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (1.7ms)
  Rendered admin/producer/index.html.erb within layouts/application (4.5ms)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 1.0ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (39.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.9ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/show.html.erb within layouts/application (3.4ms)
Completed 200 OK in 12ms (Views: 8.7ms | ActiveRecord: 0.9ms)
  [1m[35mProducer Exists (0.8ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.5ms)[0m  [1mBEGIN[0m
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:30:45', '2018-04-30 11:30:45')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191000 AND `cart_items`.`movie_id` = 4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980191000, '2018-04-30 11:30:45', '2018-04-30 11:30:45')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 121ms (ActiveRecord: 77.0ms)
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191000 LIMIT 1[0m
  [1m[35mMovie Load (1.1ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980191000
Processing by CartController#clear as HTML
  [1m[36mCart Load (0.7ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191000 LIMIT 1[0m
  [1m[35mCartItem Load (0.7ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191000
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190992
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 8ms (ActiveRecord: 2.3ms)
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191000 LIMIT 1
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980191000[0m
  [1m[35m (120.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `cart_items`
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:30:45', '2018-04-30 11:30:45')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.5ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191001 AND `cart_items`.`movie_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980191001, '2018-04-30 11:30:45', '2018-04-30 11:30:45')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 25ms (ActiveRecord: 4.9ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191001 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191001[0m
  [1m[35m (46.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:30:45', '2018-04-30 11:30:45')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.5ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191002 AND `cart_items`.`movie_id` = 4[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980191002, '2018-04-30 11:30:45', '2018-04-30 11:30:45')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (1.0ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 27ms (ActiveRecord: 5.0ms)
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191002 LIMIT 1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980191002
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.7ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191002 LIMIT 1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mCartItem Load (0.9ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191002 AND `cart_items`.`movie_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1[0m
  [1m[35mCartItem Load (0.6ms)[0m  SELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 980190994 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190994
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 19ms (ActiveRecord: 4.6ms)
  [1m[36mCart Load (0.7ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191002 LIMIT 1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980191002
  [1m[36m (197.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-30 11:30:46', '2018-04-30 11:30:46')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (41.5ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (140.8ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-30', 45.0, '2018-04-30 11:31:28', '2018-04-30 11:31:28')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-30', 65.0, '2018-04-30 11:31:28', '2018-04-30 11:31:28')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-30', 85.0, '2018-04-30 11:31:28', '2018-04-30 11:31:28')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-30', 105.0, '2018-04-30 11:31:28', '2018-04-30 11:31:28')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-30', 125.0, '2018-04-30 11:31:28', '2018-04-30 11:31:28')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-30', 145.0, '2018-04-30 11:31:28', '2018-04-30 11:31:28')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-30', 165.0, '2018-04-30 11:31:28', '2018-04-30 11:31:28')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-30', 185.0, '2018-04-30 11:31:28', '2018-04-30 11:31:28')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-30', 40.0, '2018-04-30 11:31:28', '2018-04-30 11:31:28')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-30', 40.0, '2018-04-30 11:31:28', '2018-04-30 11:31:28')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-30 11:31:29', '2018-04-30 11:31:29')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-30 11:31:29', '2018-04-30 11:31:29')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-30 11:31:29', '2018-04-30 11:31:29')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-30 11:31:29', '2018-04-30 11:31:29')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-30 11:31:29', '2018-04-30 11:31:29')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-30 11:31:29', '2018-04-30 11:31:29')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-30 11:31:29', '2018-04-30 11:31:29')
  [1m[36mFixture Delete (82.9ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:31:28', '2018-04-30 13:31:28', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:31:28', '2018-04-30 13:31:28', 2, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:31:28', '2018-04-30 13:31:28', 2, 3)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:31:28', '2018-04-30 13:31:28', 2, 4)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:31:28', '2018-04-30 13:31:28', 2, 5)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:31:28', '2018-04-30 13:31:28', 2, 6)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:31:28', '2018-04-30 13:31:28', 2, 7)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:31:28', '2018-04-30 13:31:28', 3, 8)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:31:28', '2018-04-30 13:31:28', 4, 9)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:31:28', '2018-04-30 13:31:28', 5, 10)[0m
  [1m[35m (42.7ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/show.html.erb within layouts/application (4.5ms)
Completed 200 OK in 762ms (Views: 741.4ms | ActiveRecord: 0.7ms)
  [1m[35mProducer Exists (0.8ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.5ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (4.5ms)
  Rendered admin/producer/index.html.erb within layouts/application (14.4ms)
Completed 200 OK in 19ms (Views: 17.9ms | ActiveRecord: 0.5ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-30 11:31:30', '2018-04-30 11:31:30')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 10ms (ActiveRecord: 1.6ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (73.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[36mProducer Load (1.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-30 11:31:30' WHERE `producers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 14ms (ActiveRecord: 3.2ms)
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (42.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.9ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.9ms)[0m  DELETE FROM `producers` WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 8ms (ActiveRecord: 3.2ms)
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (2.4ms)
  Rendered admin/producer/index.html.erb within layouts/application (4.9ms)
Completed 200 OK in 9ms (Views: 8.2ms | ActiveRecord: 0.6ms)
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (121.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (1.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/_form.html.erb (11.6ms)
  Rendered admin/producer/edit.html.erb within layouts/application (17.1ms)
Completed 200 OK in 25ms (Views: 22.3ms | ActiveRecord: 1.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (0.4ms)
  Rendered admin/producer/new.html.erb within layouts/application (2.9ms)
Completed 200 OK in 7ms (Views: 6.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------
MovieTest: test_create
----------------------
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT `directors`.* FROM `directors`
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.9ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-30 11:31:30', '12425', 'A great movie', 375, 45.5, '2018-04-30 11:31:30', '2018-04-30 11:31:30')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 91, '2018-04-30 11:31:30', '2018-04-30 11:31:30')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 91, '2018-04-30 11:31:30', '2018-04-30 11:31:30')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 91, '2018-04-30 11:31:30', '2018-04-30 11:31:30')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 91, '2018-04-30 11:31:30', '2018-04-30 11:31:30')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 91, '2018-04-30 11:31:30', '2018-04-30 11:31:30')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (45.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.8ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-30 11:31:30', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-30 11:31:30', '2018-04-30 11:31:30')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 92, '2018-04-30 11:31:30', '2018-04-30 11:31:30')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 92, '2018-04-30 11:31:30', '2018-04-30 11:31:30')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 92 LIMIT 1[0m
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 92
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1
  [1m[36m (31.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.7ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (49.8ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-30 11:31:30', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-30 11:31:30', '2018-04-30 11:31:30')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 93, '2018-04-30 11:31:30', '2018-04-30 11:31:30')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 93, '2018-04-30 11:31:30', '2018-04-30 11:31:30')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 93 LIMIT 1[0m
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (37.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 12ms (Views: 11.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2018-04-30 13:31:31 +0200
Processing by CatalogController#index as HTML
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:31:31', '2018-04-30 11:31:31')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (1.0ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Directors Load (1.1ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)[0m
  [1m[35mProducer Load (1.0ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  Rendered catalog/_movies.html.erb (45.5ms)
  Rendered catalog/index.html.erb within layouts/application (48.2ms)
  [1m[35mCartItem Load (0.8ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191003
  Rendered cart/_cart.html.erb (13.4ms)
Completed 200 OK in 108ms (Views: 66.2ms | ActiveRecord: 9.5ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2018-04-30 13:31:31 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mCart Load (0.8ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191003 LIMIT 1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 5
  [1m[36mHABTM_Directors Load (1.1ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (5, 4, 3, 2, 1)[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (2, 1)
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (1)[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `movies`
  Rendered catalog/_movies.html.erb (29.3ms)
  Rendered catalog/index.html.erb within layouts/application (30.4ms)
  [1m[36mCartItem Load (0.8ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191003[0m
  Rendered cart/_cart.html.erb (2.7ms)
Completed 200 OK in 41ms (Views: 31.9ms | ActiveRecord: 5.4ms)
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pro Rails E-Commerce' LIMIT 1
  [1m[36mMovie Load (1.0ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pride and Prejudice'  ORDER BY `movies`.`id` ASC LIMIT 1[0m
Started GET "/catalog/show/9" for 127.0.0.1 at 2018-04-30 13:31:31 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 9 LIMIT 1
  [1m[36mDirector Load (1.2ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 2 LIMIT 1
  Rendered catalog/show.html.erb within layouts/application (9.1ms)
Completed 200 OK in 16ms (Views: 11.1ms | ActiveRecord: 2.3ms)
  [1m[36mDirector Load (1.1ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9[0m
Started GET "/catalog/latest" for 127.0.0.1 at 2018-04-30 13:31:31 +0200
Processing by CatalogController#latest as HTML
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191003 LIMIT 1
  [1m[36mMovie Load (1.0ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5[0m
  [1m[35mHABTM_Directors Load (0.9ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)
  Rendered catalog/_movies.html.erb (26.6ms)
  Rendered catalog/latest.html.erb within layouts/application (27.6ms)
  [1m[36mCartItem Load (0.6ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191003[0m
  Rendered cart/_cart.html.erb (2.5ms)
Completed 200 OK in 37ms (Views: 30.1ms | ActiveRecord: 4.6ms)
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5
  [1m[36mHABTM_Directors Load (0.8ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)[0m
  [1m[35m (74.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-30 11:31:31', '2018-04-30 11:31:31')
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-30 11:31:31', '2018-04-30 11:31:31')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1[0m
  [1m[35mProducer Load (0.4ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-30 13:31:31 +0200
Processing by Admin::MovieController#new as HTML
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (27.9ms)
  Rendered admin/movie/new.html.erb within layouts/application (31.9ms)
Completed 200 OK in 45ms (Views: 41.9ms | ActiveRecord: 1.5ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-30 13:31:31 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"44", "director_ids"=>["66"], "produced_at"=>"2018-04-30 13:31:31 +0200", "serial_number"=>"64214", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 66 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 44 LIMIT 1[0m
  [1m[35mMovie Exists (0.7ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '64214' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `price`, `length`, `created_at`, `updated_at`) VALUES ('A new Movie of Ruby', 44, '2018-04-30 11:31:31', '64214', 'A new Movie of Ruby', 45.5, 325, '2018-04-30 11:31:31', '2018-04-30 11:31:31')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (66, 94, '2018-04-30 11:31:31', '2018-04-30 11:31:31')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 31ms (ActiveRecord: 3.9ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-04-30 13:31:31 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (22.3ms)
Completed 200 OK in 28ms (Views: 24.5ms | ActiveRecord: 2.1ms)
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-30 13:31:31 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (20.1ms)
Completed 200 OK in 25ms (Views: 21.3ms | ActiveRecord: 2.1ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `movies`
Started GET "/admin/movie/index/?page=3" for 127.0.0.1 at 2018-04-30 13:31:31 +0200
Processing by Admin::MovieController#index as HTML
  Parameters: {"page"=>"3"}
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 10[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 44 LIMIT 1
  Rendered admin/movie/index.html.erb within layouts/application (7.0ms)
Completed 200 OK in 11ms (Views: 8.5ms | ActiveRecord: 1.4ms)
  [1m[36mMovie Load (1.0ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'A new Movie of Ruby' LIMIT 1[0m
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-30 13:31:31 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (18.3ms)
Completed 200 OK in 22ms (Views: 19.2ms | ActiveRecord: 1.9ms)
Started GET "/admin/movie/show/94" for 127.0.0.1 at 2018-04-30 13:31:31 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"94"}
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 94 LIMIT 1[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 44 LIMIT 1
  [1m[36mDirector Load (1.1ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 94[0m
  Rendered admin/movie/show.html.erb within layouts/application (13.1ms)
Completed 200 OK in 20ms (Views: 15.9ms | ActiveRecord: 2.6ms)
Started GET "/admin/movie/edit?id=94" for 127.0.0.1 at 2018-04-30 13:31:31 +0200
Processing by Admin::MovieController#edit as HTML
  Parameters: {"id"=>"94"}
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 94 LIMIT 1
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 94
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (18.2ms)
  Rendered admin/movie/edit.html.erb within layouts/application (21.4ms)
Completed 200 OK in 28ms (Views: 23.1ms | ActiveRecord: 3.0ms)
Started POST "/admin/movie/update?id=94" for 127.0.0.1 at 2018-04-30 13:31:31 +0200
Processing by Admin::MovieController#update as HTML
  Parameters: {"movie"=>{"title"=>"A very new Movie of Ruby", "producer_id"=>"44", "director_ids"=>["66"], "produced_at"=>"2018-04-30 13:31:31 +0200", "serial_number"=>"43214", "blurb"=>"A very new Movie of Ruby", "length"=>"350", "price"=>"50"}, "id"=>"94"}
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 94 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 66 LIMIT 1
  [1m[36mDirector Load (1.0ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 94[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 44 LIMIT 1
  [1m[36mMovie Exists (1.2ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE (`movies`.`serial_number` = BINARY '43214' AND `movies`.`id` != 94) LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `movies` SET `title` = 'A very new Movie of Ruby', `serial_number` = '43214', `blurb` = 'A very new Movie of Ruby', `price` = 50.0, `length` = 350, `updated_at` = '2018-04-30 11:31:31' WHERE `movies`.`id` = 94
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/movie/show/94
Completed 302 Found in 27ms (ActiveRecord: 5.7ms)
Started GET "/admin/movie/show/94" for 127.0.0.1 at 2018-04-30 13:31:31 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"94"}
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 94 LIMIT 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 44 LIMIT 1[0m
  [1m[35mDirector Load (1.0ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 94
  Rendered admin/movie/show.html.erb within layouts/application (8.4ms)
Completed 200 OK in 15ms (Views: 10.2ms | ActiveRecord: 2.4ms)
Started POST "/admin/movie/destroy?id=94" for 127.0.0.1 at 2018-04-30 13:31:31 +0200
Processing by Admin::MovieController#destroy as HTML
  Parameters: {"id"=>"94"}
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 94 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `directors_movies` WHERE `directors_movies`.`movie_id` = 94[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `movies` WHERE `movies`.`id` = 94
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 9ms (ActiveRecord: 2.5ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-04-30 13:31:31 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (22.4ms)
Completed 200 OK in 27ms (Views: 23.7ms | ActiveRecord: 2.2ms)
  [1m[36m (29.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-30 11:31:31', '2018-04-30 11:31:31')
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (97.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items`
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:31:32', '2018-04-30 11:31:32')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191004 AND `cart_items`.`movie_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980191004, '2018-04-30 11:31:32', '2018-04-30 11:31:32')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 38ms (ActiveRecord: 4.8ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191004 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191004[0m
  [1m[35m (37.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:31:32', '2018-04-30 11:31:32')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.5ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191005 AND `cart_items`.`movie_id` = 4[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980191005, '2018-04-30 11:31:32', '2018-04-30 11:31:32')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 23ms (ActiveRecord: 4.8ms)
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.7ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191005 LIMIT 1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980191005
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191005 LIMIT 1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mCartItem Load (0.7ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191005 AND `cart_items`.`movie_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1[0m
  [1m[35mCartItem Load (0.7ms)[0m  SELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 980190996 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190996
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 15ms (ActiveRecord: 4.2ms)
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191005 LIMIT 1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980191005
  [1m[36m (37.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:31:32', '2018-04-30 11:31:32')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.5ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191006 AND `cart_items`.`movie_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980191006, '2018-04-30 11:31:32', '2018-04-30 11:31:32')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.5ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 22ms (ActiveRecord: 4.2ms)
Processing by CartController#add as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191006 LIMIT 1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1
  [1m[36mMovie Load (1.0ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191006 AND `cart_items`.`movie_id` = 3
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 1, 85.0, 980191006, '2018-04-30 11:31:32', '2018-04-30 11:31:32')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 19ms (ActiveRecord: 4.8ms)
Processing by CartController#clear as HTML
  [1m[36mCart Load (0.7ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191006 LIMIT 1[0m
  [1m[35mCartItem Load (0.7ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191006
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190997
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190998[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 10ms (ActiveRecord: 2.9ms)
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191006 LIMIT 1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980191006
  [1m[36m (35.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-30 11:31:32' WHERE `directors`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 10ms (ActiveRecord: 1.7ms)
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (32.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (27.5ms)
  Rendered admin/director/index.html.erb within layouts/application (32.6ms)
Completed 200 OK in 47ms (Views: 45.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (2.0ms)
  Rendered admin/director/new.html.erb within layouts/application (6.0ms)
Completed 200 OK in 11ms (Views: 10.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-30 11:31:32', '2018-04-30 11:31:32')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 7ms (Views: 10.6ms | ActiveRecord: 1.0ms)
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (40.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (1.0ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/_form.html.erb (0.8ms)
  Rendered admin/director/edit.html.erb within layouts/application (5.0ms)
Completed 200 OK in 14ms (Views: 10.4ms | ActiveRecord: 1.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `directors` WHERE `directors`.`id` = 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 8ms (ActiveRecord: 2.0ms)
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (1.2ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (8.1ms)
  Rendered admin/director/index.html.erb within layouts/application (11.8ms)
Completed 200 OK in 16ms (Views: 14.2ms | ActiveRecord: 1.2ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (34.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (1.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 12ms (Views: 7.8ms | ActiveRecord: 1.6ms)
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/director/_form.html.erb (4.9ms)
  Rendered admin/director/new.html.erb within layouts/application (6.4ms)
Completed 200 OK in 17ms (Views: 9.5ms | ActiveRecord: 0.6ms)
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.6ms)
  Rendered admin/director/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 5ms (Views: 4.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-30', 45.0, '2018-04-30 11:31:54', '2018-04-30 11:31:54')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-30', 65.0, '2018-04-30 11:31:54', '2018-04-30 11:31:54')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-30', 85.0, '2018-04-30 11:31:54', '2018-04-30 11:31:54')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-30', 105.0, '2018-04-30 11:31:54', '2018-04-30 11:31:54')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-30', 125.0, '2018-04-30 11:31:54', '2018-04-30 11:31:54')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-30', 145.0, '2018-04-30 11:31:54', '2018-04-30 11:31:54')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-30', 165.0, '2018-04-30 11:31:54', '2018-04-30 11:31:54')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-30', 185.0, '2018-04-30 11:31:54', '2018-04-30 11:31:54')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-30', 40.0, '2018-04-30 11:31:54', '2018-04-30 11:31:54')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-30', 40.0, '2018-04-30 11:31:54', '2018-04-30 11:31:54')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-30 11:31:54', '2018-04-30 11:31:54')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-30 11:31:54', '2018-04-30 11:31:54')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-30 11:31:54', '2018-04-30 11:31:54')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-30 11:31:54', '2018-04-30 11:31:54')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-30 11:31:54', '2018-04-30 11:31:54')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-30 11:31:54', '2018-04-30 11:31:54')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-30 11:31:54', '2018-04-30 11:31:54')
  [1m[36mFixture Delete (122.8ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:31:54', '2018-04-30 13:31:54', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:31:54', '2018-04-30 13:31:54', 2, 2)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:31:54', '2018-04-30 13:31:54', 2, 3)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:31:54', '2018-04-30 13:31:54', 2, 4)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:31:54', '2018-04-30 13:31:54', 2, 5)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:31:54', '2018-04-30 13:31:54', 2, 6)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:31:54', '2018-04-30 13:31:54', 2, 7)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:31:54', '2018-04-30 13:31:54', 3, 8)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:31:54', '2018-04-30 13:31:54', 4, 9)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:31:54', '2018-04-30 13:31:54', 5, 10)[0m
  [1m[35m (44.2ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-04-30 11:31:55', '2018-04-30 11:31:55')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (42.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (2.5ms)
Completed 200 OK in 626ms (Views: 625.0ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-04-30 11:31:55', '2018-04-30 11:31:55')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-04-30 11:31:55', '2018-04-30 11:31:55')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-04-30 13:31:55 +0200
Processing by Admin::MovieController#new as HTML
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (76.7ms)
  Rendered admin/movie/new.html.erb within layouts/application (84.1ms)
Completed 200 OK in 127ms (Views: 92.0ms | ActiveRecord: 2.3ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-04-30 13:31:56 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"45", "director_ids"=>["70"], "produced_at"=>"2018-04-30 13:31:55 +0200", "serial_number"=>"64214", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 70 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 45 LIMIT 1[0m
  [1m[35mMovie Exists (0.8ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '64214' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `price`, `length`, `created_at`, `updated_at`) VALUES ('A new Movie of Ruby', 45, '2018-04-30 11:31:55', '64214', 'A new Movie of Ruby', 45.5, 325, '2018-04-30 11:31:56', '2018-04-30 11:31:56')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (70, 95, '2018-04-30 11:31:56', '2018-04-30 11:31:56')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 54ms (ActiveRecord: 5.2ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-04-30 13:31:56 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.9ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (33.4ms)
Completed 200 OK in 39ms (Views: 35.0ms | ActiveRecord: 2.6ms)
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-30 13:31:56 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (45.3ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (63.6ms)
Completed 200 OK in 68ms (Views: 19.5ms | ActiveRecord: 47.0ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `movies`
Started GET "/admin/movie/index/?page=3" for 127.0.0.1 at 2018-04-30 13:31:56 +0200
Processing by Admin::MovieController#index as HTML
  Parameters: {"page"=>"3"}
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 10[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 45 LIMIT 1
  Rendered admin/movie/index.html.erb within layouts/application (7.0ms)
Completed 200 OK in 11ms (Views: 8.5ms | ActiveRecord: 1.4ms)
  [1m[36mMovie Load (1.0ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'A new Movie of Ruby' LIMIT 1[0m
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-04-30 13:31:56 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (18.4ms)
Completed 200 OK in 22ms (Views: 19.3ms | ActiveRecord: 1.9ms)
Started GET "/admin/movie/show/95" for 127.0.0.1 at 2018-04-30 13:31:56 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"95"}
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 95 LIMIT 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 45 LIMIT 1
  [1m[36mDirector Load (1.1ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 95[0m
  Rendered admin/movie/show.html.erb within layouts/application (13.5ms)
Completed 200 OK in 21ms (Views: 15.9ms | ActiveRecord: 2.6ms)
Started GET "/admin/movie/edit?id=95" for 127.0.0.1 at 2018-04-30 13:31:56 +0200
Processing by Admin::MovieController#edit as HTML
  Parameters: {"id"=>"95"}
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 95 LIMIT 1
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 95
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (18.2ms)
  Rendered admin/movie/edit.html.erb within layouts/application (21.4ms)
Completed 200 OK in 28ms (Views: 23.2ms | ActiveRecord: 2.9ms)
Started POST "/admin/movie/update?id=95" for 127.0.0.1 at 2018-04-30 13:31:56 +0200
Processing by Admin::MovieController#update as HTML
  Parameters: {"movie"=>{"title"=>"A very new Movie of Ruby", "producer_id"=>"45", "director_ids"=>["70"], "produced_at"=>"2018-04-30 13:31:56 +0200", "serial_number"=>"43214", "blurb"=>"A very new Movie of Ruby", "length"=>"350", "price"=>"50"}, "id"=>"95"}
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 95 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 70 LIMIT 1
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 95[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 45 LIMIT 1
  [1m[36mMovie Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE (`movies`.`serial_number` = BINARY '43214' AND `movies`.`id` != 95) LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `movies` SET `title` = 'A very new Movie of Ruby', `produced_at` = '2018-04-30 11:31:56', `serial_number` = '43214', `blurb` = 'A very new Movie of Ruby', `price` = 50.0, `length` = 350, `updated_at` = '2018-04-30 11:31:56' WHERE `movies`.`id` = 95
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/movie/show/95
Completed 302 Found in 30ms (ActiveRecord: 5.5ms)
Started GET "/admin/movie/show/95" for 127.0.0.1 at 2018-04-30 13:31:56 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"95"}
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 95 LIMIT 1
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 45 LIMIT 1[0m
  [1m[35mDirector Load (1.1ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 95
  Rendered admin/movie/show.html.erb within layouts/application (8.2ms)
Completed 200 OK in 14ms (Views: 9.8ms | ActiveRecord: 2.6ms)
Started POST "/admin/movie/destroy?id=95" for 127.0.0.1 at 2018-04-30 13:31:56 +0200
Processing by Admin::MovieController#destroy as HTML
  Parameters: {"id"=>"95"}
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 95 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM `directors_movies` WHERE `directors_movies`.`movie_id` = 95[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `movies` WHERE `movies`.`id` = 95
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 9ms (ActiveRecord: 2.4ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-04-30 13:31:56 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (19.7ms)
Completed 200 OK in 24ms (Views: 21.0ms | ActiveRecord: 2.1ms)
  [1m[36m (60.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-04-30 11:31:56', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-04-30 11:31:56', '2018-04-30 11:31:56')[0m
  [1m[35mSQL (60.2ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 96, '2018-04-30 11:31:56', '2018-04-30 11:31:56')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 96, '2018-04-30 11:31:56', '2018-04-30 11:31:56')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 96 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 96
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1
  [1m[36m (38.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.7ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-04-30 11:31:56', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-04-30 11:31:56', '2018-04-30 11:31:56')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 97, '2018-04-30 11:31:56', '2018-04-30 11:31:56')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 97, '2018-04-30 11:31:56', '2018-04-30 11:31:56')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 97 LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (39.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------
MovieTest: test_create
----------------------
  [1m[36mProducer Load (0.9ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT `directors`.* FROM `directors`
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-04-30 11:31:56', '12425', 'A great movie', 375, 45.5, '2018-04-30 11:31:56', '2018-04-30 11:31:56')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 98, '2018-04-30 11:31:56', '2018-04-30 11:31:56')[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 98, '2018-04-30 11:31:56', '2018-04-30 11:31:56')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 98, '2018-04-30 11:31:56', '2018-04-30 11:31:56')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 98, '2018-04-30 11:31:56', '2018-04-30 11:31:56')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 98, '2018-04-30 11:31:56', '2018-04-30 11:31:56')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (38.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (8.6ms)
  Rendered admin/director/index.html.erb within layouts/application (13.5ms)
Completed 200 OK in 25ms (Views: 23.9ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 9ms (Views: 6.5ms | ActiveRecord: 0.6ms)
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/_form.html.erb (2.2ms)
  Rendered admin/director/edit.html.erb within layouts/application (7.0ms)
Completed 200 OK in 13ms (Views: 11.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.6ms)
  Rendered admin/director/new.html.erb within layouts/application (3.3ms)
Completed 200 OK in 8ms (Views: 7.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-04-30 11:31:57' WHERE `directors`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 10ms (ActiveRecord: 1.9ms)
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (38.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/director/_form.html.erb (4.7ms)
  Rendered admin/director/new.html.erb within layouts/application (6.2ms)
Completed 200 OK in 15ms (Views: 9.3ms | ActiveRecord: 0.5ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.7ms)
  Rendered admin/director/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-04-30 11:31:57', '2018-04-30 11:31:57')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 6ms (Views: 5.7ms | ActiveRecord: 1.0ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (41.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.8ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `directors` WHERE `directors`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 10ms (ActiveRecord: 2.6ms)
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (7.2ms)
  Rendered admin/director/index.html.erb within layouts/application (10.4ms)
Completed 200 OK in 15ms (Views: 13.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (38.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2018-04-30 13:31:57 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:31:57', '2018-04-30 11:31:57')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 0
  [1m[36mHABTM_Directors Load (0.8ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `movies`
  Rendered catalog/_movies.html.erb (40.7ms)
  Rendered catalog/index.html.erb within layouts/application (43.4ms)
  [1m[36mCartItem Load (0.5ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191007[0m
  Rendered cart/_cart.html.erb (13.3ms)
Completed 200 OK in 89ms (Views: 62.4ms | ActiveRecord: 8.4ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2018-04-30 13:31:57 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.8ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191007 LIMIT 1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Directors Load (1.0ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (5, 4, 3, 2, 1)
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (2, 1)[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (1)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  Rendered catalog/_movies.html.erb (30.1ms)
  Rendered catalog/index.html.erb within layouts/application (31.3ms)
  [1m[35mCartItem Load (0.8ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191007
  Rendered cart/_cart.html.erb (2.7ms)
Completed 200 OK in 42ms (Views: 33.1ms | ActiveRecord: 5.3ms)
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pro Rails E-Commerce' LIMIT 1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pride and Prejudice'  ORDER BY `movies`.`id` ASC LIMIT 1
Started GET "/catalog/show/9" for 127.0.0.1 at 2018-04-30 13:31:57 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 9 LIMIT 1[0m
  [1m[35mDirector Load (1.0ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 2 LIMIT 1[0m
  Rendered catalog/show.html.erb within layouts/application (8.5ms)
Completed 200 OK in 15ms (Views: 10.7ms | ActiveRecord: 2.2ms)
  [1m[35mDirector Load (1.0ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9
Started GET "/catalog/latest" for 127.0.0.1 at 2018-04-30 13:31:57 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.7ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191007 LIMIT 1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5
  [1m[36mHABTM_Directors Load (0.9ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)[0m
  Rendered catalog/_movies.html.erb (35.2ms)
  Rendered catalog/latest.html.erb within layouts/application (36.6ms)
  [1m[35mCartItem Load (0.7ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191007
  Rendered cart/_cart.html.erb (2.8ms)
Completed 200 OK in 48ms (Views: 41.0ms | ActiveRecord: 4.6ms)
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5[0m
  [1m[35mHABTM_Directors Load (0.9ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)
  [1m[36m (49.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (1.9ms)
  Rendered admin/producer/new.html.erb within layouts/application (6.4ms)
Completed 200 OK in 19ms (Views: 17.9ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-04-30 11:31:57', '2018-04-30 11:31:57')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 9ms (ActiveRecord: 1.5ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (43.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[36mProducer Load (1.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-04-30 11:31:57' WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 13ms (ActiveRecord: 2.9ms)
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (43.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.9ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/show.html.erb within layouts/application (2.4ms)
Completed 200 OK in 11ms (Views: 8.2ms | ActiveRecord: 0.9ms)
  [1m[35mProducer Exists (0.8ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.6ms)[0m  [1mDELETE FROM `producers` WHERE `producers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 7ms (ActiveRecord: 2.8ms)
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (4.1ms)
  Rendered admin/producer/index.html.erb within layouts/application (8.9ms)
Completed 200 OK in 14ms (Views: 13.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (107.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (1.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/_form.html.erb (0.5ms)
  Rendered admin/producer/edit.html.erb within layouts/application (4.3ms)
Completed 200 OK in 13ms (Views: 10.1ms | ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.7ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (4.6ms)
  Rendered admin/producer/index.html.erb within layouts/application (7.8ms)
Completed 200 OK in 12ms (Views: 10.4ms | ActiveRecord: 0.7ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:31:58', '2018-04-30 11:31:58')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.5ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191008 AND `cart_items`.`movie_id` = 4
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980191008, '2018-04-30 11:31:58', '2018-04-30 11:31:58')
  [1m[36m (0.6ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 122ms (ActiveRecord: 83.6ms)
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.4ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191008 LIMIT 1
  [1m[36mMovie Load (1.3ms)[0m  [1mSELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980191008[0m
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[35mCart Load (0.8ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191008 LIMIT 1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.8ms)[0m  SELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191008 AND `cart_items`.`movie_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1
  [1m[36mCartItem Load (0.6ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 980190999 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190999[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.5ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 16ms (ActiveRecord: 4.4ms)
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191008 LIMIT 1
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980191008[0m
  [1m[35m (37.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `cart_items`
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:31:58', '2018-04-30 11:31:58')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.5ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mMovie Load (0.5ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191009 AND `cart_items`.`movie_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980191009, '2018-04-30 11:31:58', '2018-04-30 11:31:58')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 22ms (ActiveRecord: 4.3ms)
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
  [1m[35mCart Load (0.8ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191009 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191009[0m
  [1m[35m (38.9ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:31:58', '2018-04-30 11:31:58')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (1.1ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191010 AND `cart_items`.`movie_id` = 4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980191010, '2018-04-30 11:31:58', '2018-04-30 11:31:58')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 30ms (ActiveRecord: 6.0ms)
Processing by CartController#add as HTML
  Parameters: {"id"=>"3"}
  [1m[35mCart Load (0.7ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191010 LIMIT 1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191010 AND `cart_items`.`movie_id` = 3[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 1, 85.0, 980191010, '2018-04-30 11:31:58', '2018-04-30 11:31:58')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 19ms (ActiveRecord: 4.3ms)
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mMovie Load (0.4ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1[0m
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191010 LIMIT 1
  [1m[36mMovie Load (1.0ms)[0m  [1mSELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980191010[0m
Processing by CartController#clear as HTML
  [1m[35mCart Load (0.7ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191010 LIMIT 1
  [1m[36mCartItem Load (0.7ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191010[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980191001[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980191002
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 10ms (ActiveRecord: 2.9ms)
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191010 LIMIT 1
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980191010[0m
  [1m[35m (37.9ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (72.8ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-30', 45.0, '2018-04-30 11:51:20', '2018-04-30 11:51:20')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-30', 65.0, '2018-04-30 11:51:20', '2018-04-30 11:51:20')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-30', 85.0, '2018-04-30 11:51:20', '2018-04-30 11:51:20')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-30', 105.0, '2018-04-30 11:51:20', '2018-04-30 11:51:20')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-30', 125.0, '2018-04-30 11:51:20', '2018-04-30 11:51:20')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-30', 145.0, '2018-04-30 11:51:20', '2018-04-30 11:51:20')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-30', 165.0, '2018-04-30 11:51:20', '2018-04-30 11:51:20')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-30', 185.0, '2018-04-30 11:51:20', '2018-04-30 11:51:20')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-30', 40.0, '2018-04-30 11:51:20', '2018-04-30 11:51:20')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-30', 40.0, '2018-04-30 11:51:20', '2018-04-30 11:51:20')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-30 11:51:20', '2018-04-30 11:51:20')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-30 11:51:20', '2018-04-30 11:51:20')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-30 11:51:20', '2018-04-30 11:51:20')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-30 11:51:20', '2018-04-30 11:51:20')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-30 11:51:20', '2018-04-30 11:51:20')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-30 11:51:20', '2018-04-30 11:51:20')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-30 11:51:20', '2018-04-30 11:51:20')
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:51:20', '2018-04-30 13:51:20', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:51:20', '2018-04-30 13:51:20', 2, 2)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:51:20', '2018-04-30 13:51:20', 2, 3)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:51:20', '2018-04-30 13:51:20', 2, 4)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:51:20', '2018-04-30 13:51:20', 2, 5)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:51:20', '2018-04-30 13:51:20', 2, 6)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:51:20', '2018-04-30 13:51:20', 2, 7)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:51:20', '2018-04-30 13:51:20', 3, 8)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:51:20', '2018-04-30 13:51:20', 4, 9)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:51:20', '2018-04-30 13:51:20', 5, 10)[0m
  [1m[35m (43.2ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:51:20', '2018-04-30 11:51:20')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191011 AND `cart_items`.`movie_id` = 4[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980191011, '2018-04-30 11:51:20', '2018-04-30 11:51:20')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 116ms (ActiveRecord: 6.3ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items`
  [1m[36mCart Load (0.7ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191011 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191011
  [1m[36m (76.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:51:20', '2018-04-30 11:51:20')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191012 AND `cart_items`.`movie_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980191012, '2018-04-30 11:51:20', '2018-04-30 11:51:20')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 23ms (ActiveRecord: 4.6ms)
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.7ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191012 LIMIT 1
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980191012[0m
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191012 LIMIT 1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.9ms)[0m  SELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191012 AND `cart_items`.`movie_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1
  [1m[36mCartItem Load (0.6ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 980191004 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980191004[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 16ms (ActiveRecord: 4.3ms)
  [1m[35mCart Load (1.1ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191012 LIMIT 1
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980191012[0m
  [1m[35m (73.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:51:20', '2018-04-30 11:51:20')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.5ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191013 AND `cart_items`.`movie_id` = 4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980191013, '2018-04-30 11:51:20', '2018-04-30 11:51:20')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 24ms (ActiveRecord: 4.6ms)
Processing by CartController#add as HTML
  Parameters: {"id"=>"3"}
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191013 LIMIT 1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191013 AND `cart_items`.`movie_id` = 3[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 1, 85.0, 980191013, '2018-04-30 11:51:20', '2018-04-30 11:51:20')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 18ms (ActiveRecord: 4.1ms)
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1[0m
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191013 LIMIT 1
  [1m[36mMovie Load (1.0ms)[0m  [1mSELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980191013[0m
Processing by CartController#clear as HTML
  [1m[35mCart Load (0.7ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191013 LIMIT 1
  [1m[36mCartItem Load (0.7ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191013[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980191005[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980191006
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 11ms (ActiveRecord: 2.8ms)
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191013 LIMIT 1
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980191013[0m
  [1m[35m (43.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.8ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-04-30', 45.0, '2018-04-30 11:51:29', '2018-04-30 11:51:29')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-04-30', 65.0, '2018-04-30 11:51:29', '2018-04-30 11:51:29')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-04-30', 85.0, '2018-04-30 11:51:29', '2018-04-30 11:51:29')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-04-30', 105.0, '2018-04-30 11:51:29', '2018-04-30 11:51:29')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-04-30', 125.0, '2018-04-30 11:51:29', '2018-04-30 11:51:29')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-04-30', 145.0, '2018-04-30 11:51:29', '2018-04-30 11:51:29')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-04-30', 165.0, '2018-04-30 11:51:29', '2018-04-30 11:51:29')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-04-30', 185.0, '2018-04-30 11:51:29', '2018-04-30 11:51:29')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-04-30', 40.0, '2018-04-30 11:51:29', '2018-04-30 11:51:29')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-04-30', 40.0, '2018-04-30 11:51:29', '2018-04-30 11:51:29')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-04-30 11:51:29', '2018-04-30 11:51:29')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-04-30 11:51:29', '2018-04-30 11:51:29')
  [1m[36mFixture Delete (83.7ms)[0m  [1mDELETE FROM `directors`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-04-30 11:51:29', '2018-04-30 11:51:29')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-04-30 11:51:29', '2018-04-30 11:51:29')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-04-30 11:51:29', '2018-04-30 11:51:29')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-04-30 11:51:29', '2018-04-30 11:51:29')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-04-30 11:51:29', '2018-04-30 11:51:29')
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM `directors_movies`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:51:29', '2018-04-30 13:51:29', 1, 1)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:51:29', '2018-04-30 13:51:29', 2, 2)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:51:29', '2018-04-30 13:51:29', 2, 3)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:51:29', '2018-04-30 13:51:29', 2, 4)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:51:29', '2018-04-30 13:51:29', 2, 5)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:51:29', '2018-04-30 13:51:29', 2, 6)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:51:29', '2018-04-30 13:51:29', 2, 7)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:51:29', '2018-04-30 13:51:29', 3, 8)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:51:29', '2018-04-30 13:51:29', 4, 9)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-04-30 13:51:29', '2018-04-30 13:51:29', 5, 10)[0m
  [1m[35m (38.8ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:51:30', '2018-04-30 11:51:30')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191014 AND `cart_items`.`movie_id` = 4
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980191014, '2018-04-30 11:51:30', '2018-04-30 11:51:30')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 126ms (ActiveRecord: 8.0ms)
Processing by CartController#add as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191014 LIMIT 1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191014 AND `cart_items`.`movie_id` = 3
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 1, 85.0, 980191014, '2018-04-30 11:51:30', '2018-04-30 11:51:30')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 19ms (ActiveRecord: 4.2ms)
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mMovie Load (0.5ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191014 LIMIT 1[0m
  [1m[35mMovie Load (1.0ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980191014
Processing by CartController#clear as HTML
  [1m[36mCart Load (0.8ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191014 LIMIT 1[0m
  [1m[35mCartItem Load (0.8ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191014
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980191007
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980191008[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 11ms (ActiveRecord: 3.0ms)
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191014 LIMIT 1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980191014
  [1m[36m (58.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:51:30', '2018-04-30 11:51:30')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191015 AND `cart_items`.`movie_id` = 4
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980191015, '2018-04-30 11:51:30', '2018-04-30 11:51:30')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 26ms (ActiveRecord: 5.5ms)
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191015 LIMIT 1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980191015[0m
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191015 LIMIT 1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.7ms)[0m  SELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191015 AND `cart_items`.`movie_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1
  [1m[36mCartItem Load (0.6ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 980191009 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980191009[0m
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 15ms (ActiveRecord: 3.8ms)
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191015 LIMIT 1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980191015[0m
  [1m[35m (82.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `cart_items`
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-04-30 11:51:30', '2018-04-30 11:51:30')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.5ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191016 AND `cart_items`.`movie_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980191016, '2018-04-30 11:51:30', '2018-04-30 11:51:30')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 25ms (ActiveRecord: 5.0ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
  [1m[35mCart Load (0.7ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980191016 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980191016[0m
  [1m[35m (45.8ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (39.3ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.7ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.5ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.5ms)[0m  SELECT `schema_migrations`.* FROM `schema_migrations`
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
Migrating to CreateOrders (20190702175419)
  [1m[35m (291.6ms)[0m  CREATE TABLE `orders` (`id` int(11) auto_increment PRIMARY KEY, `email` varchar(255), `phone_number` varchar(255), `ship_to_first_name` varchar(255), `ship_to_last_name` varchar(255), `ship_to_address` varchar(255), `ship_to_city` varchar(255), `ship_to_postal_code` varchar(255), `ship_to_country_code` varchar(255), `customer_ip` varchar(255), `status` varchar(255), `error_message` varchar(255), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `schema_migrations` (`version`) VALUES ('20190702175419')
  [1m[36m (51.1ms)[0m  [1mCOMMIT[0m
Migrating to CreateOrderItems (20190702175420)
  [1m[35m (242.4ms)[0m  CREATE TABLE `order_items` (`id` int(11) auto_increment PRIMARY KEY, `movie_id` int(11), `order_id` int(11), `price` float, `amount` int(11), `created_at` datetime, `updated_at` datetime) ENGINE=InnoDB
  [1m[36m (748.4ms)[0m  [1mALTER TABLE order_items ADD CONSTRAINT fk_order_items_orders
              FOREIGN KEY (order_id) REFERENCES orders(id) ON DELETE CASCADE[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `schema_migrations` (`version`) VALUES ('20190702175420')[0m
  [1m[35m (83.6ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'eshop2_test'
  AND fk.table_name = 'cart_items'

  [1m[36m (0.3ms)[0m  [1mSHOW CREATE TABLE `cart_items`[0m
  [1m[35m (0.5ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'eshop2_test'
  AND fk.table_name = 'carts'

  [1m[36m (0.3ms)[0m  [1mSHOW CREATE TABLE `carts`[0m
  [1m[35m (0.5ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'eshop2_test'
  AND fk.table_name = 'directors'

  [1m[36m (0.3ms)[0m  [1mSHOW CREATE TABLE `directors`[0m
  [1m[35m (0.5ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'eshop2_test'
  AND fk.table_name = 'directors_movies'

  [1m[36m (0.4ms)[0m  [1mSHOW CREATE TABLE `directors_movies`[0m
  [1m[35m (0.6ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'eshop2_test'
  AND fk.table_name = 'movies'

  [1m[36m (0.4ms)[0m  [1mSHOW CREATE TABLE `movies`[0m
  [1m[35m (0.6ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'eshop2_test'
  AND fk.table_name = 'order_items'

  [1m[36m (0.4ms)[0m  [1mSHOW CREATE TABLE `order_items`[0m
  [1m[35m (0.6ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'eshop2_test'
  AND fk.table_name = 'orders'

  [1m[36m (0.4ms)[0m  [1mSHOW CREATE TABLE `orders`[0m
  [1m[35m (0.5ms)[0m  SELECT fk.referenced_table_name as 'to_table'
      ,fk.referenced_column_name as 'primary_key'
      ,fk.column_name as 'column'
      ,fk.constraint_name as 'name'
FROM information_schema.key_column_usage fk
WHERE fk.referenced_column_name is not null
  AND fk.table_schema = 'eshop2_test'
  AND fk.table_name = 'producers'

  [1m[36m (0.3ms)[0m  [1mSHOW CREATE TABLE `producers`[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (83.0ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-05-07', 45.0, '2018-05-07 10:39:49', '2018-05-07 10:39:49')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-05-07', 65.0, '2018-05-07 10:39:49', '2018-05-07 10:39:49')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-05-07', 85.0, '2018-05-07 10:39:49', '2018-05-07 10:39:49')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-05-07', 105.0, '2018-05-07 10:39:49', '2018-05-07 10:39:49')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-05-07', 125.0, '2018-05-07 10:39:49', '2018-05-07 10:39:49')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-05-07', 145.0, '2018-05-07 10:39:49', '2018-05-07 10:39:49')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-05-07', 165.0, '2018-05-07 10:39:49', '2018-05-07 10:39:49')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-05-07', 185.0, '2018-05-07 10:39:49', '2018-05-07 10:39:49')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-05-07', 40.0, '2018-05-07 10:39:49', '2018-05-07 10:39:49')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-05-07', 40.0, '2018-05-07 10:39:49', '2018-05-07 10:39:49')[0m
  [1m[35mFixture Delete (0.3ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-05-07 10:39:49', '2018-05-07 10:39:49')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-05-07 10:39:49', '2018-05-07 10:39:49')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 10:39:49', '2018-05-07 10:39:49', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 10:39:49', '2018-05-07 10:39:49', 298486374)[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM `directors`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-05-07 10:39:49', '2018-05-07 10:39:49')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-05-07 10:39:49', '2018-05-07 10:39:49')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-05-07 10:39:49', '2018-05-07 10:39:49')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-05-07 10:39:49', '2018-05-07 10:39:49')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-05-07 10:39:49', '2018-05-07 10:39:49')[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM `directors_movies`
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 12:39:49', '2018-05-07 12:39:49', 1, 1)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 12:39:49', '2018-05-07 12:39:49', 2, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 12:39:49', '2018-05-07 12:39:49', 2, 3)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 12:39:49', '2018-05-07 12:39:49', 2, 4)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 12:39:49', '2018-05-07 12:39:49', 2, 5)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 12:39:49', '2018-05-07 12:39:49', 2, 6)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 12:39:49', '2018-05-07 12:39:49', 2, 7)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 12:39:49', '2018-05-07 12:39:49', 3, 8)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 12:39:49', '2018-05-07 12:39:49', 4, 9)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 12:39:49', '2018-05-07 12:39:49', 5, 10)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 10:39:49', '2018-05-07 10:39:49', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 10:39:49', '2018-05-07 10:39:49', 298486374)[0m
  [1m[35m (68.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'ES', '127.0.0.1', 'open', '2018-05-07 10:39:49', '2018-05-07 10:39:49')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `order_items` (`movie_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 155.25, 3, 980190963, '2018-05-07 10:39:49', '2018-05-07 10:39:49')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (19.1ms)[0m  UPDATE `orders` SET `status` = 'processed', `updated_at` = '2018-05-07 10:39:50' WHERE `orders`.`id` = 980190963
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mOrder Load (0.9ms)[0m  SELECT  `orders`.* FROM `orders` WHERE `orders`.`id` = 980190963 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `order_items` WHERE `order_items`.`order_id` = 980190963[0m
  [1m[35mOrderItem Load (0.9ms)[0m  SELECT `order_items`.* FROM `order_items` WHERE `order_items`.`order_id` = 980190963
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `orders` SET `status` = 'closed', `updated_at` = '2018-05-07 10:39:50' WHERE `orders`.`id` = 980190963
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (36.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------
OrderTest: test_validations
---------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.8ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (94.4ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-05-07', 45.0, '2018-05-07 11:22:12', '2018-05-07 11:22:12')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-05-07', 65.0, '2018-05-07 11:22:12', '2018-05-07 11:22:12')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-05-07', 85.0, '2018-05-07 11:22:12', '2018-05-07 11:22:12')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-05-07', 105.0, '2018-05-07 11:22:12', '2018-05-07 11:22:12')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-05-07', 125.0, '2018-05-07 11:22:12', '2018-05-07 11:22:12')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-05-07', 145.0, '2018-05-07 11:22:12', '2018-05-07 11:22:12')[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-05-07', 165.0, '2018-05-07 11:22:12', '2018-05-07 11:22:12')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-05-07', 185.0, '2018-05-07 11:22:12', '2018-05-07 11:22:12')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-05-07', 40.0, '2018-05-07 11:22:12', '2018-05-07 11:22:12')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-05-07', 40.0, '2018-05-07 11:22:12', '2018-05-07 11:22:12')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-05-07 11:22:12', '2018-05-07 11:22:12')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-05-07 11:22:12', '2018-05-07 11:22:12')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (91.9ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:22:12', '2018-05-07 11:22:12', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:22:12', '2018-05-07 11:22:12', 298486374)[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM `directors`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-05-07 11:22:12', '2018-05-07 11:22:12')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-05-07 11:22:12', '2018-05-07 11:22:12')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-05-07 11:22:12', '2018-05-07 11:22:12')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-05-07 11:22:12', '2018-05-07 11:22:12')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-05-07 11:22:12', '2018-05-07 11:22:12')[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM `directors_movies`
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:22:12', '2018-05-07 13:22:12', 1, 1)[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:22:12', '2018-05-07 13:22:12', 2, 2)
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:22:12', '2018-05-07 13:22:12', 2, 3)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:22:12', '2018-05-07 13:22:12', 2, 4)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:22:12', '2018-05-07 13:22:12', 2, 5)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:22:12', '2018-05-07 13:22:12', 2, 6)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:22:12', '2018-05-07 13:22:12', 2, 7)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:22:12', '2018-05-07 13:22:12', 3, 8)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:22:12', '2018-05-07 13:22:12', 4, 9)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:22:12', '2018-05-07 13:22:12', 5, 10)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:22:12', '2018-05-07 11:22:12', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:22:12', '2018-05-07 11:22:12', 298486374)[0m
  [1m[35m (85.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (11.1ms)
  Rendered admin/producer/new.html.erb within layouts/application (23.2ms)
Completed 200 OK in 1075ms (Views: 1066.2ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-05-07 11:22:13' WHERE `producers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 45ms (ActiveRecord: 2.7ms)
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (49.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.4ms)[0m  DELETE FROM `producers` WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 6ms (ActiveRecord: 2.4ms)
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (4.0ms)
  Rendered admin/producer/index.html.erb within layouts/application (8.9ms)
Completed 200 OK in 15ms (Views: 13.6ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (38.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/show.html.erb within layouts/application (3.2ms)
Completed 200 OK in 12ms (Views: 8.8ms | ActiveRecord: 0.8ms)
  [1m[36mProducer Exists (1.2ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/_form.html.erb (0.7ms)
  Rendered admin/producer/edit.html.erb within layouts/application (5.0ms)
Completed 200 OK in 12ms (Views: 10.0ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.7ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-05-07 11:22:14', '2018-05-07 11:22:14')[0m
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 11ms (ActiveRecord: 2.2ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (35.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.8ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (4.6ms)
  Rendered admin/producer/index.html.erb within layouts/application (8.0ms)
Completed 200 OK in 12ms (Views: 10.5ms | ActiveRecord: 0.8ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
Admin::OrderControllerTest: test_should_get_close
-------------------------------------------------
Processing by Admin::OrderController#close as HTML
  Rendered admin/order/close.html.erb within layouts/application (0.9ms)
Completed 200 OK in 13ms (Views: 12.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
Admin::OrderControllerTest: test_should_get_index
-------------------------------------------------
Processing by Admin::OrderController#index as HTML
  Rendered admin/order/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 6ms (Views: 5.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
Admin::OrderControllerTest: test_should_get_show
------------------------------------------------
Processing by Admin::OrderController#show as HTML
  Rendered admin/order/show.html.erb within layouts/application (0.7ms)
Completed 200 OK in 5ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 14ms (Views: 13.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2018-05-07 13:22:14 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-05-07 11:22:14', '2018-05-07 11:22:14')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 0
  [1m[36mHABTM_Directors Load (0.8ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)
  [1m[36mProducer Load (1.0ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `movies`
  Rendered catalog/_movies.html.erb (135.9ms)
  Rendered catalog/index.html.erb within layouts/application (139.7ms)
  [1m[36mCartItem Load (0.6ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190963[0m
  Rendered cart/_cart.html.erb (16.5ms)
Completed 200 OK in 209ms (Views: 163.0ms | ActiveRecord: 10.6ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2018-05-07 13:22:14 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.7ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190963 LIMIT 1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Directors Load (0.8ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (5, 4, 3, 2, 1)
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (2, 1)[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (1)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  Rendered catalog/_movies.html.erb (33.7ms)
  Rendered catalog/index.html.erb within layouts/application (35.1ms)
  [1m[35mCartItem Load (0.9ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190963
  Rendered cart/_cart.html.erb (3.5ms)
Completed 200 OK in 47ms (Views: 38.1ms | ActiveRecord: 5.3ms)
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pro Rails E-Commerce' LIMIT 1[0m
  [1m[35mMovie Load (1.0ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pride and Prejudice'  ORDER BY `movies`.`id` ASC LIMIT 1
Started GET "/catalog/show/9" for 127.0.0.1 at 2018-05-07 13:22:14 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 9 LIMIT 1[0m
  [1m[35mDirector Load (1.3ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 2 LIMIT 1[0m
  Rendered catalog/show.html.erb within layouts/application (13.5ms)
Completed 200 OK in 22ms (Views: 16.4ms | ActiveRecord: 2.8ms)
  [1m[35mDirector Load (1.0ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9
Started GET "/catalog/latest" for 127.0.0.1 at 2018-05-07 13:22:14 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.8ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190963 LIMIT 1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5
  [1m[36mHABTM_Directors Load (1.1ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)[0m
  Rendered catalog/_movies.html.erb (28.2ms)
  Rendered catalog/latest.html.erb within layouts/application (29.4ms)
  [1m[35mCartItem Load (0.6ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190963
  Rendered cart/_cart.html.erb (3.1ms)
Completed 200 OK in 40ms (Views: 33.4ms | ActiveRecord: 4.6ms)
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5[0m
  [1m[35mHABTM_Directors Load (0.8ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)
  [1m[36m (52.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'ES', '127.0.0.1', 'open', '2018-05-07 11:22:14', '2018-05-07 11:22:14')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `order_items` (`movie_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 155.25, 3, 980190964, '2018-05-07 11:22:14', '2018-05-07 11:22:14')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE `orders` SET `status` = 'failed', `error_message` = 'Your order has been received. Thank you for your business!', `updated_at` = '2018-05-07 11:22:16' WHERE `orders`.`id` = 980190964
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (35.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------
OrderTest: test_validations
---------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.6ms)[0m  [1mBEGIN[0m
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-05-07 11:22:16', '2018-05-07 11:22:16')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-05-07 11:22:16', '2018-05-07 11:22:16')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-05-07 13:22:16 +0200
Processing by Admin::MovieController#new as HTML
  [1m[36mProducer Load (0.9ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (52.1ms)
  Rendered admin/movie/new.html.erb within layouts/application (56.3ms)
Completed 200 OK in 71ms (Views: 67.4ms | ActiveRecord: 1.7ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-05-07 13:22:16 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"4", "director_ids"=>["6"], "produced_at"=>"2018-05-07 13:22:16 +0200", "serial_number"=>"64214", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 6 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 4 LIMIT 1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '64214' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `price`, `length`, `created_at`, `updated_at`) VALUES ('A new Movie of Ruby', 4, '2018-05-07 11:22:16', '64214', 'A new Movie of Ruby', 45.5, 325, '2018-05-07 11:22:16', '2018-05-07 11:22:16')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (6, 11, '2018-05-07 11:22:16', '2018-05-07 11:22:16')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 34ms (ActiveRecord: 3.9ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-05-07 13:22:16 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (25.1ms)
Completed 200 OK in 33ms (Views: 28.0ms | ActiveRecord: 2.4ms)
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-05-07 13:22:16 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (22.2ms)
Completed 200 OK in 28ms (Views: 23.7ms | ActiveRecord: 2.3ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `movies`
Started GET "/admin/movie/index/?page=3" for 127.0.0.1 at 2018-05-07 13:22:16 +0200
Processing by Admin::MovieController#index as HTML
  Parameters: {"page"=>"3"}
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 10[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 4 LIMIT 1
  Rendered admin/movie/index.html.erb within layouts/application (9.3ms)
Completed 200 OK in 15ms (Views: 11.8ms | ActiveRecord: 1.6ms)
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'A new Movie of Ruby' LIMIT 1[0m
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-05-07 13:22:16 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (55.9ms)
Completed 200 OK in 64ms (Views: 60.7ms | ActiveRecord: 2.0ms)
Started GET "/admin/movie/show/11" for 127.0.0.1 at 2018-05-07 13:22:16 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 11 LIMIT 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 4 LIMIT 1
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 11[0m
  Rendered admin/movie/show.html.erb within layouts/application (16.4ms)
Completed 200 OK in 28ms (Views: 21.9ms | ActiveRecord: 2.3ms)
Started GET "/admin/movie/edit?id=11" for 127.0.0.1 at 2018-05-07 13:22:16 +0200
Processing by Admin::MovieController#edit as HTML
  Parameters: {"id"=>"11"}
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 11 LIMIT 1
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 11
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (32.4ms)
  Rendered admin/movie/edit.html.erb within layouts/application (36.8ms)
Completed 200 OK in 48ms (Views: 41.5ms | ActiveRecord: 3.0ms)
Started POST "/admin/movie/update?id=11" for 127.0.0.1 at 2018-05-07 13:22:16 +0200
Processing by Admin::MovieController#update as HTML
  Parameters: {"movie"=>{"title"=>"A very new Movie of Ruby", "producer_id"=>"4", "director_ids"=>["6"], "produced_at"=>"2018-05-07 13:22:16 +0200", "serial_number"=>"43214", "blurb"=>"A very new Movie of Ruby", "length"=>"350", "price"=>"50"}, "id"=>"11"}
  [1m[35mMovie Load (1.0ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 11 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 6 LIMIT 1
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 11[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 4 LIMIT 1
  [1m[36mMovie Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE (`movies`.`serial_number` = BINARY '43214' AND `movies`.`id` != 11) LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `movies` SET `title` = 'A very new Movie of Ruby', `serial_number` = '43214', `blurb` = 'A very new Movie of Ruby', `price` = 50.0, `length` = 350, `updated_at` = '2018-05-07 11:22:16' WHERE `movies`.`id` = 11
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/movie/show/11
Completed 302 Found in 37ms (ActiveRecord: 6.0ms)
Started GET "/admin/movie/show/11" for 127.0.0.1 at 2018-05-07 13:22:16 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 11 LIMIT 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 4 LIMIT 1[0m
  [1m[35mDirector Load (1.2ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 11
  Rendered admin/movie/show.html.erb within layouts/application (12.5ms)
Completed 200 OK in 24ms (Views: 18.5ms | ActiveRecord: 2.6ms)
Started POST "/admin/movie/destroy?id=11" for 127.0.0.1 at 2018-05-07 13:22:16 +0200
Processing by Admin::MovieController#destroy as HTML
  Parameters: {"id"=>"11"}
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 11 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM `directors_movies` WHERE `directors_movies`.`movie_id` = 11[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM `movies` WHERE `movies`.`id` = 11
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 14ms (ActiveRecord: 3.1ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-05-07 13:22:16 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (1.2ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (46.9ms)
Completed 200 OK in 55ms (Views: 50.2ms | ActiveRecord: 3.0ms)
  [1m[36m (57.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-05-07 11:22:16', '2018-05-07 11:22:16')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (129.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-05-07 11:22:17', '2018-05-07 11:22:17')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mMovie Load (1.2ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190964 AND `cart_items`.`movie_id` = 4[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190964, '2018-05-07 11:22:17', '2018-05-07 11:22:17')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 125ms (ActiveRecord: 80.6ms)
  [1m[35mMovie Load (1.0ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.7ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190964 LIMIT 1[0m
  [1m[35mMovie Load (1.0ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190964
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190964 LIMIT 1[0m
  [1m[35mMovie Load (1.0ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mCartItem Load (0.9ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190964 AND `cart_items`.`movie_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1[0m
  [1m[35mCartItem Load (0.7ms)[0m  SELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 980190963 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.8ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190963
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (1.0ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 22ms (ActiveRecord: 6.4ms)
  [1m[36mCart Load (0.8ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190964 LIMIT 1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190964
  [1m[36m (46.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-05-07 11:22:17', '2018-05-07 11:22:17')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190965 AND `cart_items`.`movie_id` = 4[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190965, '2018-05-07 11:22:17', '2018-05-07 11:22:17')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 31ms (ActiveRecord: 5.2ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `cart_items`
  [1m[36mCart Load (0.7ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190965 LIMIT 1[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190965
  [1m[36m (37.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-05-07 11:22:17', '2018-05-07 11:22:17')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190966 AND `cart_items`.`movie_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190966, '2018-05-07 11:22:17', '2018-05-07 11:22:17')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 29ms (ActiveRecord: 5.2ms)
Processing by CartController#add as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.7ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190966 LIMIT 1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190966 AND `cart_items`.`movie_id` = 3
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 1, 85.0, 980190966, '2018-05-07 11:22:17', '2018-05-07 11:22:17')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 23ms (ActiveRecord: 5.0ms)
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190966 LIMIT 1[0m
  [1m[35mMovie Load (1.0ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190966
Processing by CartController#clear as HTML
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190966 LIMIT 1[0m
  [1m[35mCartItem Load (0.8ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190966
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190965
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190966[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 12ms (ActiveRecord: 3.0ms)
  [1m[36mCart Load (2.0ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190966 LIMIT 1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190966
  [1m[36m (41.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.7ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-05-07 11:22:17', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-05-07 11:22:17', '2018-05-07 11:22:17')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 12, '2018-05-07 11:22:17', '2018-05-07 11:22:17')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 12, '2018-05-07 11:22:17', '2018-05-07 11:22:17')[0m
  [1m[35m (0.9ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 12 LIMIT 1[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 12
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1
  [1m[36m (44.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.8ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-05-07 11:22:17', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-05-07 11:22:17', '2018-05-07 11:22:17')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 13, '2018-05-07 11:22:17', '2018-05-07 11:22:17')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 13, '2018-05-07 11:22:17', '2018-05-07 11:22:17')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 13 LIMIT 1
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mProducer Load (0.9ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (33.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------
MovieTest: test_create
----------------------
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT `directors`.* FROM `directors`
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-05-07 11:22:17', '12425', 'A great movie', 375, 45.5, '2018-05-07 11:22:17', '2018-05-07 11:22:17')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 14, '2018-05-07 11:22:17', '2018-05-07 11:22:17')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 14, '2018-05-07 11:22:17', '2018-05-07 11:22:17')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 14, '2018-05-07 11:22:17', '2018-05-07 11:22:17')[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 14, '2018-05-07 11:22:17', '2018-05-07 11:22:17')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 14, '2018-05-07 11:22:17', '2018-05-07 11:22:17')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (42.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (2.4ms)
  Rendered admin/director/new.html.erb within layouts/application (6.4ms)
Completed 200 OK in 19ms (Views: 18.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-05-07 11:22:17', '2018-05-07 11:22:17')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 9ms (Views: 18.6ms | ActiveRecord: 1.0ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (37.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.9ms)
  Rendered admin/director/new.html.erb within layouts/application (3.0ms)
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[36mDirector Load (1.0ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-05-07 11:22:17' WHERE `directors`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 13ms (ActiveRecord: 2.5ms)
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (36.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/show.html.erb within layouts/application (3.2ms)
Completed 200 OK in 12ms (Views: 8.9ms | ActiveRecord: 0.9ms)
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/_form.html.erb (1.0ms)
  Rendered admin/director/edit.html.erb within layouts/application (5.2ms)
Completed 200 OK in 13ms (Views: 10.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/director/_form.html.erb (6.4ms)
  Rendered admin/director/new.html.erb within layouts/application (8.5ms)
Completed 200 OK in 21ms (Views: 13.1ms | ActiveRecord: 0.7ms)
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (0.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (10.6ms)
  Rendered admin/director/index.html.erb within layouts/application (18.2ms)
Completed 200 OK in 24ms (Views: 23.1ms | ActiveRecord: 0.7ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM `directors` WHERE `directors`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 10ms (ActiveRecord: 2.5ms)
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (7.7ms)
  Rendered admin/director/index.html.erb within layouts/application (11.0ms)
Completed 200 OK in 16ms (Views: 14.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (34.8ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (89.3ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-05-07', 45.0, '2018-05-07 11:23:50', '2018-05-07 11:23:50')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-05-07', 65.0, '2018-05-07 11:23:50', '2018-05-07 11:23:50')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-05-07', 85.0, '2018-05-07 11:23:50', '2018-05-07 11:23:50')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-05-07', 105.0, '2018-05-07 11:23:50', '2018-05-07 11:23:50')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-05-07', 125.0, '2018-05-07 11:23:50', '2018-05-07 11:23:50')
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-05-07', 145.0, '2018-05-07 11:23:50', '2018-05-07 11:23:50')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-05-07', 165.0, '2018-05-07 11:23:50', '2018-05-07 11:23:50')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-05-07', 185.0, '2018-05-07 11:23:50', '2018-05-07 11:23:50')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-05-07', 40.0, '2018-05-07 11:23:50', '2018-05-07 11:23:50')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-05-07', 40.0, '2018-05-07 11:23:50', '2018-05-07 11:23:50')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-05-07 11:23:50', '2018-05-07 11:23:50')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-05-07 11:23:50', '2018-05-07 11:23:50')
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (93.1ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:23:50', '2018-05-07 11:23:50', 980190962)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:23:50', '2018-05-07 11:23:50', 298486374)[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM `directors`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-05-07 11:23:50', '2018-05-07 11:23:50')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-05-07 11:23:50', '2018-05-07 11:23:50')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-05-07 11:23:50', '2018-05-07 11:23:50')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-05-07 11:23:50', '2018-05-07 11:23:50')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-05-07 11:23:50', '2018-05-07 11:23:50')[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM `directors_movies`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:23:50', '2018-05-07 13:23:50', 1, 1)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:23:50', '2018-05-07 13:23:50', 2, 2)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:23:50', '2018-05-07 13:23:50', 2, 3)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:23:50', '2018-05-07 13:23:50', 2, 4)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:23:50', '2018-05-07 13:23:50', 2, 5)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:23:50', '2018-05-07 13:23:50', 2, 6)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:23:50', '2018-05-07 13:23:50', 2, 7)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:23:50', '2018-05-07 13:23:50', 3, 8)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:23:50', '2018-05-07 13:23:50', 4, 9)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:23:50', '2018-05-07 13:23:50', 5, 10)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:23:50', '2018-05-07 11:23:50', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:23:50', '2018-05-07 11:23:50', 298486374)[0m
  [1m[35m (67.3ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/director/_form.html.erb (10.2ms)
  Rendered admin/director/new.html.erb within layouts/application (22.1ms)
Completed 200 OK in 680ms (Views: 640.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.8ms)
  Rendered admin/director/new.html.erb within layouts/application (2.3ms)
Completed 200 OK in 6ms (Views: 5.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/show.html.erb within layouts/application (2.4ms)
Completed 200 OK in 22ms (Views: 6.9ms | ActiveRecord: 0.7ms)
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-05-07 11:23:51' WHERE `directors`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 10ms (ActiveRecord: 1.7ms)
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (58.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (1.0ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/_form.html.erb (0.7ms)
  Rendered admin/director/edit.html.erb within layouts/application (4.2ms)
Completed 200 OK in 13ms (Views: 9.9ms | ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.7ms)
  Rendered admin/director/new.html.erb within layouts/application (2.3ms)
Completed 200 OK in 6ms (Views: 5.3ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-05-07 11:23:52', '2018-05-07 11:23:52')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 7ms (Views: 5.3ms | ActiveRecord: 0.9ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (38.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (8.7ms)
  Rendered admin/director/index.html.erb within layouts/application (14.6ms)
Completed 200 OK in 21ms (Views: 19.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM `directors` WHERE `directors`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 46ms (ActiveRecord: 3.7ms)
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.5ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (6.0ms)
  Rendered admin/director/index.html.erb within layouts/application (8.6ms)
Completed 200 OK in 12ms (Views: 11.1ms | ActiveRecord: 0.5ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (35.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.6ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-05-07 11:23:52', '2018-05-07 11:23:52')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 29ms (ActiveRecord: 1.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (33.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/_form.html.erb (1.6ms)
  Rendered admin/producer/edit.html.erb within layouts/application (6.6ms)
Completed 200 OK in 23ms (Views: 19.5ms | ActiveRecord: 0.7ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (4.6ms)
  Rendered admin/producer/index.html.erb within layouts/application (9.2ms)
Completed 200 OK in 14ms (Views: 12.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (0.5ms)
  Rendered admin/producer/new.html.erb within layouts/application (3.4ms)
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.8ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-05-07 11:23:52' WHERE `producers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 13ms (ActiveRecord: 2.4ms)
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (38.8ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.6ms)[0m  [1mDELETE FROM `producers` WHERE `producers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 8ms (ActiveRecord: 2.7ms)
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (2.2ms)
  Rendered admin/producer/index.html.erb within layouts/application (5.5ms)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.8ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (109.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.9ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 10ms (Views: 7.1ms | ActiveRecord: 0.9ms)
  [1m[35mProducer Exists (0.8ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `cart_items`
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-05-07 11:23:52', '2018-05-07 11:23:52')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190967 AND `cart_items`.`movie_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190967, '2018-05-07 11:23:52', '2018-05-07 11:23:52')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 84ms (ActiveRecord: 6.4ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190967 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190967[0m
  [1m[35m (42.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-05-07 11:23:52', '2018-05-07 11:23:52')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.5ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190968 AND `cart_items`.`movie_id` = 4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190968, '2018-05-07 11:23:52', '2018-05-07 11:23:52')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 24ms (ActiveRecord: 4.9ms)
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mCart Load (1.1ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190968 LIMIT 1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190968
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190968 LIMIT 1[0m
  [1m[35mMovie Load (0.5ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mCartItem Load (0.7ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190968 AND `cart_items`.`movie_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1[0m
  [1m[35mCartItem Load (0.6ms)[0m  SELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 980190968 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190968
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.5ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 15ms (ActiveRecord: 3.7ms)
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190968 LIMIT 1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190968
  [1m[36m (79.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-05-07 11:23:52', '2018-05-07 11:23:52')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190969 AND `cart_items`.`movie_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190969, '2018-05-07 11:23:53', '2018-05-07 11:23:53')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 23ms (ActiveRecord: 4.3ms)
Processing by CartController#add as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.7ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190969 LIMIT 1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190969 AND `cart_items`.`movie_id` = 3
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 1, 85.0, 980190969, '2018-05-07 11:23:53', '2018-05-07 11:23:53')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 17ms (ActiveRecord: 4.4ms)
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190969 LIMIT 1[0m
  [1m[35mMovie Load (1.0ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190969
Processing by CartController#clear as HTML
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190969 LIMIT 1[0m
  [1m[35mCartItem Load (0.8ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190969
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190969
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190970[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 11ms (ActiveRecord: 3.0ms)
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190969 LIMIT 1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190969
  [1m[36m (35.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  BEGIN
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (1.0ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-05-07 11:23:53', '2018-05-07 11:23:53')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-05-07 11:23:53', '2018-05-07 11:23:53')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1[0m
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-05-07 13:23:53 +0200
Processing by Admin::MovieController#new as HTML
  [1m[35mProducer Load (0.5ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (39.3ms)
  Rendered admin/movie/new.html.erb within layouts/application (43.2ms)
Completed 200 OK in 74ms (Views: 54.5ms | ActiveRecord: 1.1ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-05-07 13:23:53 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"6", "director_ids"=>["10"], "produced_at"=>"2018-05-07 13:23:53 +0200", "serial_number"=>"64214", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 10 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 6 LIMIT 1
  [1m[36mMovie Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '64214' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `price`, `length`, `created_at`, `updated_at`) VALUES ('A new Movie of Ruby', 6, '2018-05-07 11:23:53', '64214', 'A new Movie of Ruby', 45.5, 325, '2018-05-07 11:23:53', '2018-05-07 11:23:53')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (10, 15, '2018-05-07 11:23:53', '2018-05-07 11:23:53')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 46ms (ActiveRecord: 4.5ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-05-07 13:23:53 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (26.6ms)
Completed 200 OK in 33ms (Views: 29.5ms | ActiveRecord: 2.2ms)
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-05-07 13:23:53 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (85.1ms)
Completed 200 OK in 90ms (Views: 86.3ms | ActiveRecord: 2.4ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
Started GET "/admin/movie/index/?page=3" for 127.0.0.1 at 2018-05-07 13:23:53 +0200
Processing by Admin::MovieController#index as HTML
  Parameters: {"page"=>"3"}
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 10
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 6 LIMIT 1[0m
  Rendered admin/movie/index.html.erb within layouts/application (7.5ms)
Completed 200 OK in 12ms (Views: 9.2ms | ActiveRecord: 1.5ms)
  [1m[35mMovie Load (1.0ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'A new Movie of Ruby' LIMIT 1
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-05-07 13:23:53 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (24.2ms)
Completed 200 OK in 30ms (Views: 26.2ms | ActiveRecord: 2.2ms)
Started GET "/admin/movie/show/15" for 127.0.0.1 at 2018-05-07 13:23:53 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[35mMovie Load (1.0ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 15 LIMIT 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 6 LIMIT 1[0m
  [1m[35mDirector Load (1.1ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 15
  Rendered admin/movie/show.html.erb within layouts/application (12.6ms)
Completed 200 OK in 20ms (Views: 15.5ms | ActiveRecord: 2.7ms)
Started GET "/admin/movie/edit?id=15" for 127.0.0.1 at 2018-05-07 13:23:53 +0200
Processing by Admin::MovieController#edit as HTML
  Parameters: {"id"=>"15"}
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 15 LIMIT 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (1.4ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 15[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (24.7ms)
  Rendered admin/movie/edit.html.erb within layouts/application (28.0ms)
Completed 200 OK in 36ms (Views: 29.8ms | ActiveRecord: 3.5ms)
Started POST "/admin/movie/update?id=15" for 127.0.0.1 at 2018-05-07 13:23:53 +0200
Processing by Admin::MovieController#update as HTML
  Parameters: {"movie"=>{"title"=>"A very new Movie of Ruby", "producer_id"=>"6", "director_ids"=>["10"], "produced_at"=>"2018-05-07 13:23:53 +0200", "serial_number"=>"43214", "blurb"=>"A very new Movie of Ruby", "length"=>"350", "price"=>"50"}, "id"=>"15"}
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 15 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 10 LIMIT 1[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 15
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 6 LIMIT 1[0m
  [1m[35mMovie Exists (1.0ms)[0m  SELECT  1 AS one FROM `movies` WHERE (`movies`.`serial_number` = BINARY '43214' AND `movies`.`id` != 15) LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `movies` SET `title` = 'A very new Movie of Ruby', `serial_number` = '43214', `blurb` = 'A very new Movie of Ruby', `price` = 50.0, `length` = 350, `updated_at` = '2018-05-07 11:23:53' WHERE `movies`.`id` = 15[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie/show/15
Completed 302 Found in 29ms (ActiveRecord: 5.4ms)
Started GET "/admin/movie/show/15" for 127.0.0.1 at 2018-05-07 13:23:53 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 15 LIMIT 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 6 LIMIT 1
  [1m[36mDirector Load (1.0ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 15[0m
  Rendered admin/movie/show.html.erb within layouts/application (8.9ms)
Completed 200 OK in 17ms (Views: 11.6ms | ActiveRecord: 2.5ms)
Started POST "/admin/movie/destroy?id=15" for 127.0.0.1 at 2018-05-07 13:23:53 +0200
Processing by Admin::MovieController#destroy as HTML
  Parameters: {"id"=>"15"}
  [1m[35mMovie Load (1.0ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 15 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`movie_id` = 15
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `movies` WHERE `movies`.`id` = 15[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 9ms (ActiveRecord: 2.7ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-05-07 13:23:53 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (23.7ms)
Completed 200 OK in 29ms (Views: 25.3ms | ActiveRecord: 2.5ms)
  [1m[35m (39.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.7ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-05-07 11:23:53', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-05-07 11:23:53', '2018-05-07 11:23:53')[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 16, '2018-05-07 11:23:53', '2018-05-07 11:23:53')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 16, '2018-05-07 11:23:53', '2018-05-07 11:23:53')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 16 LIMIT 1[0m
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 16
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35m (1.1ms)[0m  SELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1
  [1m[36m (39.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------
MovieTest: test_create
----------------------
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (1.0ms)[0m  SELECT `directors`.* FROM `directors`
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.9ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-05-07 11:23:53', '12425', 'A great movie', 375, 45.5, '2018-05-07 11:23:53', '2018-05-07 11:23:53')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 17, '2018-05-07 11:23:53', '2018-05-07 11:23:53')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 17, '2018-05-07 11:23:53', '2018-05-07 11:23:53')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 17, '2018-05-07 11:23:53', '2018-05-07 11:23:53')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 17, '2018-05-07 11:23:53', '2018-05-07 11:23:53')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 17, '2018-05-07 11:23:53', '2018-05-07 11:23:53')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (39.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.8ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-05-07 11:23:53', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-05-07 11:23:53', '2018-05-07 11:23:53')[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 18, '2018-05-07 11:23:53', '2018-05-07 11:23:53')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 18, '2018-05-07 11:23:53', '2018-05-07 11:23:53')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 18 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (43.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2018-05-07 13:23:54 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-05-07 11:23:54', '2018-05-07 11:23:54')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 0
  [1m[36mHABTM_Directors Load (0.9ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)[0m
  [1m[35m (1.2ms)[0m  SELECT COUNT(*) FROM `movies`
  Rendered catalog/_movies.html.erb (67.3ms)
  Rendered catalog/index.html.erb within layouts/application (72.6ms)
  [1m[36mCartItem Load (0.6ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190970[0m
  Rendered cart/_cart.html.erb (8.1ms)
Completed 200 OK in 108ms (Views: 93.6ms | ActiveRecord: 5.7ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2018-05-07 13:23:54 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190970 LIMIT 1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Directors Load (0.9ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (5, 4, 3, 2, 1)
  [1m[36mDirector Load (1.1ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (2, 1)[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (1)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  Rendered catalog/_movies.html.erb (42.5ms)
  Rendered catalog/index.html.erb within layouts/application (44.8ms)
  [1m[35mCartItem Load (0.8ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190970
  Rendered cart/_cart.html.erb (4.6ms)
Completed 200 OK in 59ms (Views: 50.3ms | ActiveRecord: 5.6ms)
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pro Rails E-Commerce' LIMIT 1[0m
  [1m[35mMovie Load (1.0ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pride and Prejudice'  ORDER BY `movies`.`id` ASC LIMIT 1
Started GET "/catalog/show/9" for 127.0.0.1 at 2018-05-07 13:23:54 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 9 LIMIT 1[0m
  [1m[35mDirector Load (1.1ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 2 LIMIT 1[0m
  Rendered catalog/show.html.erb within layouts/application (11.9ms)
Completed 200 OK in 21ms (Views: 15.2ms | ActiveRecord: 2.5ms)
  [1m[35mDirector Load (1.1ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9
Started GET "/catalog/latest" for 127.0.0.1 at 2018-05-07 13:23:54 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.8ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190970 LIMIT 1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5
  [1m[36mHABTM_Directors Load (1.0ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)[0m
  Rendered catalog/_movies.html.erb (36.8ms)
  Rendered catalog/latest.html.erb within layouts/application (39.2ms)
  [1m[35mCartItem Load (0.8ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190970
  Rendered cart/_cart.html.erb (3.9ms)
Completed 200 OK in 53ms (Views: 44.4ms | ActiveRecord: 5.2ms)
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5[0m
  [1m[35mHABTM_Directors Load (1.2ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)
  [1m[36m (64.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'ES', '127.0.0.1', 'open', '2018-05-07 11:23:54', '2018-05-07 11:23:54')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `order_items` (`movie_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 155.25, 3, 980190965, '2018-05-07 11:23:54', '2018-05-07 11:23:54')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `orders` SET `status` = 'failed', `error_message` = 'Your order has been received. Thank you for your business!', `updated_at` = '2018-05-07 11:23:56' WHERE `orders`.`id` = 980190965
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (39.9ms)[0m  ROLLBACK
  [1m[36m (1.7ms)[0m  [1mBEGIN[0m
---------------------------
OrderTest: test_validations
---------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-05-07 11:23:56', '2018-05-07 11:23:56')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (42.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 14ms (Views: 13.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (1.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (110.7ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-05-07', 45.0, '2018-05-07 11:37:04', '2018-05-07 11:37:04')
  [1m[36mFixture Insert (1.0ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-05-07', 65.0, '2018-05-07 11:37:04', '2018-05-07 11:37:04')[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-05-07', 85.0, '2018-05-07 11:37:04', '2018-05-07 11:37:04')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-05-07', 105.0, '2018-05-07 11:37:04', '2018-05-07 11:37:04')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-05-07', 125.0, '2018-05-07 11:37:04', '2018-05-07 11:37:04')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-05-07', 145.0, '2018-05-07 11:37:04', '2018-05-07 11:37:04')[0m
  [1m[35mFixture Insert (1.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-05-07', 165.0, '2018-05-07 11:37:04', '2018-05-07 11:37:04')
  [1m[36mFixture Insert (2.1ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-05-07', 185.0, '2018-05-07 11:37:04', '2018-05-07 11:37:04')[0m
  [1m[35mFixture Insert (1.1ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-05-07', 40.0, '2018-05-07 11:37:04', '2018-05-07 11:37:04')
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-05-07', 40.0, '2018-05-07 11:37:04', '2018-05-07 11:37:04')[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-05-07 11:37:04', '2018-05-07 11:37:04')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-05-07 11:37:04', '2018-05-07 11:37:04')
  [1m[36mFixture Delete (2.7ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (82.5ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:37:04', '2018-05-07 11:37:04', 980190962)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:37:04', '2018-05-07 11:37:04', 298486374)[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM `directors`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-05-07 11:37:04', '2018-05-07 11:37:04')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-05-07 11:37:04', '2018-05-07 11:37:04')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-05-07 11:37:04', '2018-05-07 11:37:04')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-05-07 11:37:04', '2018-05-07 11:37:04')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-05-07 11:37:04', '2018-05-07 11:37:04')[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM `directors_movies`
  [1m[36mFixture Insert (1.1ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:37:04', '2018-05-07 13:37:04', 1, 1)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:37:04', '2018-05-07 13:37:04', 2, 2)
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:37:04', '2018-05-07 13:37:04', 2, 3)[0m
  [1m[35mFixture Insert (2.6ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:37:04', '2018-05-07 13:37:04', 2, 4)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:37:04', '2018-05-07 13:37:04', 2, 5)[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:37:04', '2018-05-07 13:37:04', 2, 6)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:37:04', '2018-05-07 13:37:04', 2, 7)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:37:04', '2018-05-07 13:37:04', 3, 8)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:37:04', '2018-05-07 13:37:04', 4, 9)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:37:04', '2018-05-07 13:37:04', 5, 10)
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:37:04', '2018-05-07 11:37:04', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:37:04', '2018-05-07 11:37:04', 298486374)[0m
  [1m[35m (82.1ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.4ms)[0m  BEGIN
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-05-07 11:37:05', '2018-05-07 11:37:05')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (62.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (1.2ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-05-07 11:37:05', '2018-05-07 11:37:05')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-05-07 11:37:05', '2018-05-07 11:37:05')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mDirector Load (1.1ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1[0m
  [1m[35mProducer Load (0.9ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-05-07 13:37:05 +0200
Processing by Admin::MovieController#new as HTML
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (167.0ms)
  Rendered admin/movie/new.html.erb within layouts/application (191.7ms)
Completed 200 OK in 921ms (Views: 875.8ms | ActiveRecord: 3.4ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-05-07 13:37:06 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"7", "director_ids"=>["13"], "produced_at"=>"2018-05-07 13:37:05 +0200", "serial_number"=>"64214", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 13 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 7 LIMIT 1[0m
  [1m[35mMovie Exists (0.8ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '64214' LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `price`, `length`, `created_at`, `updated_at`) VALUES ('A new Movie of Ruby', 7, '2018-05-07 11:37:05', '64214', 'A new Movie of Ruby', 45.5, 325, '2018-05-07 11:37:06', '2018-05-07 11:37:06')[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (13, 19, '2018-05-07 11:37:06', '2018-05-07 11:37:06')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 73ms (ActiveRecord: 5.5ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-05-07 13:37:06 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (34.3ms)
Completed 200 OK in 42ms (Views: 36.9ms | ActiveRecord: 2.5ms)
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-05-07 13:37:06 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (21.3ms)
Completed 200 OK in 27ms (Views: 22.4ms | ActiveRecord: 2.1ms)
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies`
Started GET "/admin/movie/index/?page=3" for 127.0.0.1 at 2018-05-07 13:37:06 +0200
Processing by Admin::MovieController#index as HTML
  Parameters: {"page"=>"3"}
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 10[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 7 LIMIT 1
  Rendered admin/movie/index.html.erb within layouts/application (7.0ms)
Completed 200 OK in 11ms (Views: 8.8ms | ActiveRecord: 1.2ms)
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'A new Movie of Ruby' LIMIT 1[0m
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-05-07 13:37:06 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (24.8ms)
Completed 200 OK in 29ms (Views: 25.6ms | ActiveRecord: 2.2ms)
Started GET "/admin/movie/show/19" for 127.0.0.1 at 2018-05-07 13:37:06 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"19"}
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 19 LIMIT 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 7 LIMIT 1
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 19[0m
  Rendered admin/movie/show.html.erb within layouts/application (13.8ms)
Completed 200 OK in 22ms (Views: 16.6ms | ActiveRecord: 2.1ms)
Started GET "/admin/movie/edit?id=19" for 127.0.0.1 at 2018-05-07 13:37:06 +0200
Processing by Admin::MovieController#edit as HTML
  Parameters: {"id"=>"19"}
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 19 LIMIT 1
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 19
  [1m[36mDirector Load (1.1ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (24.1ms)
  Rendered admin/movie/edit.html.erb within layouts/application (27.7ms)
Completed 200 OK in 37ms (Views: 30.6ms | ActiveRecord: 3.5ms)
Started POST "/admin/movie/update?id=19" for 127.0.0.1 at 2018-05-07 13:37:06 +0200
Processing by Admin::MovieController#update as HTML
  Parameters: {"movie"=>{"title"=>"A very new Movie of Ruby", "producer_id"=>"7", "director_ids"=>["13"], "produced_at"=>"2018-05-07 13:37:06 +0200", "serial_number"=>"43214", "blurb"=>"A very new Movie of Ruby", "length"=>"350", "price"=>"50"}, "id"=>"19"}
  [1m[35mMovie Load (1.1ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 19 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 13 LIMIT 1
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 19[0m
  [1m[35mProducer Load (1.3ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 7 LIMIT 1
  [1m[36mMovie Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE (`movies`.`serial_number` = BINARY '43214' AND `movies`.`id` != 19) LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `movies` SET `title` = 'A very new Movie of Ruby', `produced_at` = '2018-05-07 11:37:06', `serial_number` = '43214', `blurb` = 'A very new Movie of Ruby', `price` = 50.0, `length` = 350, `updated_at` = '2018-05-07 11:37:06' WHERE `movies`.`id` = 19
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/movie/show/19
Completed 302 Found in 37ms (ActiveRecord: 6.5ms)
Started GET "/admin/movie/show/19" for 127.0.0.1 at 2018-05-07 13:37:06 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"19"}
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 19 LIMIT 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 7 LIMIT 1[0m
  [1m[35mDirector Load (1.5ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 19
  Rendered admin/movie/show.html.erb within layouts/application (9.4ms)
Completed 200 OK in 16ms (Views: 10.8ms | ActiveRecord: 2.9ms)
Started POST "/admin/movie/destroy?id=19" for 127.0.0.1 at 2018-05-07 13:37:06 +0200
Processing by Admin::MovieController#destroy as HTML
  Parameters: {"id"=>"19"}
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 19 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `directors_movies` WHERE `directors_movies`.`movie_id` = 19[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `movies` WHERE `movies`.`id` = 19
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 9ms (ActiveRecord: 2.5ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-05-07 13:37:06 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (23.3ms)
Completed 200 OK in 29ms (Views: 24.7ms | ActiveRecord: 2.2ms)
  [1m[36m (69.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 20ms (Views: 19.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (1.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/_form.html.erb (2.3ms)
  Rendered admin/producer/edit.html.erb within layouts/application (8.9ms)
Completed 200 OK in 28ms (Views: 24.0ms | ActiveRecord: 1.0ms)
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (5.4ms)
  Rendered admin/producer/index.html.erb within layouts/application (10.8ms)
Completed 200 OK in 16ms (Views: 14.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 9ms (Views: 6.9ms | ActiveRecord: 0.7ms)
  [1m[35mProducer Exists (0.9ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (1.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (2.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.3ms)[0m  [1mDELETE FROM `producers` WHERE `producers`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 13ms (ActiveRecord: 5.5ms)
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (3.0ms)
  Rendered admin/producer/index.html.erb within layouts/application (6.5ms)
Completed 200 OK in 11ms (Views: 10.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (97.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[35m (0.6ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-05-07 11:37:07', '2018-05-07 11:37:07')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 13ms (ActiveRecord: 2.5ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (40.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-05-07 11:37:07' WHERE `producers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 14ms (ActiveRecord: 3.1ms)
  [1m[35mProducer Load (1.3ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (32.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (0.7ms)
  Rendered admin/producer/new.html.erb within layouts/application (4.7ms)
Completed 200 OK in 12ms (Views: 11.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-05-07 11:37:07', '2018-05-07 11:37:07')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190971 AND `cart_items`.`movie_id` = 4[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190971, '2018-05-07 11:37:07', '2018-05-07 11:37:07')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (2.3ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 74ms (ActiveRecord: 9.3ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `cart_items`
  [1m[36mCart Load (0.7ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190971 LIMIT 1[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190971
  [1m[36m (38.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-05-07 11:37:07', '2018-05-07 11:37:07')
  [1m[36m (0.6ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190972 AND `cart_items`.`movie_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190972, '2018-05-07 11:37:07', '2018-05-07 11:37:07')
  [1m[36m (0.9ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 29ms (ActiveRecord: 6.8ms)
Processing by CartController#add as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.7ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190972 LIMIT 1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1
  [1m[36mMovie Load (2.4ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190972 AND `cart_items`.`movie_id` = 3
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 1, 85.0, 980190972, '2018-05-07 11:37:07', '2018-05-07 11:37:07')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (3.3ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 26ms (ActiveRecord: 9.3ms)
  [1m[36mMovie Load (1.2ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mMovie Load (1.0ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1
  [1m[36mCart Load (1.1ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190972 LIMIT 1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190972
Processing by CartController#clear as HTML
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190972 LIMIT 1[0m
  [1m[35mCartItem Load (0.7ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190972
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190972
  [1m[36mSQL (2.3ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190973[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 15ms (ActiveRecord: 4.9ms)
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190972 LIMIT 1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190972
  [1m[36m (40.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-05-07 11:37:07', '2018-05-07 11:37:07')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190973 AND `cart_items`.`movie_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190973, '2018-05-07 11:37:07', '2018-05-07 11:37:07')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 27ms (ActiveRecord: 5.1ms)
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.8ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190973 LIMIT 1
  [1m[36mMovie Load (1.6ms)[0m  [1mSELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190973[0m
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[35mCart Load (1.1ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190973 LIMIT 1
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.9ms)[0m  SELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190973 AND `cart_items`.`movie_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1
  [1m[36mCartItem Load (1.4ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 980190974 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190974[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (1.0ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 20ms (ActiveRecord: 6.9ms)
  [1m[35mCart Load (0.7ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190973 LIMIT 1
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190973[0m
  [1m[35m (41.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2018-05-07 13:37:07 +0200
Processing by CatalogController#index as HTML
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-05-07 11:37:07', '2018-05-07 11:37:07')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Directors Load (1.1ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)
  [1m[36mDirector Load (1.0ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)[0m
  [1m[35mProducer Load (1.0ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  Rendered catalog/_movies.html.erb (162.3ms)
  Rendered catalog/index.html.erb within layouts/application (167.6ms)
  [1m[35mCartItem Load (1.2ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190974
  Rendered cart/_cart.html.erb (10.7ms)
Completed 200 OK in 210ms (Views: 194.8ms | ActiveRecord: 7.1ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2018-05-07 13:37:07 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mCart Load (0.8ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190974 LIMIT 1[0m
  [1m[35mMovie Load (1.0ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 5
  [1m[36mHABTM_Directors Load (1.0ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (5, 4, 3, 2, 1)[0m
  [1m[35mDirector Load (1.0ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (2, 1)
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (1)[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `movies`
  Rendered catalog/_movies.html.erb (59.3ms)
  Rendered catalog/index.html.erb within layouts/application (61.9ms)
  [1m[36mCartItem Load (0.8ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190974[0m
  Rendered cart/_cart.html.erb (6.6ms)
Completed 200 OK in 81ms (Views: 70.5ms | ActiveRecord: 6.1ms)
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pro Rails E-Commerce' LIMIT 1
  [1m[36mMovie Load (1.4ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pride and Prejudice'  ORDER BY `movies`.`id` ASC LIMIT 1[0m
Started GET "/catalog/show/9" for 127.0.0.1 at 2018-05-07 13:37:08 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 9 LIMIT 1
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9[0m
  [1m[35mProducer Load (0.9ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 2 LIMIT 1
  Rendered catalog/show.html.erb within layouts/application (12.0ms)
Completed 200 OK in 22ms (Views: 16.9ms | ActiveRecord: 2.4ms)
  [1m[36mDirector Load (1.1ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9[0m
Started GET "/catalog/latest" for 127.0.0.1 at 2018-05-07 13:37:08 +0200
Processing by CatalogController#latest as HTML
  [1m[35mCart Load (0.8ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190974 LIMIT 1
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5[0m
  [1m[35mHABTM_Directors Load (0.8ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)
  Rendered catalog/_movies.html.erb (35.8ms)
  Rendered catalog/latest.html.erb within layouts/application (37.7ms)
  [1m[36mCartItem Load (0.7ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190974[0m
  Rendered cart/_cart.html.erb (6.2ms)
Completed 200 OK in 55ms (Views: 46.7ms | ActiveRecord: 4.7ms)
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5
  [1m[36mHABTM_Directors Load (1.0ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)
  [1m[36mProducer Load (1.2ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)[0m
  [1m[35m (38.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[35mDirector Load (1.1ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35mProducer Load (0.9ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (1.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-05-07 11:37:08', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-05-07 11:37:08', '2018-05-07 11:37:08')
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 20, '2018-05-07 11:37:08', '2018-05-07 11:37:08')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 20, '2018-05-07 11:37:08', '2018-05-07 11:37:08')
  [1m[36m (1.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (1.0ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 20 LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 20[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35m (56.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------
MovieTest: test_create
----------------------
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.9ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (1.2ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-05-07 11:37:08', '12425', 'A great movie', 375, 45.5, '2018-05-07 11:37:08', '2018-05-07 11:37:08')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 21, '2018-05-07 11:37:08', '2018-05-07 11:37:08')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 21, '2018-05-07 11:37:08', '2018-05-07 11:37:08')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 21, '2018-05-07 11:37:08', '2018-05-07 11:37:08')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 21, '2018-05-07 11:37:08', '2018-05-07 11:37:08')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 21, '2018-05-07 11:37:08', '2018-05-07 11:37:08')
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (41.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (1.2ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mDirector Load (1.2ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (3.0ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.8ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-05-07 11:37:08', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-05-07 11:37:08', '2018-05-07 11:37:08')[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 22, '2018-05-07 11:37:08', '2018-05-07 11:37:08')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 22, '2018-05-07 11:37:08', '2018-05-07 11:37:08')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProducer Load (0.9ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Load (1.3ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 22 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (43.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (17.8ms)
  Rendered admin/director/index.html.erb within layouts/application (26.8ms)
Completed 200 OK in 62ms (Views: 60.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.8ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/_form.html.erb (4.1ms)
  Rendered admin/director/edit.html.erb within layouts/application (12.2ms)
Completed 200 OK in 24ms (Views: 20.3ms | ActiveRecord: 0.8ms)
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (1.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM `directors` WHERE `directors`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 14ms (ActiveRecord: 3.5ms)
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (22.4ms)
  Rendered admin/director/index.html.erb within layouts/application (27.7ms)
Completed 200 OK in 36ms (Views: 32.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (65.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-05-07 11:37:08' WHERE `directors`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 13ms (ActiveRecord: 2.1ms)
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (154.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.8ms)
  Rendered admin/director/new.html.erb within layouts/application (7.0ms)
Completed 200 OK in 17ms (Views: 15.7ms | ActiveRecord: 0.0ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-05-07 11:37:09', '2018-05-07 11:37:09')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 9ms (Views: 15.7ms | ActiveRecord: 1.2ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (76.9ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[36m (2.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/director/_form.html.erb (7.0ms)
  Rendered admin/director/new.html.erb within layouts/application (13.7ms)
Completed 200 OK in 34ms (Views: 20.2ms | ActiveRecord: 2.6ms)
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (0.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (2.8ms)
  Rendered admin/director/new.html.erb within layouts/application (4.9ms)
Completed 200 OK in 14ms (Views: 11.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/show.html.erb within layouts/application (4.6ms)
Completed 200 OK in 16ms (Views: 13.6ms | ActiveRecord: 0.6ms)
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------
OrderTest: test_validations
---------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'ES', '127.0.0.1', 'open', '2018-05-07 11:37:09', '2018-05-07 11:37:09')[0m
  [1m[35mSQL (1.5ms)[0m  INSERT INTO `order_items` (`movie_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 155.25, 3, 980190966, '2018-05-07 11:37:09', '2018-05-07 11:37:09')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (75.3ms)[0m  [1mUPDATE `orders` SET `status` = 'failed', `error_message` = 'Your order has been received. Thank you for your business!', `updated_at` = '2018-05-07 11:37:11' WHERE `orders`.`id` = 980190966[0m
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (177.8ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (92.1ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-05-07', 45.0, '2018-05-07 11:39:14', '2018-05-07 11:39:14')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-05-07', 65.0, '2018-05-07 11:39:14', '2018-05-07 11:39:14')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-05-07', 85.0, '2018-05-07 11:39:14', '2018-05-07 11:39:14')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-05-07', 105.0, '2018-05-07 11:39:14', '2018-05-07 11:39:14')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-05-07', 125.0, '2018-05-07 11:39:14', '2018-05-07 11:39:14')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-05-07', 145.0, '2018-05-07 11:39:14', '2018-05-07 11:39:14')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-05-07', 165.0, '2018-05-07 11:39:14', '2018-05-07 11:39:14')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-05-07', 185.0, '2018-05-07 11:39:14', '2018-05-07 11:39:14')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-05-07', 40.0, '2018-05-07 11:39:14', '2018-05-07 11:39:14')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-05-07', 40.0, '2018-05-07 11:39:14', '2018-05-07 11:39:14')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-05-07 11:39:14', '2018-05-07 11:39:14')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-05-07 11:39:14', '2018-05-07 11:39:14')
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (74.7ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:39:14', '2018-05-07 11:39:14', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:39:14', '2018-05-07 11:39:14', 298486374)[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM `directors`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-05-07 11:39:14', '2018-05-07 11:39:14')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-05-07 11:39:14', '2018-05-07 11:39:14')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-05-07 11:39:14', '2018-05-07 11:39:14')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-05-07 11:39:14', '2018-05-07 11:39:14')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-05-07 11:39:14', '2018-05-07 11:39:14')[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM `directors_movies`
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:39:14', '2018-05-07 13:39:14', 1, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:39:14', '2018-05-07 13:39:14', 2, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:39:14', '2018-05-07 13:39:14', 2, 3)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:39:14', '2018-05-07 13:39:14', 2, 4)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:39:14', '2018-05-07 13:39:14', 2, 5)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:39:14', '2018-05-07 13:39:14', 2, 6)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:39:14', '2018-05-07 13:39:14', 2, 7)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:39:14', '2018-05-07 13:39:14', 3, 8)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:39:14', '2018-05-07 13:39:14', 4, 9)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:39:14', '2018-05-07 13:39:14', 5, 10)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:39:14', '2018-05-07 11:39:14', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:39:14', '2018-05-07 11:39:14', 298486374)[0m
  [1m[35m (67.9ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------
OrderTest: test_validations
---------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'ES', '127.0.0.1', 'open', '2018-05-07 11:39:15', '2018-05-07 11:39:15')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `order_items` (`movie_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 155.25, 3, 980190967, '2018-05-07 11:39:15', '2018-05-07 11:39:15')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `orders` SET `status` = 'failed', `error_message` = 'Your order has been received. Thank you for your business!', `updated_at` = '2018-05-07 11:39:16' WHERE `orders`.`id` = 980190967
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (35.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (7.6ms)
  Rendered admin/director/new.html.erb within layouts/application (27.5ms)
Completed 200 OK in 779ms (Views: 766.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/show.html.erb within layouts/application (2.6ms)
Completed 200 OK in 17ms (Views: 7.5ms | ActiveRecord: 0.7ms)
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/director/_form.html.erb (5.2ms)
  Rendered admin/director/new.html.erb within layouts/application (7.1ms)
Completed 200 OK in 17ms (Views: 10.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.8ms)
  Rendered admin/director/new.html.erb within layouts/application (2.7ms)
Completed 200 OK in 7ms (Views: 6.6ms | ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-05-07 11:39:17', '2018-05-07 11:39:17')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 8ms (Views: 6.6ms | ActiveRecord: 1.0ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (37.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (9.9ms)
  Rendered admin/director/index.html.erb within layouts/application (16.9ms)
Completed 200 OK in 23ms (Views: 21.8ms | ActiveRecord: 0.8ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mDELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35mSQL (0.9ms)[0m  DELETE FROM `directors` WHERE `directors`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 30ms (ActiveRecord: 4.0ms)
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (7.4ms)
  Rendered admin/director/index.html.erb within layouts/application (10.6ms)
Completed 200 OK in 20ms (Views: 18.6ms | ActiveRecord: 0.6ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (38.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[35mDirector Load (0.9ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-05-07 11:39:17' WHERE `directors`.`id` = 1
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 18ms (ActiveRecord: 2.5ms)
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (40.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (1.0ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/_form.html.erb (2.5ms)
  Rendered admin/director/edit.html.erb within layouts/application (8.6ms)
Completed 200 OK in 20ms (Views: 17.5ms | ActiveRecord: 1.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-05-07 11:39:18', '2018-05-07 11:39:18')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190975 AND `cart_items`.`movie_id` = 4
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190975, '2018-05-07 11:39:18', '2018-05-07 11:39:18')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 165ms (ActiveRecord: 9.7ms)
Processing by CartController#add as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190975 LIMIT 1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190975 AND `cart_items`.`movie_id` = 3
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 1, 85.0, 980190975, '2018-05-07 11:39:18', '2018-05-07 11:39:18')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 28ms (ActiveRecord: 4.7ms)
  [1m[36mMovie Load (2.0ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mMovie Load (0.5ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190975 LIMIT 1[0m
  [1m[35mMovie Load (1.0ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190975
Processing by CartController#clear as HTML
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190975 LIMIT 1[0m
  [1m[35mCartItem Load (0.6ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190975
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190975
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190976[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 13ms (ActiveRecord: 2.7ms)
  [1m[36mCart Load (0.7ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190975 LIMIT 1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190975
  [1m[36m (96.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-05-07 11:39:18', '2018-05-07 11:39:18')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mMovie Load (1.0ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35m (1.5ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190976 AND `cart_items`.`movie_id` = 4
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190976, '2018-05-07 11:39:18', '2018-05-07 11:39:18')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 37ms (ActiveRecord: 6.2ms)
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190976 LIMIT 1
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190976[0m
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190976 LIMIT 1
  [1m[36mMovie Load (0.5ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.6ms)[0m  SELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190976 AND `cart_items`.`movie_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1
  [1m[36mCartItem Load (0.6ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 980190977 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190977[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.5ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 14ms (ActiveRecord: 3.6ms)
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190976 LIMIT 1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190976[0m
  [1m[35m (68.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `cart_items`
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-05-07 11:39:18', '2018-05-07 11:39:18')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.5ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190977 AND `cart_items`.`movie_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190977, '2018-05-07 11:39:18', '2018-05-07 11:39:18')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 24ms (ActiveRecord: 4.7ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190977 LIMIT 1
  [1m[36m (1.2ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190977[0m
  [1m[35m (35.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-05-07 11:39:18', '2018-05-07 11:39:18')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (42.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.6ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-05-07 11:39:18', '2018-05-07 11:39:18')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-05-07 11:39:18', '2018-05-07 11:39:18')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1[0m
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-05-07 13:39:18 +0200
Processing by Admin::MovieController#new as HTML
  [1m[35mProducer Load (0.5ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (37.6ms)
  Rendered admin/movie/new.html.erb within layouts/application (41.3ms)
Completed 200 OK in 72ms (Views: 52.1ms | ActiveRecord: 1.1ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-05-07 13:39:18 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"9", "director_ids"=>["17"], "produced_at"=>"2018-05-07 13:39:18 +0200", "serial_number"=>"64214", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[35mDirector Load (0.8ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 17 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 9 LIMIT 1
  [1m[36mMovie Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '64214' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `price`, `length`, `created_at`, `updated_at`) VALUES ('A new Movie of Ruby', 9, '2018-05-07 11:39:18', '64214', 'A new Movie of Ruby', 45.5, 325, '2018-05-07 11:39:18', '2018-05-07 11:39:18')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (17, 23, '2018-05-07 11:39:18', '2018-05-07 11:39:18')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 47ms (ActiveRecord: 4.6ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-05-07 13:39:18 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (26.3ms)
Completed 200 OK in 33ms (Views: 28.8ms | ActiveRecord: 2.1ms)
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-05-07 13:39:18 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (21.3ms)
Completed 200 OK in 26ms (Views: 22.8ms | ActiveRecord: 2.2ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
Started GET "/admin/movie/index/?page=3" for 127.0.0.1 at 2018-05-07 13:39:18 +0200
Processing by Admin::MovieController#index as HTML
  Parameters: {"page"=>"3"}
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 10
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 9 LIMIT 1[0m
  Rendered admin/movie/index.html.erb within layouts/application (8.2ms)
Completed 200 OK in 14ms (Views: 11.3ms | ActiveRecord: 1.4ms)
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'A new Movie of Ruby' LIMIT 1
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-05-07 13:39:18 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (20.4ms)
Completed 200 OK in 25ms (Views: 21.6ms | ActiveRecord: 2.1ms)
Started GET "/admin/movie/show/23" for 127.0.0.1 at 2018-05-07 13:39:19 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"23"}
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 23 LIMIT 1
  [1m[36mProducer Load (0.9ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 9 LIMIT 1[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 23
  Rendered admin/movie/show.html.erb within layouts/application (11.7ms)
Completed 200 OK in 19ms (Views: 14.2ms | ActiveRecord: 2.4ms)
Started GET "/admin/movie/edit?id=23" for 127.0.0.1 at 2018-05-07 13:39:19 +0200
Processing by Admin::MovieController#edit as HTML
  Parameters: {"id"=>"23"}
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 23 LIMIT 1[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (1.0ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 23[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (20.1ms)
  Rendered admin/movie/edit.html.erb within layouts/application (23.8ms)
Completed 200 OK in 32ms (Views: 26.8ms | ActiveRecord: 3.1ms)
Started POST "/admin/movie/update?id=23" for 127.0.0.1 at 2018-05-07 13:39:19 +0200
Processing by Admin::MovieController#update as HTML
  Parameters: {"movie"=>{"title"=>"A very new Movie of Ruby", "producer_id"=>"9", "director_ids"=>["17"], "produced_at"=>"2018-05-07 13:39:19 +0200", "serial_number"=>"43214", "blurb"=>"A very new Movie of Ruby", "length"=>"350", "price"=>"50"}, "id"=>"23"}
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 23 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 17 LIMIT 1[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 23
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 9 LIMIT 1[0m
  [1m[35mMovie Exists (1.0ms)[0m  SELECT  1 AS one FROM `movies` WHERE (`movies`.`serial_number` = BINARY '43214' AND `movies`.`id` != 23) LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `movies` SET `title` = 'A very new Movie of Ruby', `produced_at` = '2018-05-07 11:39:19', `serial_number` = '43214', `blurb` = 'A very new Movie of Ruby', `price` = 50.0, `length` = 350, `updated_at` = '2018-05-07 11:39:19' WHERE `movies`.`id` = 23[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie/show/23
Completed 302 Found in 27ms (ActiveRecord: 5.0ms)
Started GET "/admin/movie/show/23" for 127.0.0.1 at 2018-05-07 13:39:19 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"23"}
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 23 LIMIT 1[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 9 LIMIT 1
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 23[0m
  Rendered admin/movie/show.html.erb within layouts/application (8.6ms)
Completed 200 OK in 15ms (Views: 10.3ms | ActiveRecord: 2.4ms)
Started POST "/admin/movie/destroy?id=23" for 127.0.0.1 at 2018-05-07 13:39:19 +0200
Processing by Admin::MovieController#destroy as HTML
  Parameters: {"id"=>"23"}
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 23 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`movie_id` = 23
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM `movies` WHERE `movies`.`id` = 23[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 9ms (ActiveRecord: 2.6ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-05-07 13:39:19 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (22.9ms)
Completed 200 OK in 28ms (Views: 23.9ms | ActiveRecord: 2.2ms)
  [1m[35m (77.1ms)[0m  ROLLBACK
  [1m[36m (0.6ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.5ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2018-05-07 13:39:19 +0200
Processing by CatalogController#index as HTML
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-05-07 11:39:19', '2018-05-07 11:39:19')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 0[0m
  [1m[35mHABTM_Directors Load (0.8ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)
  [1m[36mDirector Load (1.0ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)[0m
  [1m[35mProducer Load (0.9ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  Rendered catalog/_movies.html.erb (51.7ms)
  Rendered catalog/index.html.erb within layouts/application (55.1ms)
  [1m[35mCartItem Load (0.6ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190978
  Rendered cart/_cart.html.erb (5.3ms)
Completed 200 OK in 82ms (Views: 69.4ms | ActiveRecord: 5.9ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2018-05-07 13:39:19 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190978 LIMIT 1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 5
  [1m[36mHABTM_Directors Load (0.8ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (5, 4, 3, 2, 1)[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (2, 1)
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (1)[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `movies`
  Rendered catalog/_movies.html.erb (30.2ms)
  Rendered catalog/index.html.erb within layouts/application (31.6ms)
  [1m[36mCartItem Load (0.6ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190978[0m
  Rendered cart/_cart.html.erb (3.1ms)
Completed 200 OK in 42ms (Views: 34.2ms | ActiveRecord: 4.8ms)
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pro Rails E-Commerce' LIMIT 1
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pride and Prejudice'  ORDER BY `movies`.`id` ASC LIMIT 1[0m
Started GET "/catalog/show/9" for 127.0.0.1 at 2018-05-07 13:39:19 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 9 LIMIT 1
  [1m[36mDirector Load (1.0ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9[0m
  [1m[35mProducer Load (1.3ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 2 LIMIT 1
  Rendered catalog/show.html.erb within layouts/application (9.8ms)
Completed 200 OK in 17ms (Views: 12.0ms | ActiveRecord: 2.9ms)
  [1m[36mDirector Load (1.1ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9[0m
Started GET "/catalog/latest" for 127.0.0.1 at 2018-05-07 13:39:19 +0200
Processing by CatalogController#latest as HTML
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190978 LIMIT 1
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5[0m
  [1m[35mHABTM_Directors Load (1.0ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)
  Rendered catalog/_movies.html.erb (31.0ms)
  Rendered catalog/latest.html.erb within layouts/application (32.3ms)
  [1m[36mCartItem Load (0.9ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190978[0m
  Rendered cart/_cart.html.erb (3.3ms)
Completed 200 OK in 43ms (Views: 36.1ms | ActiveRecord: 4.9ms)
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5
  [1m[36mHABTM_Directors Load (0.9ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)[0m
  [1m[35m (85.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 15ms (Views: 14.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-05-07 11:39:19', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-05-07 11:39:19', '2018-05-07 11:39:19')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 24, '2018-05-07 11:39:19', '2018-05-07 11:39:19')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 24, '2018-05-07 11:39:19', '2018-05-07 11:39:19')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 24 LIMIT 1[0m
  [1m[35m (1.1ms)[0m  SELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 24
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1
  [1m[36m (42.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.9ms)[0m  BEGIN
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.7ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-05-07 11:39:19', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-05-07 11:39:19', '2018-05-07 11:39:19')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 25, '2018-05-07 11:39:19', '2018-05-07 11:39:19')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 25, '2018-05-07 11:39:19', '2018-05-07 11:39:19')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 25 LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (45.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------
MovieTest: test_create
----------------------
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors`
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (1.3ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (1.7ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-05-07 11:39:19', '12425', 'A great movie', 375, 45.5, '2018-05-07 11:39:19', '2018-05-07 11:39:19')
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 26, '2018-05-07 11:39:19', '2018-05-07 11:39:19')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 26, '2018-05-07 11:39:19', '2018-05-07 11:39:19')
  [1m[36mSQL (1.2ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 26, '2018-05-07 11:39:19', '2018-05-07 11:39:19')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 26, '2018-05-07 11:39:19', '2018-05-07 11:39:19')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 26, '2018-05-07 11:39:19', '2018-05-07 11:39:19')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (53.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.5ms)[0m  DELETE FROM `producers` WHERE `producers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 8ms (ActiveRecord: 2.6ms)
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (3.6ms)
  Rendered admin/producer/index.html.erb within layouts/application (9.0ms)
Completed 200 OK in 24ms (Views: 22.4ms | ActiveRecord: 0.6ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (46.7ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.9ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/_form.html.erb (2.1ms)
  Rendered admin/producer/edit.html.erb within layouts/application (7.6ms)
Completed 200 OK in 16ms (Views: 12.8ms | ActiveRecord: 0.9ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (0.6ms)
  Rendered admin/producer/new.html.erb within layouts/application (3.7ms)
Completed 200 OK in 9ms (Views: 8.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/show.html.erb within layouts/application (2.9ms)
Completed 200 OK in 10ms (Views: 7.7ms | ActiveRecord: 0.6ms)
  [1m[35mProducer Exists (0.8ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.8ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-05-07 11:39:20', '2018-05-07 11:39:20')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 12ms (ActiveRecord: 2.1ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (45.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[35mProducer Load (1.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.9ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-05-07 11:39:20' WHERE `producers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 14ms (ActiveRecord: 3.2ms)
  [1m[36mProducer Load (1.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (40.7ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.8ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (5.6ms)
  Rendered admin/producer/index.html.erb within layouts/application (9.3ms)
Completed 200 OK in 14ms (Views: 12.9ms | ActiveRecord: 0.8ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (1.0ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-05-07', 45.0, '2018-05-07 11:39:53', '2018-05-07 11:39:53')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-05-07', 65.0, '2018-05-07 11:39:53', '2018-05-07 11:39:53')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-05-07', 85.0, '2018-05-07 11:39:53', '2018-05-07 11:39:53')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-05-07', 105.0, '2018-05-07 11:39:53', '2018-05-07 11:39:53')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-05-07', 125.0, '2018-05-07 11:39:53', '2018-05-07 11:39:53')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-05-07', 145.0, '2018-05-07 11:39:53', '2018-05-07 11:39:53')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-05-07', 165.0, '2018-05-07 11:39:53', '2018-05-07 11:39:53')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-05-07', 185.0, '2018-05-07 11:39:53', '2018-05-07 11:39:53')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-05-07', 40.0, '2018-05-07 11:39:53', '2018-05-07 11:39:53')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-05-07', 40.0, '2018-05-07 11:39:53', '2018-05-07 11:39:53')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-05-07 11:39:53', '2018-05-07 11:39:53')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-05-07 11:39:53', '2018-05-07 11:39:53')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (87.4ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:39:53', '2018-05-07 11:39:53', 980190962)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:39:53', '2018-05-07 11:39:53', 298486374)[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM `directors`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-05-07 11:39:53', '2018-05-07 11:39:53')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-05-07 11:39:53', '2018-05-07 11:39:53')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-05-07 11:39:53', '2018-05-07 11:39:53')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-05-07 11:39:53', '2018-05-07 11:39:53')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-05-07 11:39:53', '2018-05-07 11:39:53')[0m
  [1m[35mFixture Delete (89.7ms)[0m  DELETE FROM `directors_movies`
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:39:53', '2018-05-07 13:39:53', 1, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:39:53', '2018-05-07 13:39:53', 2, 2)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:39:53', '2018-05-07 13:39:53', 2, 3)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:39:53', '2018-05-07 13:39:53', 2, 4)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:39:53', '2018-05-07 13:39:53', 2, 5)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:39:53', '2018-05-07 13:39:53', 2, 6)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:39:53', '2018-05-07 13:39:53', 2, 7)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:39:53', '2018-05-07 13:39:53', 3, 8)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:39:53', '2018-05-07 13:39:53', 4, 9)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:39:53', '2018-05-07 13:39:53', 5, 10)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:39:53', '2018-05-07 11:39:53', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:39:53', '2018-05-07 11:39:53', 298486374)[0m
  [1m[35m (81.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.9ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-05-07 11:39:53', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-05-07 11:39:53', '2018-05-07 11:39:53')[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 27, '2018-05-07 11:39:53', '2018-05-07 11:39:53')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 27, '2018-05-07 11:39:53', '2018-05-07 11:39:53')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 27 LIMIT 1[0m
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 27
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35m (1.1ms)[0m  SELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1
  [1m[36m (43.8ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------
MovieTest: test_create
----------------------
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-05-07 11:39:53', '12425', 'A great movie', 375, 45.5, '2018-05-07 11:39:53', '2018-05-07 11:39:53')
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 28, '2018-05-07 11:39:53', '2018-05-07 11:39:53')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 28, '2018-05-07 11:39:53', '2018-05-07 11:39:53')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 28, '2018-05-07 11:39:53', '2018-05-07 11:39:53')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 28, '2018-05-07 11:39:53', '2018-05-07 11:39:53')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 28, '2018-05-07 11:39:53', '2018-05-07 11:39:53')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (47.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[36mProducer Load (0.9ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mDirector Load (0.5ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.7ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-05-07 11:39:54', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-05-07 11:39:54', '2018-05-07 11:39:54')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 29, '2018-05-07 11:39:54', '2018-05-07 11:39:54')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 29, '2018-05-07 11:39:54', '2018-05-07 11:39:54')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 29 LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (46.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.7ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (7.9ms)
  Rendered admin/director/new.html.erb within layouts/application (23.1ms)
Completed 200 OK in 546ms (Views: 544.7ms | ActiveRecord: 0.0ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-05-07 11:39:54', '2018-05-07 11:39:54')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 7ms (Views: 544.7ms | ActiveRecord: 1.0ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (70.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-05-07 11:39:54' WHERE `directors`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 12ms (ActiveRecord: 1.8ms)
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (32.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/director/_form.html.erb (4.8ms)
  Rendered admin/director/new.html.erb within layouts/application (6.5ms)
Completed 200 OK in 17ms (Views: 9.5ms | ActiveRecord: 0.7ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM `directors` WHERE `directors`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 9ms (ActiveRecord: 2.7ms)
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (7.9ms)
  Rendered admin/director/index.html.erb within layouts/application (13.3ms)
Completed 200 OK in 18ms (Views: 17.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (40.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (1.0ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/_form.html.erb (0.7ms)
  Rendered admin/director/edit.html.erb within layouts/application (4.2ms)
Completed 200 OK in 12ms (Views: 9.1ms | ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (7.4ms)
  Rendered admin/director/index.html.erb within layouts/application (10.5ms)
Completed 200 OK in 14ms (Views: 12.8ms | ActiveRecord: 0.7ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.7ms)
  Rendered admin/director/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 8ms (Views: 6.3ms | ActiveRecord: 0.6ms)
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-05-07 11:39:55', '2018-05-07 11:39:55')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190979 AND `cart_items`.`movie_id` = 4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190979, '2018-05-07 11:39:55', '2018-05-07 11:39:55')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 58ms (ActiveRecord: 6.5ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items`
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190979 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190979
  [1m[36m (89.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-05-07 11:39:55', '2018-05-07 11:39:55')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.5ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190980 AND `cart_items`.`movie_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190980, '2018-05-07 11:39:55', '2018-05-07 11:39:55')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 24ms (ActiveRecord: 4.7ms)
Processing by CartController#add as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.8ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190980 LIMIT 1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190980 AND `cart_items`.`movie_id` = 3
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 1, 85.0, 980190980, '2018-05-07 11:39:55', '2018-05-07 11:39:55')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 20ms (ActiveRecord: 4.5ms)
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1
  [1m[36mCart Load (0.5ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190980 LIMIT 1[0m
  [1m[35mMovie Load (1.0ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190980
Processing by CartController#clear as HTML
  [1m[36mCart Load (0.7ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190980 LIMIT 1[0m
  [1m[35mCartItem Load (0.9ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190980
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190980
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190981[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/
Completed 302 Found in 11ms (ActiveRecord: 3.0ms)
  [1m[36mCart Load (0.7ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190980 LIMIT 1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190980
  [1m[36m (50.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-05-07 11:39:55', '2018-05-07 11:39:55')
  [1m[36m (0.8ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190981 AND `cart_items`.`movie_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190981, '2018-05-07 11:39:55', '2018-05-07 11:39:55')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 23ms (ActiveRecord: 5.0ms)
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mCart Load (0.8ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190981 LIMIT 1
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190981[0m
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190981 LIMIT 1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mCartItem Load (0.8ms)[0m  SELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190981 AND `cart_items`.`movie_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1
  [1m[36mCartItem Load (0.7ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 980190982 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190982[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 16ms (ActiveRecord: 4.3ms)
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190981 LIMIT 1
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190981[0m
  [1m[35m (39.6ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-05-07 11:39:55', '2018-05-07 11:39:55')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (43.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 13ms (Views: 12.8ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2018-05-07 13:39:55 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-05-07 11:39:55', '2018-05-07 11:39:55')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 0
  [1m[36mHABTM_Directors Load (1.1ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)[0m
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM `movies`
  Rendered catalog/_movies.html.erb (53.1ms)
  Rendered catalog/index.html.erb within layouts/application (56.4ms)
  [1m[36mCartItem Load (0.6ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190982[0m
  Rendered cart/_cart.html.erb (5.4ms)
Completed 200 OK in 99ms (Views: 70.4ms | ActiveRecord: 5.7ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2018-05-07 13:39:55 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.8ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190982 LIMIT 1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Directors Load (0.9ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (5, 4, 3, 2, 1)
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (2, 1)[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (1)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  Rendered catalog/_movies.html.erb (32.0ms)
  Rendered catalog/index.html.erb within layouts/application (33.2ms)
  [1m[35mCartItem Load (0.9ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190982
  Rendered cart/_cart.html.erb (3.4ms)
Completed 200 OK in 44ms (Views: 36.0ms | ActiveRecord: 5.3ms)
  [1m[36mMovie Load (1.0ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pro Rails E-Commerce' LIMIT 1[0m
  [1m[35mMovie Load (1.2ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pride and Prejudice'  ORDER BY `movies`.`id` ASC LIMIT 1
Started GET "/catalog/show/9" for 127.0.0.1 at 2018-05-07 13:39:56 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 9 LIMIT 1[0m
  [1m[35mDirector Load (1.1ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 2 LIMIT 1[0m
  Rendered catalog/show.html.erb within layouts/application (11.6ms)
Completed 200 OK in 20ms (Views: 14.7ms | ActiveRecord: 2.7ms)
  [1m[35mDirector Load (1.1ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9
Started GET "/catalog/latest" for 127.0.0.1 at 2018-05-07 13:39:56 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190982 LIMIT 1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5
  [1m[36mHABTM_Directors Load (0.9ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)[0m
  Rendered catalog/_movies.html.erb (32.1ms)
  Rendered catalog/latest.html.erb within layouts/application (33.3ms)
  [1m[35mCartItem Load (0.6ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190982
  Rendered cart/_cart.html.erb (3.1ms)
Completed 200 OK in 44ms (Views: 37.2ms | ActiveRecord: 4.7ms)
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5[0m
  [1m[35mHABTM_Directors Load (0.8ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)[0m
  [1m[35mProducer Load (1.1ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)
  [1m[36m (42.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (1.0ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-05-07 11:39:56', '2018-05-07 11:39:56')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-05-07 11:39:56', '2018-05-07 11:39:56')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1[0m
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-05-07 13:39:56 +0200
Processing by Admin::MovieController#new as HTML
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (92.3ms)
  Rendered admin/movie/new.html.erb within layouts/application (96.2ms)
Completed 200 OK in 111ms (Views: 107.8ms | ActiveRecord: 1.4ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-05-07 13:39:56 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"11", "director_ids"=>["20"], "produced_at"=>"2018-05-07 13:39:56 +0200", "serial_number"=>"64214", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 20 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 11 LIMIT 1
  [1m[36mMovie Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '64214' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `price`, `length`, `created_at`, `updated_at`) VALUES ('A new Movie of Ruby', 11, '2018-05-07 11:39:56', '64214', 'A new Movie of Ruby', 45.5, 325, '2018-05-07 11:39:56', '2018-05-07 11:39:56')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (20, 30, '2018-05-07 11:39:56', '2018-05-07 11:39:56')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 34ms (ActiveRecord: 4.2ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-05-07 13:39:56 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (26.0ms)
Completed 200 OK in 33ms (Views: 29.2ms | ActiveRecord: 2.1ms)
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-05-07 13:39:56 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (1.0ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (24.3ms)
Completed 200 OK in 29ms (Views: 25.1ms | ActiveRecord: 2.6ms)
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
Started GET "/admin/movie/index/?page=3" for 127.0.0.1 at 2018-05-07 13:39:56 +0200
Processing by Admin::MovieController#index as HTML
  Parameters: {"page"=>"3"}
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 10
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 11 LIMIT 1[0m
  Rendered admin/movie/index.html.erb within layouts/application (7.3ms)
Completed 200 OK in 12ms (Views: 9.8ms | ActiveRecord: 1.3ms)
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'A new Movie of Ruby' LIMIT 1
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-05-07 13:39:56 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (21.9ms)
Completed 200 OK in 27ms (Views: 23.6ms | ActiveRecord: 2.1ms)
Started GET "/admin/movie/show/30" for 127.0.0.1 at 2018-05-07 13:39:56 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"30"}
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 30 LIMIT 1
  [1m[36mProducer Load (0.9ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 11 LIMIT 1[0m
  [1m[35mDirector Load (2.9ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 30
  Rendered admin/movie/show.html.erb within layouts/application (13.2ms)
Completed 200 OK in 21ms (Views: 14.2ms | ActiveRecord: 4.6ms)
Started GET "/admin/movie/edit?id=30" for 127.0.0.1 at 2018-05-07 13:39:56 +0200
Processing by Admin::MovieController#edit as HTML
  Parameters: {"id"=>"30"}
  [1m[36mMovie Load (1.0ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 30 LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (1.1ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 30[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (20.7ms)
  Rendered admin/movie/edit.html.erb within layouts/application (24.2ms)
Completed 200 OK in 33ms (Views: 26.9ms | ActiveRecord: 3.3ms)
Started POST "/admin/movie/update?id=30" for 127.0.0.1 at 2018-05-07 13:39:56 +0200
Processing by Admin::MovieController#update as HTML
  Parameters: {"movie"=>{"title"=>"A very new Movie of Ruby", "producer_id"=>"11", "director_ids"=>["20"], "produced_at"=>"2018-05-07 13:39:56 +0200", "serial_number"=>"43214", "blurb"=>"A very new Movie of Ruby", "length"=>"350", "price"=>"50"}, "id"=>"30"}
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 30 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 20 LIMIT 1[0m
  [1m[35mDirector Load (1.0ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 30
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 11 LIMIT 1[0m
  [1m[35mMovie Exists (1.0ms)[0m  SELECT  1 AS one FROM `movies` WHERE (`movies`.`serial_number` = BINARY '43214' AND `movies`.`id` != 30) LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `movies` SET `title` = 'A very new Movie of Ruby', `serial_number` = '43214', `blurb` = 'A very new Movie of Ruby', `price` = 50.0, `length` = 350, `updated_at` = '2018-05-07 11:39:56' WHERE `movies`.`id` = 30[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie/show/30
Completed 302 Found in 32ms (ActiveRecord: 5.8ms)
Started GET "/admin/movie/show/30" for 127.0.0.1 at 2018-05-07 13:39:56 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"30"}
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 30 LIMIT 1[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 11 LIMIT 1
  [1m[36mDirector Load (1.0ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 30[0m
  Rendered admin/movie/show.html.erb within layouts/application (8.9ms)
Completed 200 OK in 17ms (Views: 11.7ms | ActiveRecord: 2.5ms)
Started POST "/admin/movie/destroy?id=30" for 127.0.0.1 at 2018-05-07 13:39:56 +0200
Processing by Admin::MovieController#destroy as HTML
  Parameters: {"id"=>"30"}
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 30 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`movie_id` = 30
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM `movies` WHERE `movies`.`id` = 30[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 9ms (ActiveRecord: 2.5ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-05-07 13:39:56 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (22.6ms)
Completed 200 OK in 28ms (Views: 23.7ms | ActiveRecord: 2.3ms)
  [1m[35m (129.7ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'ES', '127.0.0.1', 'open', '2018-05-07 11:39:56', '2018-05-07 11:39:56')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `order_items` (`movie_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 155.25, 3, 980190968, '2018-05-07 11:39:56', '2018-05-07 11:39:56')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `orders` SET `status` = 'failed', `error_message` = 'Your order has been received. Thank you for your business!', `updated_at` = '2018-05-07 11:39:58' WHERE `orders`.`id` = 980190968[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (63.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
---------------------------
OrderTest: test_validations
---------------------------
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/_form.html.erb (3.4ms)
  Rendered admin/producer/edit.html.erb within layouts/application (11.5ms)
Completed 200 OK in 29ms (Views: 26.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (1.7ms)
  Rendered admin/producer/new.html.erb within layouts/application (5.8ms)
Completed 200 OK in 13ms (Views: 12.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[35m (1.7ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.8ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-05-07 11:39:58', '2018-05-07 11:39:58')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 12ms (ActiveRecord: 1.8ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (35.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[35m (1.2ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.5ms)[0m  [1mDELETE FROM `producers` WHERE `producers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 9ms (ActiveRecord: 2.7ms)
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (6.4ms)
  Rendered admin/producer/index.html.erb within layouts/application (12.7ms)
Completed 200 OK in 20ms (Views: 18.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (38.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (5.0ms)
  Rendered admin/producer/index.html.erb within layouts/application (8.7ms)
Completed 200 OK in 15ms (Views: 13.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/show.html.erb within layouts/application (4.5ms)
Completed 200 OK in 11ms (Views: 8.9ms | ActiveRecord: 0.6ms)
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-05-07 11:39:58' WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 13ms (ActiveRecord: 2.5ms)
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (41.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (0.9ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-05-07', 45.0, '2018-05-07 11:40:32', '2018-05-07 11:40:32')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-05-07', 65.0, '2018-05-07 11:40:32', '2018-05-07 11:40:32')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-05-07', 85.0, '2018-05-07 11:40:32', '2018-05-07 11:40:32')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-05-07', 105.0, '2018-05-07 11:40:32', '2018-05-07 11:40:32')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-05-07', 125.0, '2018-05-07 11:40:32', '2018-05-07 11:40:32')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-05-07', 145.0, '2018-05-07 11:40:32', '2018-05-07 11:40:32')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-05-07', 165.0, '2018-05-07 11:40:32', '2018-05-07 11:40:32')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-05-07', 185.0, '2018-05-07 11:40:32', '2018-05-07 11:40:32')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-05-07', 40.0, '2018-05-07 11:40:32', '2018-05-07 11:40:32')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-05-07', 40.0, '2018-05-07 11:40:32', '2018-05-07 11:40:32')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-05-07 11:40:32', '2018-05-07 11:40:32')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-05-07 11:40:32', '2018-05-07 11:40:32')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (77.0ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:40:32', '2018-05-07 11:40:32', 980190962)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:40:32', '2018-05-07 11:40:32', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `directors`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-05-07 11:40:32', '2018-05-07 11:40:32')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-05-07 11:40:32', '2018-05-07 11:40:32')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-05-07 11:40:32', '2018-05-07 11:40:32')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-05-07 11:40:32', '2018-05-07 11:40:32')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-05-07 11:40:32', '2018-05-07 11:40:32')[0m
  [1m[35mFixture Delete (77.3ms)[0m  DELETE FROM `directors_movies`
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:40:32', '2018-05-07 13:40:32', 1, 1)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:40:32', '2018-05-07 13:40:32', 2, 2)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:40:32', '2018-05-07 13:40:32', 2, 3)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:40:32', '2018-05-07 13:40:32', 2, 4)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:40:32', '2018-05-07 13:40:32', 2, 5)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:40:32', '2018-05-07 13:40:32', 2, 6)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:40:32', '2018-05-07 13:40:32', 2, 7)[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:40:32', '2018-05-07 13:40:32', 3, 8)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:40:32', '2018-05-07 13:40:32', 4, 9)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:40:32', '2018-05-07 13:40:32', 5, 10)
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:40:32', '2018-05-07 11:40:32', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:40:32', '2018-05-07 11:40:32', 298486374)[0m
  [1m[35m (81.2ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'ES', '127.0.0.1', 'open', '2018-05-07 11:40:32', '2018-05-07 11:40:32')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `order_items` (`movie_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 155.25, 3, 980190969, '2018-05-07 11:40:32', '2018-05-07 11:40:32')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `orders` SET `status` = 'failed', `error_message` = 'Your order has been received. Thank you for your business!', `updated_at` = '2018-05-07 11:40:37' WHERE `orders`.`id` = 980190969
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (48.0ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------
OrderTest: test_validations
---------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (4.8ms)
Completed 200 OK in 754ms (Views: 753.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-05-07 11:40:38', '2018-05-07 11:40:38')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (40.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.8ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM `directors` WHERE `directors`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 33ms (ActiveRecord: 3.8ms)
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (8.5ms)
  Rendered admin/director/index.html.erb within layouts/application (19.9ms)
Completed 200 OK in 34ms (Views: 32.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (42.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mUPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-05-07 11:40:38' WHERE `directors`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 10ms (ActiveRecord: 1.8ms)
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.5ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (44.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.4ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (7.2ms)
  Rendered admin/director/new.html.erb within layouts/application (12.4ms)
Completed 200 OK in 19ms (Views: 18.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-05-07 11:40:39', '2018-05-07 11:40:39')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 8ms (Views: 18.3ms | ActiveRecord: 1.2ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (46.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (8.2ms)
  Rendered admin/director/index.html.erb within layouts/application (11.8ms)
Completed 200 OK in 17ms (Views: 15.1ms | ActiveRecord: 0.7ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/_form.html.erb (0.7ms)
  Rendered admin/director/edit.html.erb within layouts/application (28.0ms)
Completed 200 OK in 37ms (Views: 34.8ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/director/_form.html.erb (7.5ms)
  Rendered admin/director/new.html.erb within layouts/application (10.4ms)
Completed 200 OK in 26ms (Views: 16.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.7ms)
  Rendered admin/director/new.html.erb within layouts/application (5.1ms)
Completed 200 OK in 11ms (Views: 10.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/show.html.erb within layouts/application (4.9ms)
Completed 200 OK in 13ms (Views: 11.1ms | ActiveRecord: 0.6ms)
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-05-07 11:40:39', '2018-05-07 11:40:39')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190983 AND `cart_items`.`movie_id` = 4[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190983, '2018-05-07 11:40:39', '2018-05-07 11:40:39')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 141ms (ActiveRecord: 8.4ms)
Processing by CartController#add as HTML
  Parameters: {"id"=>"3"}
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190983 LIMIT 1
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190983 AND `cart_items`.`movie_id` = 3[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 1, 85.0, 980190983, '2018-05-07 11:40:39', '2018-05-07 11:40:39')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 28ms (ActiveRecord: 4.6ms)
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1[0m
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190983 LIMIT 1
  [1m[36mMovie Load (1.0ms)[0m  [1mSELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190983[0m
Processing by CartController#clear as HTML
  [1m[35mCart Load (0.7ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190983 LIMIT 1
  [1m[36mCartItem Load (0.8ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190983[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190983[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190984
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 12ms (ActiveRecord: 3.0ms)
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190983 LIMIT 1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190983[0m
  [1m[35m (116.1ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `cart_items`
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-05-07 11:40:39', '2018-05-07 11:40:39')
  [1m[36m (0.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190984 AND `cart_items`.`movie_id` = 4
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190984, '2018-05-07 11:40:39', '2018-05-07 11:40:39')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 31ms (ActiveRecord: 6.1ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
  [1m[35mCart Load (0.7ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190984 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190984[0m
  [1m[35m (108.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-05-07 11:40:39', '2018-05-07 11:40:39')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190985 AND `cart_items`.`movie_id` = 4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190985, '2018-05-07 11:40:39', '2018-05-07 11:40:39')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 40ms (ActiveRecord: 4.6ms)
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.4ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190985 LIMIT 1[0m
  [1m[35mMovie Load (1.0ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190985
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.7ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190985 LIMIT 1[0m
  [1m[35mMovie Load (0.5ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mCartItem Load (0.7ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190985 AND `cart_items`.`movie_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1[0m
  [1m[35mCartItem Load (0.6ms)[0m  SELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 980190986 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190986
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 15ms (ActiveRecord: 4.1ms)
  [1m[36mCart Load (0.7ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190985 LIMIT 1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190985
  [1m[36m (34.5ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2018-05-07 13:40:39 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-05-07 11:40:40', '2018-05-07 11:40:40')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 0
  [1m[36mHABTM_Directors Load (0.8ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `movies`
  Rendered catalog/_movies.html.erb (73.8ms)
  Rendered catalog/index.html.erb within layouts/application (76.9ms)
  [1m[36mCartItem Load (0.6ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190986[0m
  Rendered cart/_cart.html.erb (5.5ms)
Completed 200 OK in 120ms (Views: 91.8ms | ActiveRecord: 5.1ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2018-05-07 13:40:40 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190986 LIMIT 1
  [1m[36mMovie Load (1.0ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Directors Load (0.9ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (5, 4, 3, 2, 1)
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (2, 1)[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (1)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  Rendered catalog/_movies.html.erb (31.5ms)
  Rendered catalog/index.html.erb within layouts/application (32.8ms)
  [1m[35mCartItem Load (0.6ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190986
  Rendered cart/_cart.html.erb (3.0ms)
Completed 200 OK in 43ms (Views: 34.9ms | ActiveRecord: 5.1ms)
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pro Rails E-Commerce' LIMIT 1[0m
  [1m[35mMovie Load (1.0ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pride and Prejudice'  ORDER BY `movies`.`id` ASC LIMIT 1
Started GET "/catalog/show/9" for 127.0.0.1 at 2018-05-07 13:40:40 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 9 LIMIT 1[0m
  [1m[35mDirector Load (1.1ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 2 LIMIT 1[0m
  Rendered catalog/show.html.erb within layouts/application (11.4ms)
Completed 200 OK in 19ms (Views: 14.1ms | ActiveRecord: 2.8ms)
  [1m[35mDirector Load (1.3ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9
Started GET "/catalog/latest" for 127.0.0.1 at 2018-05-07 13:40:40 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190986 LIMIT 1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5
  [1m[36mHABTM_Directors Load (0.9ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)[0m
  Rendered catalog/_movies.html.erb (33.4ms)
  Rendered catalog/latest.html.erb within layouts/application (34.6ms)
  [1m[35mCartItem Load (0.6ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190986
  Rendered cart/_cart.html.erb (3.2ms)
Completed 200 OK in 46ms (Views: 38.8ms | ActiveRecord: 4.7ms)
  [1m[36mMovie Load (1.0ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5[0m
  [1m[35mHABTM_Directors Load (0.7ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)
  [1m[36m (97.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------
MovieTest: test_create
----------------------
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-05-07 11:40:40', '12425', 'A great movie', 375, 45.5, '2018-05-07 11:40:40', '2018-05-07 11:40:40')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 31, '2018-05-07 11:40:40', '2018-05-07 11:40:40')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 31, '2018-05-07 11:40:40', '2018-05-07 11:40:40')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 31, '2018-05-07 11:40:40', '2018-05-07 11:40:40')
  [1m[36mSQL (89.2ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 31, '2018-05-07 11:40:40', '2018-05-07 11:40:40')[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 31, '2018-05-07 11:40:40', '2018-05-07 11:40:40')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (51.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-05-07 11:40:40', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-05-07 11:40:40', '2018-05-07 11:40:40')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 32, '2018-05-07 11:40:40', '2018-05-07 11:40:40')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 32, '2018-05-07 11:40:40', '2018-05-07 11:40:40')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 32 LIMIT 1[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (42.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[35mDirector Load (0.9ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-05-07 11:40:40', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-05-07 11:40:40', '2018-05-07 11:40:40')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 33, '2018-05-07 11:40:40', '2018-05-07 11:40:40')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 33, '2018-05-07 11:40:40', '2018-05-07 11:40:40')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 33 LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 33[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35m (75.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-05-07 11:40:40', '2018-05-07 11:40:40')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-05-07 11:40:40', '2018-05-07 11:40:40')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-05-07 13:40:40 +0200
Processing by Admin::MovieController#new as HTML
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (28.6ms)
  Rendered admin/movie/new.html.erb within layouts/application (32.2ms)
Completed 200 OK in 46ms (Views: 43.2ms | ActiveRecord: 1.3ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-05-07 13:40:41 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"13", "director_ids"=>["23"], "produced_at"=>"2018-05-07 13:40:40 +0200", "serial_number"=>"64214", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 23 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 13 LIMIT 1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '64214' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `price`, `length`, `created_at`, `updated_at`) VALUES ('A new Movie of Ruby', 13, '2018-05-07 11:40:40', '64214', 'A new Movie of Ruby', 45.5, 325, '2018-05-07 11:40:41', '2018-05-07 11:40:41')[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (23, 34, '2018-05-07 11:40:41', '2018-05-07 11:40:41')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 33ms (ActiveRecord: 4.4ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-05-07 13:40:41 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (25.4ms)
Completed 200 OK in 32ms (Views: 27.7ms | ActiveRecord: 2.3ms)
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-05-07 13:40:41 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (21.0ms)
Completed 200 OK in 26ms (Views: 22.3ms | ActiveRecord: 2.1ms)
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies`
Started GET "/admin/movie/index/?page=3" for 127.0.0.1 at 2018-05-07 13:40:41 +0200
Processing by Admin::MovieController#index as HTML
  Parameters: {"page"=>"3"}
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 10[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 13 LIMIT 1
  Rendered admin/movie/index.html.erb within layouts/application (7.2ms)
Completed 200 OK in 12ms (Views: 8.8ms | ActiveRecord: 1.4ms)
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'A new Movie of Ruby' LIMIT 1[0m
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-05-07 13:40:41 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (21.5ms)
Completed 200 OK in 26ms (Views: 22.4ms | ActiveRecord: 2.2ms)
Started GET "/admin/movie/show/34" for 127.0.0.1 at 2018-05-07 13:40:41 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"34"}
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 34 LIMIT 1[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 13 LIMIT 1
  [1m[36mDirector Load (1.0ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 34[0m
  Rendered admin/movie/show.html.erb within layouts/application (11.0ms)
Completed 200 OK in 18ms (Views: 13.7ms | ActiveRecord: 2.6ms)
Started GET "/admin/movie/edit?id=34" for 127.0.0.1 at 2018-05-07 13:40:41 +0200
Processing by Admin::MovieController#edit as HTML
  Parameters: {"id"=>"34"}
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 34 LIMIT 1
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (1.1ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 34
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (21.4ms)
  Rendered admin/movie/edit.html.erb within layouts/application (25.0ms)
Completed 200 OK in 33ms (Views: 27.6ms | ActiveRecord: 3.2ms)
Started POST "/admin/movie/update?id=34" for 127.0.0.1 at 2018-05-07 13:40:41 +0200
Processing by Admin::MovieController#update as HTML
  Parameters: {"movie"=>{"title"=>"A very new Movie of Ruby", "producer_id"=>"13", "director_ids"=>["23"], "produced_at"=>"2018-05-07 13:40:41 +0200", "serial_number"=>"43214", "blurb"=>"A very new Movie of Ruby", "length"=>"350", "price"=>"50"}, "id"=>"34"}
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 34 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 23 LIMIT 1
  [1m[36mDirector Load (1.1ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 34[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 13 LIMIT 1
  [1m[36mMovie Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE (`movies`.`serial_number` = BINARY '43214' AND `movies`.`id` != 34) LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `movies` SET `title` = 'A very new Movie of Ruby', `produced_at` = '2018-05-07 11:40:41', `serial_number` = '43214', `blurb` = 'A very new Movie of Ruby', `price` = 50.0, `length` = 350, `updated_at` = '2018-05-07 11:40:41' WHERE `movies`.`id` = 34
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/movie/show/34
Completed 302 Found in 29ms (ActiveRecord: 5.9ms)
Started GET "/admin/movie/show/34" for 127.0.0.1 at 2018-05-07 13:40:41 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"34"}
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 34 LIMIT 1
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 13 LIMIT 1[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 34
  Rendered admin/movie/show.html.erb within layouts/application (28.7ms)
Completed 200 OK in 36ms (Views: 30.5ms | ActiveRecord: 2.6ms)
Started POST "/admin/movie/destroy?id=34" for 127.0.0.1 at 2018-05-07 13:40:41 +0200
Processing by Admin::MovieController#destroy as HTML
  Parameters: {"id"=>"34"}
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 34 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mDELETE FROM `directors_movies` WHERE `directors_movies`.`movie_id` = 34[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `movies` WHERE `movies`.`id` = 34
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 10ms (ActiveRecord: 2.8ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-05-07 13:40:41 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (23.2ms)
Completed 200 OK in 29ms (Views: 25.0ms | ActiveRecord: 2.0ms)
  [1m[36m (54.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/show.html.erb within layouts/application (2.5ms)
Completed 200 OK in 18ms (Views: 15.6ms | ActiveRecord: 0.6ms)
  [1m[35mProducer Exists (0.8ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.7ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (6.7ms)
  Rendered admin/producer/index.html.erb within layouts/application (12.9ms)
Completed 200 OK in 19ms (Views: 17.9ms | ActiveRecord: 0.7ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-05-07 11:40:41', '2018-05-07 11:40:41')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 10ms (ActiveRecord: 1.6ms)
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (101.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.6ms)[0m  DELETE FROM `producers` WHERE `producers`.`id` = 1
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 8ms (ActiveRecord: 3.0ms)
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.9ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (3.3ms)
  Rendered admin/producer/index.html.erb within layouts/application (7.3ms)
Completed 200 OK in 12ms (Views: 10.5ms | ActiveRecord: 0.9ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (41.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (1.0ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-05-07 11:40:41' WHERE `producers`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 14ms (ActiveRecord: 3.2ms)
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (42.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/_form.html.erb (2.6ms)
  Rendered admin/producer/edit.html.erb within layouts/application (8.4ms)
Completed 200 OK in 16ms (Views: 13.0ms | ActiveRecord: 0.8ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (0.5ms)
  Rendered admin/producer/new.html.erb within layouts/application (3.8ms)
Completed 200 OK in 9ms (Views: 8.5ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (90.9ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-05-07', 45.0, '2018-05-07 11:48:22', '2018-05-07 11:48:22')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-05-07', 65.0, '2018-05-07 11:48:22', '2018-05-07 11:48:22')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-05-07', 85.0, '2018-05-07 11:48:22', '2018-05-07 11:48:22')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-05-07', 105.0, '2018-05-07 11:48:22', '2018-05-07 11:48:22')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-05-07', 125.0, '2018-05-07 11:48:22', '2018-05-07 11:48:22')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-05-07', 145.0, '2018-05-07 11:48:22', '2018-05-07 11:48:22')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-05-07', 165.0, '2018-05-07 11:48:22', '2018-05-07 11:48:22')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-05-07', 185.0, '2018-05-07 11:48:22', '2018-05-07 11:48:22')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-05-07', 40.0, '2018-05-07 11:48:22', '2018-05-07 11:48:22')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-05-07', 40.0, '2018-05-07 11:48:22', '2018-05-07 11:48:22')[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-05-07 11:48:23', '2018-05-07 11:48:23')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-05-07 11:48:23', '2018-05-07 11:48:23')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (94.4ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:48:23', '2018-05-07 11:48:23', 980190962)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:48:23', '2018-05-07 11:48:23', 298486374)[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM `directors`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-05-07 11:48:23', '2018-05-07 11:48:23')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-05-07 11:48:23', '2018-05-07 11:48:23')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-05-07 11:48:23', '2018-05-07 11:48:23')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-05-07 11:48:23', '2018-05-07 11:48:23')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-05-07 11:48:23', '2018-05-07 11:48:23')[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM `directors_movies`
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:48:22', '2018-05-07 13:48:22', 1, 1)[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:48:22', '2018-05-07 13:48:22', 2, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:48:22', '2018-05-07 13:48:22', 2, 3)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:48:22', '2018-05-07 13:48:22', 2, 4)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:48:22', '2018-05-07 13:48:22', 2, 5)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:48:22', '2018-05-07 13:48:22', 2, 6)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:48:22', '2018-05-07 13:48:22', 2, 7)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:48:22', '2018-05-07 13:48:22', 3, 8)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:48:22', '2018-05-07 13:48:22', 4, 9)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:48:22', '2018-05-07 13:48:22', 5, 10)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:48:23', '2018-05-07 11:48:23', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:48:23', '2018-05-07 11:48:23', 298486374)[0m
  [1m[35m (89.3ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
---------------------------
OrderTest: test_validations
---------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'ES', '127.0.0.1', 'open', '2018-05-07 11:48:23', '2018-05-07 11:48:23')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `order_items` (`movie_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 155.25, 3, 980190970, '2018-05-07 11:48:23', '2018-05-07 11:48:23')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `orders` SET `status` = 'failed', `error_message` = 'Your order has been received. Thank you for your business!', `updated_at` = '2018-05-07 11:48:24' WHERE `orders`.`id` = 980190970
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (35.5ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.7ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mFixture Delete (91.2ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-05-07', 45.0, '2018-05-07 11:50:47', '2018-05-07 11:50:47')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-05-07', 65.0, '2018-05-07 11:50:47', '2018-05-07 11:50:47')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-05-07', 85.0, '2018-05-07 11:50:47', '2018-05-07 11:50:47')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-05-07', 105.0, '2018-05-07 11:50:47', '2018-05-07 11:50:47')[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-05-07', 125.0, '2018-05-07 11:50:47', '2018-05-07 11:50:47')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-05-07', 145.0, '2018-05-07 11:50:47', '2018-05-07 11:50:47')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-05-07', 165.0, '2018-05-07 11:50:47', '2018-05-07 11:50:47')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-05-07', 185.0, '2018-05-07 11:50:47', '2018-05-07 11:50:47')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-05-07', 40.0, '2018-05-07 11:50:47', '2018-05-07 11:50:47')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-05-07', 40.0, '2018-05-07 11:50:47', '2018-05-07 11:50:47')[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-05-07 11:50:47', '2018-05-07 11:50:47')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-05-07 11:50:47', '2018-05-07 11:50:47')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (89.9ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:50:47', '2018-05-07 11:50:47', 980190962)
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:50:47', '2018-05-07 11:50:47', 298486374)[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM `directors`
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-05-07 11:50:47', '2018-05-07 11:50:47')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-05-07 11:50:47', '2018-05-07 11:50:47')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-05-07 11:50:47', '2018-05-07 11:50:47')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-05-07 11:50:47', '2018-05-07 11:50:47')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-05-07 11:50:47', '2018-05-07 11:50:47')[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM `directors_movies`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:50:47', '2018-05-07 13:50:47', 1, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:50:47', '2018-05-07 13:50:47', 2, 2)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:50:47', '2018-05-07 13:50:47', 2, 3)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:50:47', '2018-05-07 13:50:47', 2, 4)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:50:47', '2018-05-07 13:50:47', 2, 5)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:50:47', '2018-05-07 13:50:47', 2, 6)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:50:47', '2018-05-07 13:50:47', 2, 7)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:50:47', '2018-05-07 13:50:47', 3, 8)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:50:47', '2018-05-07 13:50:47', 4, 9)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:50:47', '2018-05-07 13:50:47', 5, 10)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:50:48', '2018-05-07 11:50:48', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:50:48', '2018-05-07 11:50:48', 298486374)[0m
  [1m[35m (90.5ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'ES', '127.0.0.1', 'open', '2018-05-07 11:50:48', '2018-05-07 11:50:48')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `order_items` (`movie_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 155.25, 3, 980190971, '2018-05-07 11:50:48', '2018-05-07 11:50:48')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.1ms)[0m  UPDATE `orders` SET `status` = 'failed', `error_message` = 'Your order has been received. Thank you for your business!', `updated_at` = '2018-05-07 11:50:49' WHERE `orders`.`id` = 980190971
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (85.7ms)[0m  ROLLBACK
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
---------------------------
OrderTest: test_validations
---------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (86.1ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.9ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-05-07', 45.0, '2018-05-07 11:51:22', '2018-05-07 11:51:22')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-05-07', 65.0, '2018-05-07 11:51:22', '2018-05-07 11:51:22')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-05-07', 85.0, '2018-05-07 11:51:22', '2018-05-07 11:51:22')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-05-07', 105.0, '2018-05-07 11:51:22', '2018-05-07 11:51:22')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-05-07', 125.0, '2018-05-07 11:51:22', '2018-05-07 11:51:22')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-05-07', 145.0, '2018-05-07 11:51:22', '2018-05-07 11:51:22')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-05-07', 165.0, '2018-05-07 11:51:22', '2018-05-07 11:51:22')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-05-07', 185.0, '2018-05-07 11:51:22', '2018-05-07 11:51:22')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-05-07', 40.0, '2018-05-07 11:51:22', '2018-05-07 11:51:22')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-05-07', 40.0, '2018-05-07 11:51:22', '2018-05-07 11:51:22')[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-05-07 11:51:22', '2018-05-07 11:51:22')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-05-07 11:51:22', '2018-05-07 11:51:22')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (84.0ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:51:23', '2018-05-07 11:51:23', 980190962)
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:51:23', '2018-05-07 11:51:23', 298486374)[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM `directors`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-05-07 11:51:23', '2018-05-07 11:51:23')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-05-07 11:51:23', '2018-05-07 11:51:23')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-05-07 11:51:23', '2018-05-07 11:51:23')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-05-07 11:51:23', '2018-05-07 11:51:23')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-05-07 11:51:23', '2018-05-07 11:51:23')[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM `directors_movies`
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:51:22', '2018-05-07 13:51:22', 1, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:51:22', '2018-05-07 13:51:22', 2, 2)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:51:22', '2018-05-07 13:51:22', 2, 3)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:51:22', '2018-05-07 13:51:22', 2, 4)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:51:22', '2018-05-07 13:51:22', 2, 5)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:51:22', '2018-05-07 13:51:22', 2, 6)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:51:22', '2018-05-07 13:51:22', 2, 7)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:51:22', '2018-05-07 13:51:22', 3, 8)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:51:22', '2018-05-07 13:51:22', 4, 9)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:51:22', '2018-05-07 13:51:22', 5, 10)
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:51:23', '2018-05-07 11:51:23', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:51:23', '2018-05-07 11:51:23', 298486374)[0m
  [1m[35m (89.1ms)[0m  COMMIT
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'ES', '127.0.0.1', 'open', '2018-05-07 11:51:23', '2018-05-07 11:51:23')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `order_items` (`movie_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 155.25, 3, 980190972, '2018-05-07 11:51:23', '2018-05-07 11:51:23')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `orders` SET `status` = 'failed', `error_message` = 'Your order has been received. Thank you for your business!', `updated_at` = '2018-05-07 11:51:24' WHERE `orders`.`id` = 980190972
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (43.3ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------
OrderTest: test_validations
---------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (92.8ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (1.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-05-07', 45.0, '2018-05-07 11:52:06', '2018-05-07 11:52:06')
  [1m[36mFixture Insert (0.9ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-05-07', 65.0, '2018-05-07 11:52:06', '2018-05-07 11:52:06')[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-05-07', 85.0, '2018-05-07 11:52:06', '2018-05-07 11:52:06')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-05-07', 105.0, '2018-05-07 11:52:06', '2018-05-07 11:52:06')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-05-07', 125.0, '2018-05-07 11:52:06', '2018-05-07 11:52:06')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-05-07', 145.0, '2018-05-07 11:52:06', '2018-05-07 11:52:06')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-05-07', 165.0, '2018-05-07 11:52:06', '2018-05-07 11:52:06')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-05-07', 185.0, '2018-05-07 11:52:06', '2018-05-07 11:52:06')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-05-07', 40.0, '2018-05-07 11:52:06', '2018-05-07 11:52:06')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-05-07', 40.0, '2018-05-07 11:52:06', '2018-05-07 11:52:06')[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-05-07 11:52:06', '2018-05-07 11:52:06')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-05-07 11:52:06', '2018-05-07 11:52:06')
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (129.2ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:52:06', '2018-05-07 11:52:06', 980190962)
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:52:06', '2018-05-07 11:52:06', 298486374)[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM `directors`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-05-07 11:52:07', '2018-05-07 11:52:07')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-05-07 11:52:07', '2018-05-07 11:52:07')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-05-07 11:52:07', '2018-05-07 11:52:07')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-05-07 11:52:07', '2018-05-07 11:52:07')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-05-07 11:52:07', '2018-05-07 11:52:07')[0m
  [1m[35mFixture Delete (0.9ms)[0m  DELETE FROM `directors_movies`
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:52:06', '2018-05-07 13:52:06', 1, 1)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:52:06', '2018-05-07 13:52:06', 2, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:52:06', '2018-05-07 13:52:06', 2, 3)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:52:06', '2018-05-07 13:52:06', 2, 4)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:52:06', '2018-05-07 13:52:06', 2, 5)[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:52:06', '2018-05-07 13:52:06', 2, 6)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:52:06', '2018-05-07 13:52:06', 2, 7)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:52:06', '2018-05-07 13:52:06', 3, 8)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:52:06', '2018-05-07 13:52:06', 4, 9)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:52:06', '2018-05-07 13:52:06', 5, 10)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:52:07', '2018-05-07 11:52:07', 980190962)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:52:07', '2018-05-07 11:52:07', 298486374)[0m
  [1m[35m (88.1ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'ES', '127.0.0.1', 'open', '2018-05-07 11:52:07', '2018-05-07 11:52:07')
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `order_items` (`movie_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 155.25, 3, 980190973, '2018-05-07 11:52:07', '2018-05-07 11:52:07')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `orders` SET `status` = 'failed', `error_message` = 'Your order has been received. Thank you for your business!', `updated_at` = '2018-05-07 11:52:08' WHERE `orders`.`id` = 980190973
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (48.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------
OrderTest: test_validations
---------------------------
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (97.2ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.8ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-05-07', 45.0, '2018-05-07 11:53:40', '2018-05-07 11:53:40')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-05-07', 65.0, '2018-05-07 11:53:40', '2018-05-07 11:53:40')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-05-07', 85.0, '2018-05-07 11:53:40', '2018-05-07 11:53:40')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-05-07', 105.0, '2018-05-07 11:53:40', '2018-05-07 11:53:40')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-05-07', 125.0, '2018-05-07 11:53:40', '2018-05-07 11:53:40')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-05-07', 145.0, '2018-05-07 11:53:40', '2018-05-07 11:53:40')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-05-07', 165.0, '2018-05-07 11:53:40', '2018-05-07 11:53:40')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-05-07', 185.0, '2018-05-07 11:53:40', '2018-05-07 11:53:40')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-05-07', 40.0, '2018-05-07 11:53:40', '2018-05-07 11:53:40')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-05-07', 40.0, '2018-05-07 11:53:40', '2018-05-07 11:53:40')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-05-07 11:53:40', '2018-05-07 11:53:40')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-05-07 11:53:40', '2018-05-07 11:53:40')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (87.3ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:53:40', '2018-05-07 11:53:40', 980190962)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:53:40', '2018-05-07 11:53:40', 298486374)[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM `directors`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-05-07 11:53:40', '2018-05-07 11:53:40')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-05-07 11:53:40', '2018-05-07 11:53:40')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-05-07 11:53:40', '2018-05-07 11:53:40')[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-05-07 11:53:40', '2018-05-07 11:53:40')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-05-07 11:53:40', '2018-05-07 11:53:40')[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM `directors_movies`
  [1m[36mFixture Insert (0.8ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:53:40', '2018-05-07 13:53:40', 1, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:53:40', '2018-05-07 13:53:40', 2, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:53:40', '2018-05-07 13:53:40', 2, 3)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:53:40', '2018-05-07 13:53:40', 2, 4)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:53:40', '2018-05-07 13:53:40', 2, 5)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:53:40', '2018-05-07 13:53:40', 2, 6)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:53:40', '2018-05-07 13:53:40', 2, 7)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:53:40', '2018-05-07 13:53:40', 3, 8)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:53:40', '2018-05-07 13:53:40', 4, 9)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:53:40', '2018-05-07 13:53:40', 5, 10)
  [1m[36mFixture Delete (0.7ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:53:40', '2018-05-07 11:53:40', 980190962)
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:53:40', '2018-05-07 11:53:40', 298486374)[0m
  [1m[35m (81.0ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'ES', '127.0.0.1', 'open', '2018-05-07 11:53:41', '2018-05-07 11:53:41')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `order_items` (`movie_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 155.25, 3, 980190974, '2018-05-07 11:53:41', '2018-05-07 11:53:41')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `orders` SET `status` = 'failed', `error_message` = 'Your order has been received. Thank you for your business!', `updated_at` = '2018-05-07 11:53:42' WHERE `orders`.`id` = 980190974
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (49.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------
OrderTest: test_validations
---------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (77.2ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-05-07', 45.0, '2018-05-07 11:56:08', '2018-05-07 11:56:08')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-05-07', 65.0, '2018-05-07 11:56:08', '2018-05-07 11:56:08')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-05-07', 85.0, '2018-05-07 11:56:08', '2018-05-07 11:56:08')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-05-07', 105.0, '2018-05-07 11:56:08', '2018-05-07 11:56:08')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-05-07', 125.0, '2018-05-07 11:56:08', '2018-05-07 11:56:08')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-05-07', 145.0, '2018-05-07 11:56:08', '2018-05-07 11:56:08')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-05-07', 165.0, '2018-05-07 11:56:08', '2018-05-07 11:56:08')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-05-07', 185.0, '2018-05-07 11:56:08', '2018-05-07 11:56:08')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-05-07', 40.0, '2018-05-07 11:56:08', '2018-05-07 11:56:08')
  [1m[36mFixture Insert (0.2ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-05-07', 40.0, '2018-05-07 11:56:08', '2018-05-07 11:56:08')[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-05-07 11:56:08', '2018-05-07 11:56:08')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-05-07 11:56:08', '2018-05-07 11:56:08')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (67.4ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:56:08', '2018-05-07 11:56:08', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:56:08', '2018-05-07 11:56:08', 298486374)[0m
  [1m[35mFixture Delete (0.5ms)[0m  DELETE FROM `directors`
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-05-07 11:56:08', '2018-05-07 11:56:08')[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-05-07 11:56:08', '2018-05-07 11:56:08')
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-05-07 11:56:08', '2018-05-07 11:56:08')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-05-07 11:56:08', '2018-05-07 11:56:08')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-05-07 11:56:08', '2018-05-07 11:56:08')[0m
  [1m[35mFixture Delete (0.8ms)[0m  DELETE FROM `directors_movies`
  [1m[36mFixture Insert (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:56:08', '2018-05-07 13:56:08', 1, 1)[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:56:08', '2018-05-07 13:56:08', 2, 2)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:56:08', '2018-05-07 13:56:08', 2, 3)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:56:08', '2018-05-07 13:56:08', 2, 4)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:56:08', '2018-05-07 13:56:08', 2, 5)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:56:08', '2018-05-07 13:56:08', 2, 6)
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:56:08', '2018-05-07 13:56:08', 2, 7)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:56:08', '2018-05-07 13:56:08', 3, 8)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:56:08', '2018-05-07 13:56:08', 4, 9)[0m
  [1m[35mFixture Insert (0.4ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:56:08', '2018-05-07 13:56:08', 5, 10)
  [1m[36mFixture Delete (0.6ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:56:08', '2018-05-07 11:56:08', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:56:08', '2018-05-07 11:56:08', 298486374)[0m
  [1m[35m (67.4ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mMovie Exists (0.9ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-05-07 11:56:08', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-05-07 11:56:08', '2018-05-07 11:56:08')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 35, '2018-05-07 11:56:08', '2018-05-07 11:56:08')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 35, '2018-05-07 11:56:08', '2018-05-07 11:56:08')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (1.0ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 35 LIMIT 1[0m
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 35
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1[0m
  [1m[35m (1.1ms)[0m  SELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1
  [1m[36m (36.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
----------------------
MovieTest: test_create
----------------------
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT `directors`.* FROM `directors`
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-05-07 11:56:08', '12425', 'A great movie', 375, 45.5, '2018-05-07 11:56:08', '2018-05-07 11:56:08')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 36, '2018-05-07 11:56:08', '2018-05-07 11:56:08')[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 36, '2018-05-07 11:56:08', '2018-05-07 11:56:08')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 36, '2018-05-07 11:56:08', '2018-05-07 11:56:08')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 36, '2018-05-07 11:56:08', '2018-05-07 11:56:08')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 36, '2018-05-07 11:56:08', '2018-05-07 11:56:08')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (36.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-05-07 11:56:08', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-05-07 11:56:08', '2018-05-07 11:56:08')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 37, '2018-05-07 11:56:08', '2018-05-07 11:56:08')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 37, '2018-05-07 11:56:09', '2018-05-07 11:56:09')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (1.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 37 LIMIT 1[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (43.8ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-05-07 11:56:09', '2018-05-07 11:56:09')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (40.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.5ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.4ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.3ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.1ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (1.5ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'ES', '127.0.0.1', 'open', '2018-05-07 11:56:09', '2018-05-07 11:56:09')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `order_items` (`movie_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 155.25, 3, 980190975, '2018-05-07 11:56:09', '2018-05-07 11:56:09')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `orders` SET `status` = 'failed', `error_message` = 'Your order has been received. Thank you for your business!', `updated_at` = '2018-05-07 11:56:10' WHERE `orders`.`id` = 980190975
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (58.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------
OrderTest: test_validations
---------------------------
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM `cart_items`
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-05-07 11:56:10', '2018-05-07 11:56:10')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35m (1.1ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190987 AND `cart_items`.`movie_id` = 4
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190987, '2018-05-07 11:56:10', '2018-05-07 11:56:10')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 64ms (ActiveRecord: 7.3ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
  [1m[35mCart Load (0.9ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190987 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190987[0m
  [1m[35m (45.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-05-07 11:56:10', '2018-05-07 11:56:10')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (1.0ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mMovie Load (1.0ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190988 AND `cart_items`.`movie_id` = 4[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190988, '2018-05-07 11:56:10', '2018-05-07 11:56:10')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 29ms (ActiveRecord: 5.7ms)
Processing by CartController#add as HTML
  Parameters: {"id"=>"3"}
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190988 LIMIT 1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190988 AND `cart_items`.`movie_id` = 3[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 1, 85.0, 980190988, '2018-05-07 11:56:10', '2018-05-07 11:56:10')[0m
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (1.0ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 25ms (ActiveRecord: 4.8ms)
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mMovie Load (0.5ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1[0m
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190988 LIMIT 1
  [1m[36mMovie Load (1.0ms)[0m  [1mSELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190988[0m
Processing by CartController#clear as HTML
  [1m[35mCart Load (1.0ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190988 LIMIT 1
  [1m[36mCartItem Load (0.9ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190988[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190988[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190989
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 15ms (ActiveRecord: 3.5ms)
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190988 LIMIT 1
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190988[0m
  [1m[35m (58.5ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-05-07 11:56:10', '2018-05-07 11:56:10')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190989 AND `cart_items`.`movie_id` = 4[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190989, '2018-05-07 11:56:10', '2018-05-07 11:56:10')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 32ms (ActiveRecord: 4.7ms)
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.7ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190989 LIMIT 1[0m
  [1m[35mMovie Load (1.4ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190989
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190989 LIMIT 1[0m
  [1m[35mMovie Load (1.1ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mCartItem Load (0.8ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190989 AND `cart_items`.`movie_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1[0m
  [1m[35mCartItem Load (0.8ms)[0m  SELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 980190990 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190990
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 22ms (ActiveRecord: 4.9ms)
  [1m[36mCart Load (2.3ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190989 LIMIT 1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190989
  [1m[36m (47.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2018-05-07 13:56:11 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-05-07 11:56:11', '2018-05-07 11:56:11')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 0
  [1m[36mHABTM_Directors Load (0.8ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mDirector Load (0.7ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `movies`
  Rendered catalog/_movies.html.erb (74.8ms)
  Rendered catalog/index.html.erb within layouts/application (89.6ms)
  [1m[36mCartItem Load (0.7ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190990[0m
  Rendered cart/_cart.html.erb (5.7ms)
Completed 200 OK in 687ms (Views: 656.2ms | ActiveRecord: 5.0ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2018-05-07 13:56:11 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190990 LIMIT 1
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Directors Load (1.0ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (5, 4, 3, 2, 1)
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (2, 1)[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (1)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  Rendered catalog/_movies.html.erb (34.2ms)
  Rendered catalog/index.html.erb within layouts/application (35.6ms)
  [1m[35mCartItem Load (0.7ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190990
  Rendered cart/_cart.html.erb (3.4ms)
Completed 200 OK in 46ms (Views: 37.7ms | ActiveRecord: 5.5ms)
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pro Rails E-Commerce' LIMIT 1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pride and Prejudice'  ORDER BY `movies`.`id` ASC LIMIT 1
Started GET "/catalog/show/9" for 127.0.0.1 at 2018-05-07 13:56:11 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 9 LIMIT 1[0m
  [1m[35mDirector Load (1.2ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 2 LIMIT 1[0m
  Rendered catalog/show.html.erb within layouts/application (10.5ms)
Completed 200 OK in 18ms (Views: 13.2ms | ActiveRecord: 2.9ms)
  [1m[35mDirector Load (1.1ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9
Started GET "/catalog/latest" for 127.0.0.1 at 2018-05-07 13:56:11 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190990 LIMIT 1[0m
  [1m[35mMovie Load (1.0ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5
  [1m[36mHABTM_Directors Load (0.9ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)[0m
  Rendered catalog/_movies.html.erb (31.4ms)
  Rendered catalog/latest.html.erb within layouts/application (32.7ms)
  [1m[35mCartItem Load (0.8ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190990
  Rendered cart/_cart.html.erb (3.4ms)
Completed 200 OK in 44ms (Views: 36.3ms | ActiveRecord: 5.0ms)
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5[0m
  [1m[35mHABTM_Directors Load (0.9ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)
  [1m[36mDirector Load (0.9ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)
  [1m[36m (92.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 17ms (Views: 16.3ms | ActiveRecord: 0.0ms)
  [1m[36m (0.9ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  Rendered admin/producer/_producer.html.erb (7.2ms)
  Rendered admin/producer/index.html.erb within layouts/application (13.6ms)
Completed 200 OK in 32ms (Views: 29.6ms | ActiveRecord: 0.8ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/_form.html.erb (6.8ms)
  Rendered admin/producer/edit.html.erb within layouts/application (13.2ms)
Completed 200 OK in 23ms (Views: 20.6ms | ActiveRecord: 0.8ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  UPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-05-07 11:56:12' WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 15ms (ActiveRecord: 2.7ms)
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (43.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[35m (0.7ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (1.2ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-05-07 11:56:12', '2018-05-07 11:56:12')
  [1m[36m (0.4ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 13ms (ActiveRecord: 2.9ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `producers`
  [1m[36m (44.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (88.1ms)[0m  DELETE FROM `producers` WHERE `producers`.`id` = 1
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 95ms (ActiveRecord: 89.5ms)
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (2.3ms)
  Rendered admin/producer/index.html.erb within layouts/application (5.2ms)
Completed 200 OK in 10ms (Views: 8.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (112.9ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (0.5ms)
  Rendered admin/producer/new.html.erb within layouts/application (4.6ms)
Completed 200 OK in 11ms (Views: 10.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/show.html.erb within layouts/application (2.2ms)
Completed 200 OK in 9ms (Views: 6.6ms | ActiveRecord: 0.6ms)
  [1m[36mProducer Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.6ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-05-07 11:56:12', '2018-05-07 11:56:12')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-05-07 11:56:12', '2018-05-07 11:56:12')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1[0m
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-05-07 13:56:12 +0200
Processing by Admin::MovieController#new as HTML
  [1m[35mProducer Load (0.7ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (34.9ms)
  Rendered admin/movie/new.html.erb within layouts/application (38.9ms)
Completed 200 OK in 53ms (Views: 50.3ms | ActiveRecord: 1.5ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-05-07 13:56:12 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"16", "director_ids"=>["25"], "produced_at"=>"2018-05-07 13:56:12 +0200", "serial_number"=>"64214", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[35mDirector Load (0.9ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 25 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 16 LIMIT 1
  [1m[36mMovie Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '64214' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `price`, `length`, `created_at`, `updated_at`) VALUES ('A new Movie of Ruby', 16, '2018-05-07 11:56:12', '64214', 'A new Movie of Ruby', 45.5, 325, '2018-05-07 11:56:12', '2018-05-07 11:56:12')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (25, 38, '2018-05-07 11:56:12', '2018-05-07 11:56:12')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 33ms (ActiveRecord: 4.3ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-05-07 13:56:12 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (27.2ms)
Completed 200 OK in 34ms (Views: 29.9ms | ActiveRecord: 2.3ms)
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-05-07 13:56:12 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (23.5ms)
Completed 200 OK in 28ms (Views: 24.6ms | ActiveRecord: 2.3ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
Started GET "/admin/movie/index/?page=3" for 127.0.0.1 at 2018-05-07 13:56:12 +0200
Processing by Admin::MovieController#index as HTML
  Parameters: {"page"=>"3"}
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 10
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 16 LIMIT 1[0m
  Rendered admin/movie/index.html.erb within layouts/application (7.5ms)
Completed 200 OK in 12ms (Views: 9.2ms | ActiveRecord: 1.4ms)
  [1m[35mMovie Load (1.0ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'A new Movie of Ruby' LIMIT 1
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-05-07 13:56:12 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (20.0ms)
Completed 200 OK in 24ms (Views: 21.0ms | ActiveRecord: 1.9ms)
Started GET "/admin/movie/show/38" for 127.0.0.1 at 2018-05-07 13:56:12 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"38"}
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 38 LIMIT 1
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 16 LIMIT 1[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 38
  Rendered admin/movie/show.html.erb within layouts/application (10.9ms)
Completed 200 OK in 18ms (Views: 13.3ms | ActiveRecord: 2.7ms)
Started GET "/admin/movie/edit?id=38" for 127.0.0.1 at 2018-05-07 13:56:12 +0200
Processing by Admin::MovieController#edit as HTML
  Parameters: {"id"=>"38"}
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 38 LIMIT 1[0m
  [1m[35mProducer Load (0.9ms)[0m  SELECT `producers`.* FROM `producers`
  [1m[36mDirector Load (1.0ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 38[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (20.9ms)
  Rendered admin/movie/edit.html.erb within layouts/application (25.3ms)
Completed 200 OK in 34ms (Views: 28.2ms | ActiveRecord: 3.2ms)
Started POST "/admin/movie/update?id=38" for 127.0.0.1 at 2018-05-07 13:56:12 +0200
Processing by Admin::MovieController#update as HTML
  Parameters: {"movie"=>{"title"=>"A very new Movie of Ruby", "producer_id"=>"16", "director_ids"=>["25"], "produced_at"=>"2018-05-07 13:56:12 +0200", "serial_number"=>"43214", "blurb"=>"A very new Movie of Ruby", "length"=>"350", "price"=>"50"}, "id"=>"38"}
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 38 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 25 LIMIT 1[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 38
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 16 LIMIT 1[0m
  [1m[35mMovie Exists (1.0ms)[0m  SELECT  1 AS one FROM `movies` WHERE (`movies`.`serial_number` = BINARY '43214' AND `movies`.`id` != 38) LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `movies` SET `title` = 'A very new Movie of Ruby', `serial_number` = '43214', `blurb` = 'A very new Movie of Ruby', `price` = 50.0, `length` = 350, `updated_at` = '2018-05-07 11:56:13' WHERE `movies`.`id` = 38[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie/show/38
Completed 302 Found in 28ms (ActiveRecord: 5.6ms)
Started GET "/admin/movie/show/38" for 127.0.0.1 at 2018-05-07 13:56:13 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"38"}
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 38 LIMIT 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 16 LIMIT 1
  [1m[36mDirector Load (1.0ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 38[0m
  Rendered admin/movie/show.html.erb within layouts/application (8.3ms)
Completed 200 OK in 78ms (Views: 73.1ms | ActiveRecord: 2.2ms)
Started POST "/admin/movie/destroy?id=38" for 127.0.0.1 at 2018-05-07 13:56:13 +0200
Processing by Admin::MovieController#destroy as HTML
  Parameters: {"id"=>"38"}
  [1m[35mMovie Load (1.1ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 38 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`movie_id` = 38
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM `movies` WHERE `movies`.`id` = 38[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 9ms (ActiveRecord: 2.9ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-05-07 13:56:13 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.8ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (23.2ms)
Completed 200 OK in 28ms (Views: 24.7ms | ActiveRecord: 2.2ms)
  [1m[35m (51.7ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  Rendered admin/director/_form.html.erb (6.5ms)
  Rendered admin/director/new.html.erb within layouts/application (10.9ms)
Completed 200 OK in 34ms (Views: 24.3ms | ActiveRecord: 0.7ms)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/director/_director.html.erb (10.3ms)
  Rendered admin/director/index.html.erb within layouts/application (15.6ms)
Completed 200 OK in 21ms (Views: 19.5ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1
  [1m[36mSQL (0.6ms)[0m  [1mDELETE FROM `directors` WHERE `directors`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 9ms (ActiveRecord: 2.2ms)
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (8.3ms)
  Rendered admin/director/index.html.erb within layouts/application (11.4ms)
Completed 200 OK in 16ms (Views: 14.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (51.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (1.7ms)
  Rendered admin/director/new.html.erb within layouts/application (4.5ms)
Completed 200 OK in 9ms (Views: 8.4ms | ActiveRecord: 0.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-05-07 11:56:13', '2018-05-07 11:56:13')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 7ms (Views: 8.4ms | ActiveRecord: 0.9ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
  [1m[35m (48.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.6ms)
  Rendered admin/director/new.html.erb within layouts/application (2.2ms)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/_form.html.erb (0.6ms)
  Rendered admin/director/edit.html.erb within layouts/application (4.2ms)
Completed 200 OK in 11ms (Views: 8.7ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  Rendered admin/director/show.html.erb within layouts/application (2.4ms)
Completed 200 OK in 9ms (Views: 6.7ms | ActiveRecord: 0.7ms)
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-05-07 11:56:13' WHERE `directors`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 10ms (ActiveRecord: 2.0ms)
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (51.6ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT `schema_migrations`.* FROM `schema_migrations`[0m
  [1m[35m (0.6ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.4ms)[0m  SET FOREIGN_KEY_CHECKS = 1
  [1m[36m (0.4ms)[0m  [1mSELECT @@FOREIGN_KEY_CHECKS[0m
  [1m[35m (0.2ms)[0m  SET FOREIGN_KEY_CHECKS = 0
  [1m[36m (0.3ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.4ms)[0m  SELECT @@FOREIGN_KEY_CHECKS
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 0[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mFixture Delete (1.1ms)[0m  [1mDELETE FROM `movies`[0m
  [1m[35mFixture Insert (0.7ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (1, 'Pro Rails E-Commerce', 1, '12345', '2018-05-07', 45.0, '2018-05-07 11:56:21', '2018-05-07 11:56:21')
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (2, 'Pro Rails E-Commerce 2nd Edition', 1, '12341', '2018-05-07', 65.0, '2018-05-07 11:56:21', '2018-05-07 11:56:21')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (3, 'Pro Rails E-Commerce 3rd Edition', 1, '12322', '2018-05-07', 85.0, '2018-05-07 11:56:21', '2018-05-07 11:56:21')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (4, 'Pro Rails E-Commerce 4th Edition', 1, '12121', '2018-05-07', 105.0, '2018-05-07 11:56:21', '2018-05-07 11:56:21')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (5, 'Pro Rails E-Commerce 5th Edition', 1, '12127', '2018-05-07', 125.0, '2018-05-07 11:56:21', '2018-05-07 11:56:21')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (6, 'Pro Rails E-Commerce 6th Edition', 1, '12111', '2018-05-07', 145.0, '2018-05-07 11:56:21', '2018-05-07 11:56:21')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (7, 'Pro Rails E-Commerce 7th Edition', 2, '21127', '2018-05-07', 165.0, '2018-05-07 11:56:21', '2018-05-07 11:56:21')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (8, 'Ruby for Dummies', 1, '22127', '2018-05-07', 185.0, '2018-05-07 11:56:21', '2018-05-07 11:56:21')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (9, 'Pride and Prejudice', 2, '11128', '2018-05-07', 40.0, '2018-05-07 11:56:21', '2018-05-07 11:56:21')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `movies` (`id`, `title`, `producer_id`, `serial_number`, `produced_at`, `price`, `created_at`, `updated_at`) VALUES (10, 'The Idiot', 2, '11128', '2018-05-07', 40.0, '2018-05-07 11:56:21', '2018-05-07 11:56:21')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM `producers`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (1, 'Apress', '2018-05-07 11:56:21', '2018-05-07 11:56:21')[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `producers` (`id`, `name`, `created_at`, `updated_at`) VALUES (2, 'Emporium', '2018-05-07 11:56:21', '2018-05-07 11:56:21')
  [1m[36mFixture Delete (0.5ms)[0m  [1mDELETE FROM `order_items`[0m
  [1m[35mFixture Insert (90.4ms)[0m  INSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:56:21', '2018-05-07 11:56:21', 980190962)
  [1m[36mFixture Insert (0.6ms)[0m  [1mINSERT INTO `order_items` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:56:21', '2018-05-07 11:56:21', 298486374)[0m
  [1m[35mFixture Delete (0.6ms)[0m  DELETE FROM `directors`
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (1, 'Joel', 'Spolsky', '2018-05-07 11:56:21', '2018-05-07 11:56:21')[0m
  [1m[35mFixture Insert (0.6ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (2, 'Jeremy', 'Keith', '2018-05-07 11:56:21', '2018-05-07 11:56:21')
  [1m[36mFixture Insert (0.5ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (3, 'Jarkko', 'Laine', '2018-05-07 11:56:21', '2018-05-07 11:56:21')[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (4, 'Christian', 'Hellsten', '2018-05-07 11:56:21', '2018-05-07 11:56:21')
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors` (`id`, `first_name`, `last_name`, `created_at`, `updated_at`) VALUES (5, 'Leo', 'Tolstoy', '2018-05-07 11:56:21', '2018-05-07 11:56:21')[0m
  [1m[35mFixture Delete (0.7ms)[0m  DELETE FROM `directors_movies`
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:56:21', '2018-05-07 13:56:21', 1, 1)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:56:21', '2018-05-07 13:56:21', 2, 2)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:56:21', '2018-05-07 13:56:21', 2, 3)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:56:21', '2018-05-07 13:56:21', 2, 4)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:56:21', '2018-05-07 13:56:21', 2, 5)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:56:21', '2018-05-07 13:56:21', 2, 6)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:56:21', '2018-05-07 13:56:21', 2, 7)[0m
  [1m[35mFixture Insert (0.3ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:56:21', '2018-05-07 13:56:21', 3, 8)
  [1m[36mFixture Insert (0.3ms)[0m  [1mINSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:56:21', '2018-05-07 13:56:21', 4, 9)[0m
  [1m[35mFixture Insert (0.2ms)[0m  INSERT INTO `directors_movies` (`created_at`, `updated_at`, `director_id`, `movie_id`) VALUES ('2018-05-07 13:56:21', '2018-05-07 13:56:21', 5, 10)
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM `orders`[0m
  [1m[35mFixture Insert (0.5ms)[0m  INSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:56:21', '2018-05-07 11:56:21', 980190962)
  [1m[36mFixture Insert (0.4ms)[0m  [1mINSERT INTO `orders` (`created_at`, `updated_at`, `id`) VALUES ('2018-05-07 11:56:21', '2018-05-07 11:56:21', 298486374)[0m
  [1m[35m (79.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSET FOREIGN_KEY_CHECKS = 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------
MovieTest: test_create
----------------------
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT `directors`.* FROM `directors`
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12425' LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Ruby on Rails', 1, '2018-05-07 11:56:21', '12425', 'A great movie', 375, 45.5, '2018-05-07 11:56:21', '2018-05-07 11:56:21')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 39, '2018-05-07 11:56:21', '2018-05-07 11:56:21')[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 39, '2018-05-07 11:56:21', '2018-05-07 11:56:21')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (3, 39, '2018-05-07 11:56:21', '2018-05-07 11:56:21')[0m
  [1m[35mSQL (79.4ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (4, 39, '2018-05-07 11:56:22', '2018-05-07 11:56:22')
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (5, 39, '2018-05-07 11:56:22', '2018-05-07 11:56:22')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (38.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
------------------------------
MovieTest: test_failing_create
------------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mMovie Exists (0.6ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` IS NULL LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
--------------------------------------------------------------
MovieTest: test_has_many_and_belongs_to_many_directors_mapping
--------------------------------------------------------------
  [1m[35mDirector Load (0.9ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '65321' LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', 1, '2018-05-07 11:56:22', '65321', 'E-Commerce on Rails', 400, 55.5, '2018-05-07 11:56:22', '2018-05-07 11:56:22')
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 40, '2018-05-07 11:56:22', '2018-05-07 11:56:22')[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 40, '2018-05-07 11:56:22', '2018-05-07 11:56:22')
  [1m[36m (1.5ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 40 LIMIT 1
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 40[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies` INNER JOIN `directors_movies` ON `movies`.`id` = `directors_movies`.`movie_id` WHERE `directors_movies`.`director_id` = 1[0m
  [1m[35m (39.7ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-----------------------------------------------
MovieTest: test_has_many_and_belongs_to_mapping
-----------------------------------------------
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`name` = 'Apress' LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Joel' AND `directors`.`last_name` = 'Spolsky' LIMIT 1
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`first_name` = 'Jeremy' AND `directors`.`last_name` = 'Keith' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mMovie Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '12134' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `movies` (`title`, `produced_at`, `serial_number`, `blurb`, `length`, `price`, `producer_id`, `created_at`, `updated_at`) VALUES ('Pro Rails E-Commerce 8th Edition', '2018-05-07 11:56:22', '12134', 'E-Commerce on Rails', 400, 55.5, 1, '2018-05-07 11:56:22', '2018-05-07 11:56:22')
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (1, 41, '2018-05-07 11:56:22', '2018-05-07 11:56:22')[0m
  [1m[35mSQL (1.7ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (2, 41, '2018-05-07 11:56:22', '2018-05-07 11:56:22')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mMovie Load (0.5ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 41 LIMIT 1[0m
  [1m[35m (1.9ms)[0m  SELECT COUNT(*) FROM `movies` WHERE `movies`.`producer_id` = 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (39.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::ProducerControllerTest: test_new
---------------------------------------
Processing by Admin::ProducerController#new as HTML
  Rendered admin/producer/_form.html.erb (5.6ms)
  Rendered admin/producer/new.html.erb within layouts/application (17.4ms)
Completed 200 OK in 755ms (Views: 754.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::ProducerControllerTest: test_show
----------------------------------------
Processing by Admin::ProducerController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  Rendered admin/producer/show.html.erb within layouts/application (2.3ms)
Completed 200 OK in 9ms (Views: 6.8ms | ActiveRecord: 0.6ms)
  [1m[36mProducer Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress' AND `producers`.`id` != 1) LIMIT 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
-------------------------------------------
Admin::ProducerControllerTest: test_destroy
-------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
Processing by Admin::ProducerController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mProducer Load (0.7ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.3ms)[0m  DELETE FROM `producers` WHERE `producers`.`id` = 1
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/producer
Completed 302 Found in 8ms (ActiveRecord: 2.6ms)
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (3.7ms)
  Rendered admin/producer/index.html.erb within layouts/application (8.7ms)
Completed 200 OK in 14ms (Views: 12.6ms | ActiveRecord: 0.6ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (57.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-----------------------------------------
Admin::ProducerControllerTest: test_index
-----------------------------------------
Processing by Admin::ProducerController#index as HTML
  [1m[35mProducer Load (0.9ms)[0m  SELECT `producers`.* FROM `producers`
  Rendered admin/producer/_producer.html.erb (4.3ms)
  Rendered admin/producer/index.html.erb within layouts/application (7.6ms)
Completed 200 OK in 12ms (Views: 10.1ms | ActiveRecord: 0.9ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1000
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------------
Admin::ProducerControllerTest: test_edit
----------------------------------------
Processing by Admin::ProducerController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  Rendered admin/producer/_form.html.erb (0.4ms)
  Rendered admin/producer/edit.html.erb within layouts/application (4.0ms)
Completed 200 OK in 10ms (Views: 8.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_create
------------------------------------------
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `producers`
Processing by Admin::ProducerController#create as HTML
  Parameters: {"producer"=>{"name"=>"The Monopoly Publishing Company"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.5ms)[0m  SELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'The Monopoly Publishing Company' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('The Monopoly Publishing Company', '2018-05-07 11:56:23', '2018-05-07 11:56:23')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer
Completed 302 Found in 9ms (ActiveRecord: 1.6ms)
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `producers`[0m
  [1m[35m (127.0ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::ProducerControllerTest: test_update
------------------------------------------
Processing by Admin::ProducerController#update as HTML
  Parameters: {"id"=>"1", "producer"=>{"name"=>"Apress.com"}}
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mProducer Exists (0.9ms)[0m  SELECT  1 AS one FROM `producers` WHERE (`producers`.`name` = BINARY 'Apress.com' AND `producers`.`id` != 1) LIMIT 1
  [1m[36mSQL (1.2ms)[0m  [1mUPDATE `producers` SET `name` = 'Apress.com', `updated_at` = '2018-05-07 11:56:23' WHERE `producers`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/producer/show/1
Completed 302 Found in 17ms (ActiveRecord: 3.4ms)
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35m (40.5ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
----------------------------
CartControllerTest: test_add
----------------------------
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `cart_items`
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-05-07 11:56:23', '2018-05-07 11:56:23')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190991 AND `cart_items`.`movie_id` = 4
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190991, '2018-05-07 11:56:23', '2018-05-07 11:56:23')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 55ms (ActiveRecord: 6.0ms)
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `cart_items`[0m
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190991 LIMIT 1
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190991[0m
  [1m[35m (80.6ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------
CartControllerTest: test_clear
------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-05-07 11:56:23', '2018-05-07 11:56:23')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (1.4ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190992 AND `cart_items`.`movie_id` = 4[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190992, '2018-05-07 11:56:23', '2018-05-07 11:56:23')[0m
  [1m[35m (0.7ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (1.4ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 29ms (ActiveRecord: 7.9ms)
Processing by CartController#add as HTML
  Parameters: {"id"=>"3"}
  [1m[35mCart Load (1.7ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190992 LIMIT 1
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190992 AND `cart_items`.`movie_id` = 3[0m
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (3, 1, 85.0, 980190992, '2018-05-07 11:56:23', '2018-05-07 11:56:23')[0m
  [1m[35m (1.7ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.7ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 24ms (ActiveRecord: 7.8ms)
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mMovie Load (0.5ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 3 LIMIT 1[0m
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190992 LIMIT 1
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190992[0m
Processing by CartController#clear as HTML
  [1m[35mCart Load (0.6ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190992 LIMIT 1
  [1m[36mCartItem Load (0.6ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190992[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190992[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190993
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/
Completed 302 Found in 10ms (ActiveRecord: 2.4ms)
  [1m[35mCart Load (0.5ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190992 LIMIT 1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190992[0m
  [1m[35m (57.4ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
-------------------------------
CartControllerTest: test_remove
-------------------------------
Processing by CartController#add as HTML
  Parameters: {"id"=>"4"}
  [1m[35m (0.5ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-05-07 11:56:24', '2018-05-07 11:56:24')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190993 AND `cart_items`.`movie_id` = 4[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `cart_items` (`movie_id`, `amount`, `price`, `cart_id`, `created_at`, `updated_at`) VALUES (4, 1, 105.0, 980190993, '2018-05-07 11:56:24', '2018-05-07 11:56:24')[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1[0m
Redirected to http://test.host/
Completed 302 Found in 24ms (ActiveRecord: 4.8ms)
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190993 LIMIT 1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190993
Processing by CartController#remove as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190993 LIMIT 1[0m
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
  [1m[36mCartItem Load (0.9ms)[0m  [1mSELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190993 AND `cart_items`.`movie_id` = 4  ORDER BY `cart_items`.`id` ASC LIMIT 1[0m
  [1m[35mCartItem Load (0.7ms)[0m  SELECT  `cart_items`.* FROM `cart_items` WHERE `cart_items`.`id` = 980190994 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  DELETE FROM `cart_items` WHERE `cart_items`.`id` = 980190994
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 4 LIMIT 1
Redirected to http://test.host/
Completed 302 Found in 16ms (ActiveRecord: 4.3ms)
  [1m[36mCart Load (0.6ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190993 LIMIT 1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT `movies`.* FROM `movies` INNER JOIN `cart_items` ON `movies`.`id` = `cart_items`.`movie_id` WHERE `cart_items`.`cart_id` = 980190993
  [1m[36m (48.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------------
BrowsingAndSearchingTest: test_browse
-------------------------------------
Started GET "/catalog/index" for 127.0.0.1 at 2018-05-07 13:56:24 +0200
Processing by CatalogController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO `carts` (`created_at`, `updated_at`) VALUES ('2018-05-07 11:56:24', '2018-05-07 11:56:24')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 0
  [1m[36mHABTM_Directors Load (0.9ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mDirector Load (1.1ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)
  [1m[36mProducer Load (1.1ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)[0m
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `movies`
  Rendered catalog/_movies.html.erb (65.8ms)
  Rendered catalog/index.html.erb within layouts/application (70.1ms)
  [1m[36mCartItem Load (0.8ms)[0m  [1mSELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190994[0m
  Rendered cart/_cart.html.erb (6.7ms)
Completed 200 OK in 121ms (Views: 88.4ms | ActiveRecord: 6.5ms)
Started GET "/catalog/index?page=2" for 127.0.0.1 at 2018-05-07 13:56:24 +0200
Processing by CatalogController#index as HTML
  Parameters: {"page"=>"2"}
  [1m[35mCart Load (1.0ms)[0m  SELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190994 LIMIT 1
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5 OFFSET 5[0m
  [1m[35mHABTM_Directors Load (1.0ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (5, 4, 3, 2, 1)
  [1m[36mDirector Load (0.7ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (2, 1)[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (1)
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  Rendered catalog/_movies.html.erb (34.5ms)
  Rendered catalog/index.html.erb within layouts/application (35.9ms)
  [1m[35mCartItem Load (0.6ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190994
  Rendered cart/_cart.html.erb (3.1ms)
Completed 200 OK in 47ms (Views: 38.5ms | ActiveRecord: 5.2ms)
  [1m[36mMovie Load (0.6ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pro Rails E-Commerce' LIMIT 1[0m
  [1m[35mMovie Load (0.8ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'Pride and Prejudice'  ORDER BY `movies`.`id` ASC LIMIT 1
Started GET "/catalog/show/9" for 127.0.0.1 at 2018-05-07 13:56:24 +0200
Processing by CatalogController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 9 LIMIT 1[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9
  [1m[36mProducer Load (0.9ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 2 LIMIT 1[0m
  Rendered catalog/show.html.erb within layouts/application (12.2ms)
Completed 200 OK in 20ms (Views: 15.4ms | ActiveRecord: 2.6ms)
  [1m[35mDirector Load (1.0ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 9
Started GET "/catalog/latest" for 127.0.0.1 at 2018-05-07 13:56:24 +0200
Processing by CatalogController#latest as HTML
  [1m[36mCart Load (0.7ms)[0m  [1mSELECT  `carts`.* FROM `carts` WHERE `carts`.`id` = 980190994 LIMIT 1[0m
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5
  [1m[36mHABTM_Directors Load (0.9ms)[0m  [1mSELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)
  [1m[36mProducer Load (0.8ms)[0m  [1mSELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)[0m
  Rendered catalog/_movies.html.erb (33.2ms)
  Rendered catalog/latest.html.erb within layouts/application (35.1ms)
  [1m[35mCartItem Load (0.6ms)[0m  SELECT `cart_items`.* FROM `cart_items` WHERE `cart_items`.`cart_id` = 980190994
  Rendered cart/_cart.html.erb (3.1ms)
Completed 200 OK in 48ms (Views: 40.9ms | ActiveRecord: 4.7ms)
  [1m[36mMovie Load (1.0ms)[0m  [1mSELECT  `movies`.* FROM `movies`  ORDER BY movies.id desc LIMIT 5[0m
  [1m[35mHABTM_Directors Load (0.8ms)[0m  SELECT `directors_movies`.* FROM `directors_movies` WHERE `directors_movies`.`movie_id` IN (10, 9, 8, 7, 6)
  [1m[36mDirector Load (1.0ms)[0m  [1mSELECT `directors`.* FROM `directors` WHERE `directors`.`id` IN (5, 4, 3, 2)[0m
  [1m[35mProducer Load (0.9ms)[0m  SELECT `producers`.* FROM `producers` WHERE `producers`.`id` IN (2, 1)
  [1m[36m (42.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
-------------------------------
AboutControllerTest: test_index
-------------------------------
Processing by AboutController#index as HTML
  Rendered about/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 14ms (Views: 13.6ms | ActiveRecord: 0.0ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
----------------------------
DirectorTest: test_test_name
----------------------------
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joseph', 'Smith', '2018-05-07 11:56:24', '2018-05-07 11:56:24')
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (44.8ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_show
----------------------------------------
Processing by Admin::DirectorController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/show.html.erb within layouts/application (2.4ms)
Completed 200 OK in 19ms (Views: 15.4ms | ActiveRecord: 0.6ms)
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
----------------------------------------
Admin::DirectorControllerTest: test_edit
----------------------------------------
Processing by Admin::DirectorController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  Rendered admin/director/_form.html.erb (2.1ms)
  Rendered admin/director/edit.html.erb within layouts/application (7.1ms)
Completed 200 OK in 14ms (Views: 11.8ms | ActiveRecord: 0.6ms)
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
-----------------------------------------
Admin::DirectorControllerTest: test_index
-----------------------------------------
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (9.1ms)
  Rendered admin/director/index.html.erb within layouts/application (14.1ms)
Completed 200 OK in 19ms (Views: 18.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1000[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
---------------------------------------
Admin::DirectorControllerTest: test_new
---------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (0.8ms)
  Rendered admin/director/new.html.erb within layouts/application (4.1ms)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
------------------------------------------
Admin::DirectorControllerTest: test_create
------------------------------------------
Processing by Admin::DirectorController#new as HTML
  Rendered admin/director/_form.html.erb (1.0ms)
  Rendered admin/director/new.html.erb within layouts/application (3.3ms)
Completed 200 OK in 8ms (Views: 7.8ms | ActiveRecord: 0.0ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `directors`
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel", "last_name"=>"Spolsky"}}
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('Joel', 'Spolsky', '2018-05-07 11:56:24', '2018-05-07 11:56:24')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/admin/director
Completed 302 Found in 8ms (Views: 7.8ms | ActiveRecord: 1.1ms)
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (125.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
------------------------------------------
Admin::DirectorControllerTest: test_update
------------------------------------------
Processing by Admin::DirectorController#update as HTML
  Parameters: {"id"=>"1", "director"=>{"first_name"=>"Joseph", "last_name"=>"Smith"}}
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mUPDATE `directors` SET `first_name` = 'Joseph', `last_name` = 'Smith', `updated_at` = '2018-05-07 11:56:25' WHERE `directors`.`id` = 1[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director/show?id=1
Completed 302 Found in 11ms (ActiveRecord: 2.1ms)
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1[0m
  [1m[35mDirector Load (0.4ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (45.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
--------------------------------------------------
Admin::DirectorControllerTest: test_failing_create
--------------------------------------------------
  [1m[36m (0.9ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#create as HTML
  Parameters: {"director"=>{"first_name"=>"Joel"}}
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendered admin/director/_form.html.erb (4.8ms)
  Rendered admin/director/new.html.erb within layouts/application (6.3ms)
Completed 200 OK in 16ms (Views: 9.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
------------------------------------------------
Admin::DirectorControllerTest: test_test_destroy
------------------------------------------------
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM `directors`[0m
Processing by Admin::DirectorController#destroy as HTML
  Parameters: {"id"=>"1"}
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 1 LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `directors_movies` WHERE `directors_movies`.`director_id` = 1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM `directors` WHERE `directors`.`id` = 1[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
Redirected to http://test.host/admin/director
Completed 302 Found in 9ms (ActiveRecord: 2.5ms)
Processing by Admin::DirectorController#index as HTML
  [1m[36mDirector Load (0.8ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/director/_director.html.erb (6.7ms)
  Rendered admin/director/index.html.erb within layouts/application (10.3ms)
Completed 200 OK in 15ms (Views: 13.5ms | ActiveRecord: 0.8ms)
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM `directors`
  [1m[36m (41.6ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
---------------------------
OrderTest: test_validations
---------------------------
  [1m[36m (0.6ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
----------------------------------
OrderTest: test_create_valid_order
----------------------------------
  [1m[36m (0.3ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO `orders` (`email`, `phone_number`, `ship_to_first_name`, `ship_to_last_name`, `ship_to_address`, `ship_to_city`, `ship_to_postal_code`, `ship_to_country_code`, `customer_ip`, `status`, `created_at`, `updated_at`) VALUES ('email@email.com', '666112233', 'Firstname', 'Lastname', 'Address', 'City', '00000', 'ES', '127.0.0.1', 'open', '2018-05-07 11:56:25', '2018-05-07 11:56:25')
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `order_items` (`movie_id`, `price`, `amount`, `order_id`, `created_at`, `updated_at`) VALUES (1, 155.25, 3, 980190976, '2018-05-07 11:56:25', '2018-05-07 11:56:25')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  UPDATE `orders` SET `status` = 'failed', `error_message` = 'Your order has been received. Thank you for your business!', `updated_at` = '2018-05-07 11:56:26' WHERE `orders`.`id` = 980190976
  [1m[36m (1.6ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (60.8ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
-------------------------------------------------
MovieAdministrationTest: test_movie_aministration
-------------------------------------------------
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM `producers` WHERE `producers`.`name` = BINARY 'Movies of Ruby' LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO `producers` (`name`, `created_at`, `updated_at`) VALUES ('Movies of Ruby', '2018-05-07 11:56:26', '2018-05-07 11:56:26')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO `directors` (`first_name`, `last_name`, `created_at`, `updated_at`) VALUES ('John', 'Anderson', '2018-05-07 11:56:26', '2018-05-07 11:56:26')[0m
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mDirector Load (0.6ms)[0m  [1mSELECT  `directors`.* FROM `directors`  ORDER BY `directors`.`id` ASC LIMIT 1[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers`  ORDER BY `producers`.`id` ASC LIMIT 1
Started GET "/admin/movie/new" for 127.0.0.1 at 2018-05-07 13:56:26 +0200
Processing by Admin::MovieController#new as HTML
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.8ms)[0m  SELECT `directors`.* FROM `directors`
  Rendered admin/movie/_form.html.erb (31.5ms)
  Rendered admin/movie/new.html.erb within layouts/application (36.0ms)
Completed 200 OK in 50ms (Views: 47.5ms | ActiveRecord: 1.4ms)
Started POST "/admin/movie/create" for 127.0.0.1 at 2018-05-07 13:56:26 +0200
Processing by Admin::MovieController#create as HTML
  Parameters: {"movie"=>{"title"=>"A new Movie of Ruby", "producer_id"=>"18", "director_ids"=>["29"], "produced_at"=>"2018-05-07 13:56:26 +0200", "serial_number"=>"64214", "blurb"=>"A new Movie of Ruby", "length"=>"325", "price"=>"45.5"}}
  [1m[36mDirector Load (1.0ms)[0m  [1mSELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 29 LIMIT 1[0m
  [1m[35m (0.4ms)[0m  SAVEPOINT active_record_1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 18 LIMIT 1[0m
  [1m[35mMovie Exists (0.9ms)[0m  SELECT  1 AS one FROM `movies` WHERE `movies`.`serial_number` = BINARY '64214' LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO `movies` (`title`, `producer_id`, `produced_at`, `serial_number`, `blurb`, `price`, `length`, `created_at`, `updated_at`) VALUES ('A new Movie of Ruby', 18, '2018-05-07 11:56:26', '64214', 'A new Movie of Ruby', 45.5, 325, '2018-05-07 11:56:26', '2018-05-07 11:56:26')[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO `directors_movies` (`director_id`, `movie_id`, `created_at`, `updated_at`) VALUES (29, 42, '2018-05-07 11:56:26', '2018-05-07 11:56:26')
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 36ms (ActiveRecord: 4.5ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-05-07 13:56:26 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.5ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (27.3ms)
Completed 200 OK in 34ms (Views: 30.0ms | ActiveRecord: 2.3ms)
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-05-07 13:56:26 +0200
Processing by Admin::MovieController#index as HTML
  [1m[36mMovie Load (1.1ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0[0m
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `movies`
  [1m[36mProducer Load (0.5ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (25.6ms)
Completed 200 OK in 31ms (Views: 26.4ms | ActiveRecord: 2.8ms)
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM `movies`
Started GET "/admin/movie/index/?page=3" for 127.0.0.1 at 2018-05-07 13:56:26 +0200
Processing by Admin::MovieController#index as HTML
  Parameters: {"page"=>"3"}
  [1m[36mMovie Load (1.0ms)[0m  [1mSELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 10[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 18 LIMIT 1
  Rendered admin/movie/index.html.erb within layouts/application (8.9ms)
Completed 200 OK in 14ms (Views: 11.2ms | ActiveRecord: 1.8ms)
  [1m[36mMovie Load (1.0ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`title` = 'A new Movie of Ruby' LIMIT 1[0m
Started GET "/admin/movie/index" for 127.0.0.1 at 2018-05-07 13:56:26 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (50.3ms)
Completed 200 OK in 58ms (Views: 53.9ms | ActiveRecord: 2.6ms)
Started GET "/admin/movie/show/42" for 127.0.0.1 at 2018-05-07 13:56:26 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"42"}
  [1m[36mMovie Load (0.9ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 42 LIMIT 1[0m
  [1m[35mProducer Load (0.6ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 18 LIMIT 1
  [1m[36mDirector Load (1.1ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 42[0m
  Rendered admin/movie/show.html.erb within layouts/application (14.7ms)
Completed 200 OK in 25ms (Views: 20.3ms | ActiveRecord: 2.6ms)
Started GET "/admin/movie/edit?id=42" for 127.0.0.1 at 2018-05-07 13:56:26 +0200
Processing by Admin::MovieController#edit as HTML
  Parameters: {"id"=>"42"}
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 42 LIMIT 1
  [1m[36mProducer Load (0.7ms)[0m  [1mSELECT `producers`.* FROM `producers`[0m
  [1m[35mDirector Load (0.9ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 42
  [1m[36mDirector Load (0.4ms)[0m  [1mSELECT `directors`.* FROM `directors`[0m
  Rendered admin/movie/_form.html.erb (26.3ms)
  Rendered admin/movie/edit.html.erb within layouts/application (31.2ms)
Completed 200 OK in 42ms (Views: 36.5ms | ActiveRecord: 2.9ms)
Started POST "/admin/movie/update?id=42" for 127.0.0.1 at 2018-05-07 13:56:26 +0200
Processing by Admin::MovieController#update as HTML
  Parameters: {"movie"=>{"title"=>"A very new Movie of Ruby", "producer_id"=>"18", "director_ids"=>["29"], "produced_at"=>"2018-05-07 13:56:26 +0200", "serial_number"=>"43214", "blurb"=>"A very new Movie of Ruby", "length"=>"350", "price"=>"50"}, "id"=>"42"}
  [1m[35mMovie Load (0.9ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 42 LIMIT 1
  [1m[36m (0.4ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mDirector Load (0.6ms)[0m  SELECT  `directors`.* FROM `directors` WHERE `directors`.`id` = 29 LIMIT 1
  [1m[36mDirector Load (1.3ms)[0m  [1mSELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 42[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 18 LIMIT 1
  [1m[36mMovie Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM `movies` WHERE (`movies`.`serial_number` = BINARY '43214' AND `movies`.`id` != 42) LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  UPDATE `movies` SET `title` = 'A very new Movie of Ruby', `serial_number` = '43214', `blurb` = 'A very new Movie of Ruby', `price` = 50.0, `length` = 350, `updated_at` = '2018-05-07 11:56:26' WHERE `movies`.`id` = 42
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/movie/show/42
Completed 302 Found in 35ms (ActiveRecord: 6.0ms)
Started GET "/admin/movie/show/42" for 127.0.0.1 at 2018-05-07 13:56:26 +0200
Processing by Admin::MovieController#show as HTML
  Parameters: {"id"=>"42"}
  [1m[35mMovie Load (0.7ms)[0m  SELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 42 LIMIT 1
  [1m[36mProducer Load (0.6ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 18 LIMIT 1[0m
  [1m[35mDirector Load (1.1ms)[0m  SELECT `directors`.* FROM `directors` INNER JOIN `directors_movies` ON `directors`.`id` = `directors_movies`.`director_id` WHERE `directors_movies`.`movie_id` = 42
  Rendered admin/movie/show.html.erb within layouts/application (11.4ms)
Completed 200 OK in 22ms (Views: 16.7ms | ActiveRecord: 2.4ms)
Started POST "/admin/movie/destroy?id=42" for 127.0.0.1 at 2018-05-07 13:56:27 +0200
Processing by Admin::MovieController#destroy as HTML
  Parameters: {"id"=>"42"}
  [1m[36mMovie Load (0.8ms)[0m  [1mSELECT  `movies`.* FROM `movies` WHERE `movies`.`id` = 42 LIMIT 1[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.8ms)[0m  [1mDELETE FROM `directors_movies` WHERE `directors_movies`.`movie_id` = 42[0m
  [1m[35mSQL (0.7ms)[0m  DELETE FROM `movies` WHERE `movies`.`id` = 42
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://www.example.com/admin/movie
Completed 302 Found in 12ms (ActiveRecord: 2.8ms)
Started GET "/admin/movie" for 127.0.0.1 at 2018-05-07 13:56:27 +0200
Processing by Admin::MovieController#index as HTML
  [1m[35mMovie Load (0.6ms)[0m  SELECT  `movies`.* FROM `movies` LIMIT 5 OFFSET 0
  [1m[36m (0.7ms)[0m  [1mSELECT COUNT(*) FROM `movies`[0m
  [1m[35mProducer Load (0.8ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.0ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  [1m[36mCACHE (0.1ms)[0m  [1mSELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1[0m  [["id", 1]]
  [1m[35mCACHE (0.1ms)[0m  SELECT  `producers`.* FROM `producers` WHERE `producers`.`id` = 1 LIMIT 1  [["id", 1]]
  Rendered admin/movie/index.html.erb within layouts/application (37.6ms)
Completed 200 OK in 45ms (Views: 40.8ms | ActiveRecord: 2.3ms)
  [1m[36m (42.5ms)[0m  [1mROLLBACK[0m
